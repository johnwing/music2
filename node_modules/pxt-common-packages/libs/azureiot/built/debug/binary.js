// total=539158 new=94.36% cached=0.00% other=5.64%
(function (ectx) {
'use strict';
const runtime = ectx.runtime;
const oops = ectx.oops;
const doNothing = ectx.doNothing;
const pxsim = ectx.pxsim;
const globals = ectx.globals;
const maybeYield = ectx.maybeYield;
const setupDebugger = ectx.setupDebugger;
const isBreakFrame = ectx.isBreakFrame;
const breakpoint = ectx.breakpoint;
const trace = ectx.trace;
const checkStack = ectx.checkStack;
const leave = ectx.leave;
const checkResumeConsumed = ectx.checkResumeConsumed;
const setupResume = ectx.setupResume;
const setupLambda = ectx.setupLambda;
const checkSubtype = ectx.checkSubtype;
const failedCast = ectx.failedCast;
const buildResume = ectx.buildResume;
const mkVTable = ectx.mkVTable;
const __this = runtime;
const pxtrt = pxsim.pxtrt;
let yieldSteps = 1;
ectx.setupYield(function() { yieldSteps = 100; })
pxsim.setTitle("azureiot");
pxsim.setConfigData({}, {});
pxtrt.mapKeyNames = [
 "",
 "_buffer",
 "_busy",
 "_closeHandler",
 "_closed",
 "_controller",
 "_cs",
 "_errorHandler",
 "_gpio0",
 "_locked",
 "_messageHandler",
 "_openHandler",
 "_reset",
 "_sendCommand",
 "_socknum",
 "_socknum_ll",
 "_spi",
 "_timeout",
 "_waitResponseCmd",
 "buf",
 "cancel",
 "checkData",
 "checkKw",
 "clientId",
 "close",
 "condition",
 "connect",
 "connectAP",
 "connected",
 "conntype",
 "content",
 "controller",
 "createSocket",
 "currIndent",
 "delay",
 "deltaTimeMillis",
 "describe",
 "disconnect",
 "displayedValue",
 "doArray",
 "doNumber",
 "doObject",
 "doString",
 "eid",
 "emit",
 "encryption",
 "error",
 "errorMsg",
 "factory",
 "flags",
 "frameCallbacks",
 "frameWorker",
 "framesInSample",
 "func",
 "getScanNetworks",
 "go",
 "handleMessage",
 "handler",
 "handlers",
 "host",
 "hostbyName",
 "id",
 "idleCallbacks",
 "indent",
 "indentStep",
 "isConnected",
 "key",
 "lock",
 "log",
 "logPriority",
 "message",
 "mode",
 "mqttHandlers",
 "net",
 "nextChar",
 "on",
 "onClose",
 "onError",
 "onMessage",
 "onOpen",
 "once",
 "opt",
 "password",
 "piId",
 "pid",
 "ping",
 "port",
 "prevTimeMillis",
 "ptr",
 "publish",
 "qos",
 "read",
 "readByte",
 "readSecret",
 "readSecrets",
 "register",
 "registerHandler",
 "reset",
 "retain",
 "rssi",
 "runningCallbacks",
 "s",
 "scanNetworks",
 "sct",
 "send",
 "sendCommandGetResponse",
 "setTimeout",
 "skipWS",
 "socket",
 "socketAvailable",
 "socketClose",
 "socketConnect",
 "socketOpen",
 "socketRead",
 "socketStatus",
 "socketWrite",
 "socket_connected",
 "spiTransfer",
 "src",
 "ssid",
 "start",
 "startScanNetworks",
 "status",
 "subscribe",
 "timeInSample",
 "timeOut",
 "topic",
 "type",
 "unlock",
 "username",
 "value",
 "vid",
 "waitForReady",
 "waitSPIChar",
 "wasConnected",
 "wdId",
 "wifiSetNetwork",
 "wifiSetPassphrase",
 "will",
 "work"
];
__this.setupPerfCounters([]);
const pxsim_Array__getAt = pxsim.Array_.getAt;
const pxsim_Array__length = pxsim.Array_.length;
const pxsim_Array__mk = pxsim.Array_.mk;
const pxsim_Array__push = pxsim.Array_.push;
const pxsim_Boolean__bang = pxsim.Boolean_.bang;
const pxsim_String__concat = pxsim.String_.concat;
const pxsim_String__stringConv = pxsim.String_.stringConv;
const pxsim_numops_toBool = pxsim.numops.toBool;
const pxsim_numops_toBoolDecr = pxsim.numops.toBoolDecr;
const pxsim_pxtcore_mkAction = pxsim.pxtcore.mkAction;
const pxsim_pxtcore_mkClassInstance = pxsim.pxtcore.mkClassInstance;
const pxsim_pxtrt_ldlocRef = pxsim.pxtrt.ldlocRef;
const pxsim_pxtrt_mapGetByString = pxsim.pxtrt.mapGetByString;
const pxsim_pxtrt_stclo = pxsim.pxtrt.stclo;
const pxsim_pxtrt_stlocRef = pxsim.pxtrt.stlocRef;
const pxsim_Boolean_ = pxsim.Boolean_;
const pxsim_pxtcore = pxsim.pxtcore;
const pxsim_String_ = pxsim.String_;
const pxsim_ImageMethods = pxsim.ImageMethods;
const pxsim_Array_ = pxsim.Array_;
const pxsim_pxtrt = pxsim.pxtrt;
const pxsim_numops = pxsim.numops;


function _main___P165365(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    r0 = (0.5 * 256);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 | 0);
    globals.oneHalfFx8___165461 = (r0);
    globals._pollEventQueue___165569 = (undefined);
    globals._intervals___165576 = (undefined);
    globals.minPriority___165590 = (1);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, inline__P165591);
    globals.listeners___165592 = (s.tmp_0);
    globals.RUN_KEY___165752 = ("#run");
    globals.SCOPE_KEY___165753 = ("#scope");
    globals.DEVICE_SECRETS_KEY___165754 = ("#secrets");
    globals.SECRETS_KEY___165755 = ("__secrets");
    s.tmp_0 = settings_initScopes__P165765_mk(s);
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkClassInstance(settings_SecretStore__C165782_VT);
    s.tmp_0 = r0;
    s.tmp_1 = settings_SecretStore_constructor__P165788_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = globals.DEVICE_SECRETS_KEY___165754;
    s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    globals.deviceSecrets___165790 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(settings_SecretStore__C165782_VT);
    s.tmp_0 = r0;
    s.tmp_1 = settings_SecretStore_constructor__P165788_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = globals.SECRETS_KEY___165755;
    s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    globals.programSecrets___165792 = (s.tmp_0);
    globals.logPriority___165836 = (-1);
    globals.AP_SECRETS_KEY___165852 = ("wifi");
    r0 = pxsim_pxtcore_mkClassInstance(net_Net__C165844_VT);
    s.tmp_0 = r0;
    s.tmp_1 = net_Net_constructor__P165849_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = esp32_defaultController__P165878;
    s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    globals.SECRETS_KEY___166098 = ("azureiot");
    globals.logPriority___166101 = (4);
    s.tmp_0 = test__P166122_mk(s);
    s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
_main___P165365.info = {"start":0,"length":0,"line":0,"column":0,"endLine":0,"endColumn":0,"fileName":"test.ts","functionName":"<main>","argumentNames":[]}
_main___P165365.continuations = [  ]

function _main___P165365_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: _main___P165365, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function test__P166122(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.log___166124 = undefined;
    s.esp___166126 = undefined;
    s.log___166124 = (console_log__P165597);
    s.tmp_0 = net_Net_controller__P165845_mk(s);
    r0 = globals.net_Net_instance___165850;
    s.tmp_0.arg0 = r0;
    s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.esp___166126 = (r0);
    s.tmp_3 = lambda_1_mk(s);
    s.tmp_4 = if_connect_1_mk(s);
    s.tmp_4.arg0 = s.esp___166126;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "connect");
    } else {
    s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["connect"];
    if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["connect"]; }
    else { s.pc = 6; return s.tmp_4; }
    }
  case 6:
    r0 = s.retval;
    s.tmp_3.argL = r0;
    setupLambda(s.tmp_3, s.tmp_3.argL);
    s.pc = 5; return s.tmp_3;
  case 5:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_5 = lambda_2_mk(s);
    s.tmp_5.argL = s.log___166124;
    s.tmp_5.arg0 = "can't connect";
    setupLambda(s.tmp_5, s.tmp_5.argL);
    s.pc = 7; return s.tmp_5;
  case 7:
    r0 = s.retval;
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = s.log___166124;
    s.tmp_3 = lambda_2_mk(s);
    s.tmp_4 = if_ping_1_mk(s);
    s.tmp_4.arg0 = s.esp___166126;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "ping");
    } else {
    s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["ping"];
    if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["ping"]; }
    else { s.pc = 10; return s.tmp_4; }
    }
  case 10:
    r0 = s.retval;
    s.tmp_3.argL = r0;
    s.tmp_3.arg0 = "bing.com";
    setupLambda(s.tmp_3, s.tmp_3.argL);
    s.pc = 9; return s.tmp_3;
  case 9:
    r0 = s.retval;
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 11);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 11:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("ping: ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.tmp_0 = azureiot_connect__P166113_mk(s);
    s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = s.log___166124;
    s.tmp_0.arg0 = "mqtt connected";
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P166150);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.log___166124);
    s.tmp_1 = azureiot_onMessageReceived__P166117_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.pc = 14; return s.tmp_1;
  case 14:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P166162);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.log___166124);
    s.tmp_1 = azureiot_onMethod__P166121_mk(s);
    s.tmp_1.arg0 = "echo";
    s.tmp_1.arg1 = s.tmp_0;
    s.pc = 15; return s.tmp_1;
  case 15:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
test__P166122.info = {"start":0,"length":488,"line":0,"column":0,"endLine":24,"endColumn":1,"fileName":"test.ts","functionName":"test","argumentNames":[]}

function test__P166122_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: test__P166122, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  log___166124: undefined,
  esp___166126: undefined,
} }





function inline__P166150(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = s.caps[0];
    s.tmp_3 = JSON_stringify__P165616_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = null;
    s.tmp_3.arg2 = 0;
    s.pc = 2; return s.tmp_3;
  case 2:
    r0 = s.retval;
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("MSG:", s.tmp_1);
    s.tmp_0.arg0 = r0;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P166150.info = {"start":294,"length":58,"line":15,"column":31,"endLine":17,"endColumn":5,"fileName":"test.ts","functionName":"inline","argumentNames":["msg"]}

function inline__P166150_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P166150, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function inline__P166162(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = s.caps[0];
    s.tmp_3 = if_displayedValue_1_mk(s);
    s.tmp_3.arg0 = s.arg0;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "displayedValue");
    } else {
    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["displayedValue"];
    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["displayedValue"]; }
    else { s.pc = 2; return s.tmp_3; }
    }
  case 2:
    r0 = s.retval;
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("ECHO ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = if_type_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "echo";
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, "type", s.tmp_0.arg1);
    } else {
    s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["set/type"];
    if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields["type"] = s.tmp_0.arg1; }
    else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) }
    else { s.pc = 4; return s.tmp_0; }
    }
  case 4:
    r0 = s.retval;
    r0 = pxsim_pxtrt.mkMap();
    return leave(s, r0)
  default: oops()
} } }
inline__P166162.info = {"start":385,"length":100,"line":19,"column":30,"endLine":23,"endColumn":5,"fileName":"test.ts","functionName":"inline","argumentNames":["msg"]}

function inline__P166162_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P166162, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function azureiot_onMethod__P166121(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.c___166178 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = azureiot_mqttClient__P166107_mk(s);
    s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.c___166178 = (r0);
    r0 = pxsim_numops_toBoolDecr(globals._methodHandlers___166105);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.c___166178.fields["connected"];
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 1; continue; }
    s.tmp_5 = control_fail__P165560_mk(s);
    s.tmp_5.arg0 = "not connected";
    s.pc = 6; return s.tmp_5;
  case 6:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = pxsim_pxtrt.mkMap();
    globals._methodHandlers___166105 = (r0);
    s.tmp_0 = mqtt_Client_subscribe__P166093_mk(s);
    s.tmp_0.arg0 = s.c___166178;
    s.tmp_0.arg1 = "$iothub/methods/POST/#";
    s.tmp_0.arg2 = azureiot_handleMethod__P166120;
    s.tmp_0.arg3 = 0;
    s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = pxsim_pxtrt.mapSetGeneric(globals._methodHandlers___166105, s.arg0, s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
azureiot_onMethod__P166121.info = {"start":6338,"length":375,"line":200,"column":4,"endLine":209,"endColumn":5,"fileName":"azureiot.ts","functionName":"onMethod","argumentNames":["methodName","handler"]}

function azureiot_onMethod__P166121_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: azureiot_onMethod__P166121, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  c___166178: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function azureiot_handleMethod__P166120(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.props___166199 = undefined;
    s.qidx___166205 = undefined;
    s.methodName___166213 = undefined;
    s.status___166236 = undefined;
    s.resp___166237 = undefined;
    s.h___166253 = undefined;
    s.resp2___166257 = undefined;
    s.c___166294 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = azureiot_parseTopicArgs__P166118_mk(s);
    s.tmp_1 = if_topic_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "topic");
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["topic"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["topic"]; }
    else { s.pc = 8; return s.tmp_1; }
    }
  case 8:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.props___166199 = (r0);
    s.tmp_1 = if_topic_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "topic");
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["topic"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["topic"]; }
    else { s.pc = 9; return s.tmp_1; }
    }
  case 9:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String_.indexOf(s.tmp_0, "/?", undefined);
    s.qidx___166205 = (r0);
    s.tmp_0 = helpers_stringSlice__P165429_mk(s);
    s.tmp_1 = if_topic_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "topic");
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["topic"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["topic"]; }
    else { s.pc = 11; return s.tmp_1; }
    }
  case 11:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = 21;
    s.tmp_0.arg2 = s.qidx___166205;
    s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    s.methodName___166213 = (r0);
    s.tmp_0 = azureiot_log__P166106_mk(s);
    if ((s.methodName___166213) && (s.methodName___166213).vtable) {
    setupResume(s, 13);
    pxsim_String__stringConv(s.methodName___166213);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.methodName___166213) + ""; }
  case 13:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("method: '", s.tmp_5);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 14);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 14:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, "'; ");
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 15);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_1 = r0;
    s.tmp_8 = JSON_stringify__P165616_mk(s);
    s.tmp_8.arg0 = s.props___166199;
    s.tmp_8.arg1 = null;
    s.tmp_8.arg2 = 0;
    s.pc = 16; return s.tmp_8;
  case 16:
    r0 = s.retval;
    s.tmp_7 = r0;
    if ((s.tmp_7) && (s.tmp_7).vtable) {
    setupResume(s, 17);
    pxsim_String__stringConv(s.tmp_7);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_7) + ""; }
  case 17:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_6);
    s.tmp_0.arg0 = r0;
    s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    s.status___166236 = (200);
    r0 = pxsim_pxtrt.mkMap();
    s.resp___166237 = (r0);
    r0 = pxsim_pxtrt.mapGetGeneric(globals._methodHandlers___166105, s.methodName___166213);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = azureiot_log__P166106_mk(s);
    if ((s.methodName___166213) && (s.methodName___166213).vtable) {
    setupResume(s, 19);
    pxsim_String__stringConv(s.methodName___166213);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.methodName___166213) + ""; }
  case 19:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat("method not found: '", s.tmp_6);
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 20);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 20:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, "'");
    s.tmp_3.arg0 = r0;
    s.pc = 18; return s.tmp_3;
  case 18:
    r0 = s.retval;
    s.status___166236 = (404);
    { step = 6; continue; }
  case 1:
    r0 = pxsim_pxtrt.mapGetGeneric(globals._methodHandlers___166105, s.methodName___166213);
    s.h___166253 = (r0);
    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = s.h___166253;
    s.tmp_1 = JSON_parse__P165617_mk(s);
    s.tmp_3 = if_content_1_mk(s);
    s.tmp_3.arg0 = s.arg0;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "content");
    } else {
    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["content"];
    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["content"]; }
    else { s.pc = 23; return s.tmp_3; }
    }
  case 23:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.toString(s.tmp_2);
    s.tmp_1.arg0 = r0;
    s.pc = 22; return s.tmp_1;
  case 22:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.pc = 21; return s.tmp_0;
  case 21:
    r0 = s.retval;
    s.resp2___166257 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.resp2___166257);
    if (!r0) { step = 2; continue; }
    s.resp___166237 = (s.resp2___166257);
  case 2:
  case 3:
    r0 = pxsim_pxtrt.mapGetGeneric(s.resp___166237, "_status");
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_pxtrt.mapGetGeneric(s.resp___166237, "_status");
    s.status___166236 = (r0);
    r0 = pxsim_pxtrt.mapSetGeneric(s.resp___166237, "_status", null);
  case 4:
  case 5:
    s.tmp_0 = azureiot_log__P166106_mk(s);
    if ((s.methodName___166213) && (s.methodName___166213).vtable) {
    setupResume(s, 25);
    pxsim_String__stringConv(s.methodName___166213);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.methodName___166213) + ""; }
  case 25:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("method: '", s.tmp_5);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 26);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 26:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, "' status=");
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 27);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 27:
    r0 = s.retval;
    s.tmp_1 = r0;
    if ((s.status___166236) && (s.status___166236).vtable) {
    setupResume(s, 28);
    pxsim_String__stringConv(s.status___166236);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.status___166236) + ""; }
  case 28:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_6);
    s.tmp_0.arg0 = r0;
    s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
  case 6:
    s.tmp_0 = azureiot_mqttClient__P166107_mk(s);
    s.pc = 29; return s.tmp_0;
  case 29:
    r0 = s.retval;
    s.c___166294 = (r0);
    s.tmp_0 = mqtt_Client_publish__P166092_mk(s);
    s.tmp_0.arg0 = s.c___166294;
    if ((s.status___166236) && (s.status___166236).vtable) {
    setupResume(s, 31);
    pxsim_String__stringConv(s.status___166236);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.status___166236) + ""; }
  case 31:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("$iothub/methods/res/", s.tmp_5);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 32);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 32:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, "/?$rid=");
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 33);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 33:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.props___166199, "$rid");
    s.tmp_7 = r0;
    if ((s.tmp_7) && (s.tmp_7).vtable) {
    setupResume(s, 34);
    pxsim_String__stringConv(s.tmp_7);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_7) + ""; }
  case 34:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_6);
    s.tmp_0.arg1 = r0;
    s.tmp_8 = JSON_stringify__P165616_mk(s);
    s.tmp_8.arg0 = s.resp___166237;
    s.tmp_8.arg1 = null;
    s.tmp_8.arg2 = 0;
    s.pc = 35; return s.tmp_8;
  case 35:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = 0;
    s.tmp_0.arg4 = false;
    s.pc = 30; return s.tmp_0;
  case 30:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
azureiot_handleMethod__P166120.info = {"start":5359,"length":973,"line":174,"column":4,"endLine":198,"endColumn":5,"fileName":"azureiot.ts","functionName":"handleMethod","argumentNames":["msg"]}

function azureiot_handleMethod__P166120_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: azureiot_handleMethod__P166120, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  props___166199: undefined,
  qidx___166205: undefined,
  methodName___166213: undefined,
  status___166236: undefined,
  resp___166237: undefined,
  h___166253: undefined,
  resp2___166257: undefined,
  c___166294: undefined,
  arg0: undefined,
} }





function mqtt_Client_publish__P166092(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.buf___166321 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, mqtt_Client__C166086_VT)) failedCast(r0);
    r0 = pxsim_pxtcore.typeOf(s.arg2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == "string");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.control.createBufferFromUTF8(s.arg2);
    { step = 2; continue; }
  case 1:
    r0 = s.arg2;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.buf___166321 = (s.tmp_2);
    s.tmp_0 = mqtt_Client_send__P166094_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = mqtt_Protocol_createPublish__P166076_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.tmp_1.arg1 = s.buf___166321;
    s.tmp_1.arg2 = s.arg3;
    s.tmp_1.arg3 = s.arg4;
    s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Client_publish__P166092.info = {"start":13567,"length":312,"line":421,"column":8,"endLine":424,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"publish","argumentNames":["this","topic","message","qos","retained"]}

function mqtt_Client_publish__P166092_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Client_publish__P166092, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  buf___166321: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function mqtt_Protocol_createPublish__P166076(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.byte1___166340 = undefined;
    s.pid___166353 = undefined;
    s.variable___166360 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg2 << 1);
    s.tmp_0 = r0;
    r0 = (48 | s.tmp_0);
    s.byte1___166340 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.arg3);
    if (!r0) { step = 1; continue; }
    r0 = 1;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = (s.byte1___166340 | s.tmp_0);
    s.byte1___166340 = (r0);
    s.tmp_0 = mqtt_Protocol_strChr__P166068_mk(s);
    s.tmp_1 = mqtt_Protocol_getBytes__P166071_mk(s);
    s.tmp_1.arg0 = 1;
    s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.pid___166353 = (r0);
    r0 = (s.arg2 === 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_1 = mqtt_Protocol_pack__P166072_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    { step = 4; continue; }
  case 3:
    s.tmp_2 = helpers_bufferConcat__P165500_mk(s);
    s.tmp_3 = mqtt_Protocol_pack__P166072_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.pc = 9; return s.tmp_3;
  case 9:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.pid___166353;
    s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
  case 4:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    s.variable___166360 = (s.tmp_4);
    s.tmp_0 = mqtt_Protocol_createPacket__P166073_mk(s);
    s.tmp_0.arg0 = s.byte1___166340;
    s.tmp_0.arg1 = s.variable___166360;
    s.tmp_0.arg2 = s.arg1;
    s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Protocol_createPublish__P166076.info = {"start":6502,"length":433,"line":213,"column":8,"endLine":221,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"createPublish","argumentNames":["topic","message","qos","retained"]}

function mqtt_Protocol_createPublish__P166076_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Protocol_createPublish__P166076, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  byte1___166340: undefined,
  pid___166353: undefined,
  variable___166360: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function mqtt_Protocol_createPacket__P166073(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.byte2___166384 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg2 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.control.createBuffer(0);
    s.arg2 = (r0);
  case 1:
  case 2:
    s.tmp_0 = mqtt_Protocol_encodeRemainingLength__P166069_mk(s);
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.length(s.arg2);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 + s.tmp_2);
    s.tmp_0.arg0 = r0;
    s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.byte2___166384 = (r0);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg0);
    s.tmp_1 = helpers_bufferConcat__P165500_mk(s);
    s.tmp_2 = helpers_bufferConcat__P165500_mk(s);
    s.tmp_3 = helpers_bufferConcat__P165500_mk(s);
    s.tmp_4 = mqtt_Protocol_strChr__P166068_mk(s);
    s.tmp_4.arg0 = s.tmp_0;
    s.pc = 7; return s.tmp_4;
  case 7:
    r0 = s.retval;
    s.tmp_3.arg0 = r0;
    s.tmp_5 = mqtt_Protocol_strChr__P166068_mk(s);
    s.tmp_5.arg0 = s.byte2___166384;
    s.pc = 8; return s.tmp_5;
  case 8:
    r0 = s.retval;
    s.tmp_3.arg1 = r0;
    s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.arg1;
    s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.arg2;
    s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Protocol_createPacket__P166073.info = {"start":4470,"length":394,"line":157,"column":8,"endLine":164,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"createPacket","argumentNames":["byte1","variable","payload"]}

function mqtt_Protocol_createPacket__P166073_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Protocol_createPacket__P166073, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  byte2___166384: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function mqtt_Protocol_encodeRemainingLength__P166069(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.length___166404 = undefined;
    s.encBytes___166406 = undefined;
    s.encByte___166409 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.length___166404 = (s.arg0);
    r0 = pxsim_Array__mk();
    s.encBytes___166406 = (r0);
  case 1:
    r0 = (s.length___166404 & 127);
    s.encByte___166409 = (r0);
    r0 = (s.length___166404 >> 7);
    s.length___166404 = (r0);
    r0 = (s.length___166404 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = (s.encByte___166409 + 128);
    s.encByte___166409 = (r0);
  case 2:
  case 3:
    r0 = pxsim_Array__push(s.encBytes___166406, s.encByte___166409);
    r0 = (s.length___166404 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    { step = 1; continue; }
  case 4:
    r0 = s.encBytes___166406;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Protocol_encodeRemainingLength__P166069.info = {"start":2539,"length":551,"line":104,"column":8,"endLine":118,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"encodeRemainingLength","argumentNames":["remainingLength"]}

function mqtt_Protocol_encodeRemainingLength__P166069_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Protocol_encodeRemainingLength__P166069, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  length___166404: undefined,
  encBytes___166406: undefined,
  encByte___166409: undefined,
  arg0: undefined,
} }





function helpers_bufferConcat__P165500(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.r___166431 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 + s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_0);
    s.r___166431 = (r0);
    r0 = pxsim.BufferMethods.write(s.r___166431, 0, s.arg0);
    s.tmp_0 = r0 = s.r___166431;
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.write(s.tmp_0, s.tmp_1, s.arg1);
    r0 = s.r___166431;
    return leave(s, r0)
  default: oops()
} } }
helpers_bufferConcat__P165500.info = {"start":7249,"length":186,"line":234,"column":4,"endLine":239,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"bufferConcat","argumentNames":["a","b"]}

function helpers_bufferConcat__P165500_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_bufferConcat__P165500, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  r___166431: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function mqtt_Protocol_pack__P166072(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.buf___166452 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.control.createBufferFromUTF8(s.arg0);
    s.buf___166452 = (r0);
    s.tmp_0 = helpers_bufferConcat__P165500_mk(s);
    s.tmp_1 = mqtt_Protocol_strChr__P166068_mk(s);
    s.tmp_2 = mqtt_Protocol_getBytes__P166071_mk(s);
    r0 = pxsim.BufferMethods.length(s.buf___166452);
    s.tmp_2.arg0 = r0;
    s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.buf___166452;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Protocol_pack__P166072.info = {"start":4135,"length":162,"line":148,"column":8,"endLine":151,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"pack","argumentNames":["s"]}

function mqtt_Protocol_pack__P166072_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Protocol_pack__P166072, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  buf___166452: undefined,
  arg0: undefined,
} }





function mqtt_Protocol_getBytes__P166071(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = (s.arg0 >> 8);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    r0 = (s.arg0 & 255);
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Protocol_getBytes__P166071.info = {"start":3855,"length":100,"line":140,"column":8,"endLine":142,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"getBytes","argumentNames":["int16"]}

function mqtt_Protocol_getBytes__P166071_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Protocol_getBytes__P166071, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function mqtt_Protocol_strChr__P166068(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = pins_createBufferFromArray__P165488_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Protocol_strChr__P166068.info = {"start":2273,"length":105,"line":96,"column":8,"endLine":98,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"strChr","argumentNames":["codes"]}

function mqtt_Protocol_strChr__P166068_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Protocol_strChr__P166068, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function pins_createBufferFromArray__P165488(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.buf___166472 = undefined;
    s.i___166478 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__length(s.arg0);
    s.tmp_0 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_0);
    s.buf___166472 = (r0);
    s.i___166478 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___166478;
    r0 = pxsim_Array__length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_3 = r0 = s.buf___166472;
    s.tmp_4 = r0 = s.i___166478;
    r0 = pxsim_Array__getAt(s.arg0, s.i___166478);
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_3, s.tmp_4, s.tmp_5);
    r0 = (s.i___166478 + 1);
    s.i___166478 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = s.buf___166472;
    return leave(s, r0)
  default: oops()
} } }
pins_createBufferFromArray__P165488.info = {"start":1084,"length":211,"line":36,"column":4,"endLine":41,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"createBufferFromArray","argumentNames":["bytes"]}

function pins_createBufferFromArray__P165488_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pins_createBufferFromArray__P165488, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  buf___166472: undefined,
  i___166478: undefined,
  arg0: undefined,
} }





function mqtt_Client_send__P166094(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, mqtt_Client__C166086_VT)) failedCast(r0);
    r0 = s.arg0.fields["sct"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = mqtt_Client_log__P166088_mk(s);
    s.tmp_1.arg0 = s.arg0;
    r0 = pxsim.BufferMethods.getByte(s.arg1, 0);
    s.tmp_11 = r0;
    if ((s.tmp_11) && (s.tmp_11).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_11);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_11) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = pxsim_String__concat("send: ", s.tmp_10);
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_8, " / ");
    s.tmp_7 = r0;
    if ((s.tmp_7) && (s.tmp_7).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.tmp_7);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_7) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_13 = r0;
    if ((s.tmp_13) && (s.tmp_13).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_13);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_13) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_12 = r0;
    r0 = pxsim_String__concat(s.tmp_6, s.tmp_12);
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, " bytes: ");
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.toString(s.arg1);
    s.tmp_15 = r0;
    if ((s.tmp_15) && (s.tmp_15).vtable) {
    setupResume(s, 10);
    pxsim_String__stringConv(s.tmp_15);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_15) + ""; }
  case 10:
    r0 = s.retval;
    s.tmp_14 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_14);
    s.tmp_1.arg1 = r0;
    s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = if_send_2_mk(s);
    r0 = s.arg0.fields["sct"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["send"];
    if (s.tmp_0.fn == null) { s.retval = s.tmp_0.arg0.fields["send"]; }
    else { s.pc = 11; return s.tmp_0; }
  case 11:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Client_send__P166094.info = {"start":14399,"length":301,"line":437,"column":8,"endLine":443,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"send","argumentNames":["this","data"]}

function mqtt_Client_send__P166094_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Client_send__P166094, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function mqtt_Client_log__P166088(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, mqtt_Client__C166086_VT)) failedCast(r0);
    s.tmp_0 = console_add__P165593_mk(s);
    r0 = s.arg0.fields["logPriority"];
    s.tmp_0.arg0 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("mqtt: ", s.tmp_1);
    s.tmp_0.arg1 = r0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Client_log__P166088.info = {"start":9581,"length":95,"line":304,"column":8,"endLine":306,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"log","argumentNames":["this","msg"]}

function mqtt_Client_log__P166088_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Client_log__P166088, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function console_add__P165593(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.i___166550 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 < globals.minPriority___165590);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, "\n");
    s.arg1 = (r0);
    s.i___166550 = (0);
  case 3:
    s.tmp_1 = r0 = s.i___166550;
    r0 = pxsim_Array__length(globals.listeners___165592);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_3 = lambda_3_mk(s);
    r0 = pxsim_Array__getAt(globals.listeners___165592, s.i___166550);
    s.tmp_3.argL = r0;
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.arg1;
    setupLambda(s.tmp_3, s.tmp_3.argL);
    s.pc = 7; return s.tmp_3;
  case 7:
    r0 = s.retval;
    r0 = (s.i___166550 + 1);
    s.i___166550 = (r0);
    { step = 3; continue; }
  case 4:
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
console_add__P165593.info = {"start":632,"length":280,"line":28,"column":4,"endLine":35,"endColumn":5,"fileName":"pxt_modules/base/console.ts","functionName":"add","argumentNames":["priority","text"]}

function console_add__P165593_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: console_add__P165593, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  i___166550: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P165591(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.control.__log(s.arg0, s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P165591.info = {"start":534,"length":85,"line":25,"column":8,"endLine":25,"endColumn":93,"fileName":"pxt_modules/base/console.ts","functionName":"inline","argumentNames":["priority","text"]}

function inline__P165591_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P165591, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function JSON_parse__P165617(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.p___166572 = undefined;
    s.r___166582 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(JSON_Parser__C165603_VT);
    s.p___166572 = (r0);
    r0 = (s.p___166572).fields["ptr"] = (0);
    r0 = (s.p___166572).fields["s"] = (s.arg0);
    s.tmp_0 = JSON_Parser_value__P165612_mk(s);
    s.tmp_0.arg0 = s.p___166572;
    s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.r___166582 = (r0);
    s.tmp_1 = JSON_Parser_skipWS__P165605_mk(s);
    s.tmp_1.arg0 = s.p___166572;
    s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = JSON_Parser_error__P165604_mk(s);
    s.tmp_2.arg0 = s.p___166572;
    s.tmp_2.arg1 = "excessive input";
    s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = s.p___166572.fields["errorMsg"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.p___166572.fields["errorMsg"];
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("Invalid JSON: ", s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim.control.dmesg(s.tmp_1);
    r0 = undefined;
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = s.r___166582;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
JSON_parse__P165617.info = {"start":9325,"length":347,"line":307,"column":4,"endLine":320,"endColumn":5,"fileName":"pxt_modules/base/json.ts","functionName":"parse","argumentNames":["s"]}

function JSON_parse__P165617_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_parse__P165617, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  p___166572: undefined,
  r___166582: undefined,
  arg0: undefined,
} }





function JSON_Parser_error__P165604(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C165603_VT)) failedCast(r0);
    r0 = s.arg0.fields["errorMsg"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = r0 = s.arg0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_7, " at position ");
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = s.arg0.fields["ptr"];
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_8);
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["errorMsg"] = (s.tmp_4);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["s"];
    s.tmp_2 = r0;
    r0 = pxsim_String_.length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ptr"] = (s.tmp_1);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_error__P165604.info = {"start":1009,"length":184,"line":43,"column":8,"endLine":48,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"error","argumentNames":["this","msg"]}

function JSON_Parser_error__P165604_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_error__P165604, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function JSON_Parser_skipWS__P165605(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.c___166628 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C165603_VT)) failedCast(r0);
  case 1:
    s.tmp_0 = JSON_Parser_nextChar__P165606_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    s.c___166628 = (r0);
    r0 = (s.c___166628 == 32);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = (s.c___166628 == 10);
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = s.tmp_1;
    { step = 5; continue; }
  case 4:
    r0 = (s.c___166628 == 13);
  case 5:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 6; continue; }
    r0 = s.tmp_2;
    { step = 7; continue; }
  case 6:
    r0 = (s.c___166628 == 9);
  case 7:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 8; continue; }
    { step = 9; continue; }
  case 8:
    s.tmp_4 = r0 = s.arg0;
    r0 = s.tmp_4.fields["ptr"];
    s.tmp_6 = r0;
    r0 = (s.tmp_6 - 1);
    s.tmp_5 = r0;
    r0 = (s.tmp_4).fields["ptr"] = (s.tmp_5);
    r0 = s.c___166628;
    { step = 10; continue; }
  case 9:
    { step = 1; continue; }
    r0 = undefined;
  case 10:
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_skipWS__P165605.info = {"start":1203,"length":301,"line":50,"column":8,"endLine":60,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"skipWS","argumentNames":["this"]}

function JSON_Parser_skipWS__P165605_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_skipWS__P165605, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  c___166628: undefined,
  arg0: undefined,
} }





function JSON_Parser_nextChar__P165606(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C165603_VT)) failedCast(r0);
    r0 = s.arg0.fields["ptr"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["s"];
    s.tmp_3 = r0;
    r0 = pxsim_String_.length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_4 = r0 = s.arg0;
    r0 = s.tmp_4.fields["ptr"];
    s.tmp_6 = r0;
    r0 = (s.tmp_6 + 1);
    s.tmp_5 = r0;
    r0 = (s.tmp_4).fields["ptr"] = (s.tmp_5);
    r0 = s.arg0.fields["s"];
    s.tmp_7 = r0;
    r0 = pxsim_String_.charCodeAt(s.tmp_7, s.tmp_6);
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = 0;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_nextChar__P165606.info = {"start":1514,"length":138,"line":62,"column":8,"endLine":66,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"nextChar","argumentNames":["this"]}

function JSON_Parser_nextChar__P165606_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_nextChar__P165606, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  arg0: undefined,
} }





function JSON_Parser_value__P165612(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.c___166665 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C165603_VT)) failedCast(r0);
    r0 = s.arg0.fields["errorMsg"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = null;
    { step = 27; continue; }
  case 1:
  case 2:
    s.tmp_1 = JSON_Parser_skipWS__P165605_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.pc = 28; return s.tmp_1;
  case 28:
    r0 = s.retval;
    s.c___166665 = (r0);
    r0 = (s.c___166665 == 123);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_1 = JSON_Parser_doObject__P165609_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.pc = 29; return s.tmp_1;
  case 29:
    r0 = s.retval;
    { step = 27; continue; }
    { step = 26; continue; }
  case 3:
    r0 = (s.c___166665 == 91);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 4; continue; }
    s.tmp_3 = JSON_Parser_doArray__P165608_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.pc = 30; return s.tmp_3;
  case 30:
    r0 = s.retval;
    { step = 27; continue; }
    { step = 25; continue; }
  case 4:
    r0 = (48 <= s.c___166665);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (r0) { step = 5; continue; }
    r0 = s.tmp_4;
    { step = 6; continue; }
  case 5:
    r0 = (s.c___166665 <= 57);
  case 6:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBool(s.tmp_5);
    if (!r0) { step = 7; continue; }
    r0 = s.tmp_5;
    { step = 8; continue; }
  case 7:
    r0 = (s.c___166665 == 45);
  case 8:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 9; continue; }
    s.tmp_7 = JSON_Parser_doNumber__P165610_mk(s);
    s.tmp_7.arg0 = s.arg0;
    s.pc = 31; return s.tmp_7;
  case 31:
    r0 = s.retval;
    { step = 27; continue; }
    { step = 24; continue; }
  case 9:
    r0 = (s.c___166665 == 34);
    s.tmp_8 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_8);
    if (!r0) { step = 10; continue; }
    s.tmp_9 = JSON_Parser_doString__P165607_mk(s);
    s.tmp_9.arg0 = s.arg0;
    s.pc = 32; return s.tmp_9;
  case 32:
    r0 = s.retval;
    { step = 27; continue; }
    { step = 23; continue; }
  case 10:
    r0 = (s.c___166665 == 116);
    s.tmp_10 = r0;
    r0 = pxsim_numops_toBool(s.tmp_10);
    if (r0) { step = 11; continue; }
    r0 = s.tmp_10;
    { step = 12; continue; }
  case 11:
    s.tmp_11 = JSON_Parser_checkKw__P165611_mk(s);
    s.tmp_11.arg0 = s.arg0;
    s.tmp_11.arg1 = "true";
    s.pc = 33; return s.tmp_11;
  case 33:
    r0 = s.retval;
  case 12:
    // jmp value (already in r0)
    s.tmp_12 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_12);
    if (!r0) { step = 13; continue; }
    r0 = true;
    { step = 27; continue; }
    { step = 22; continue; }
  case 13:
    r0 = (s.c___166665 == 102);
    s.tmp_13 = r0;
    r0 = pxsim_numops_toBool(s.tmp_13);
    if (r0) { step = 14; continue; }
    r0 = s.tmp_13;
    { step = 15; continue; }
  case 14:
    s.tmp_14 = JSON_Parser_checkKw__P165611_mk(s);
    s.tmp_14.arg0 = s.arg0;
    s.tmp_14.arg1 = "false";
    s.pc = 34; return s.tmp_14;
  case 34:
    r0 = s.retval;
  case 15:
    // jmp value (already in r0)
    s.tmp_15 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_15);
    if (!r0) { step = 16; continue; }
    r0 = false;
    { step = 27; continue; }
    { step = 21; continue; }
  case 16:
    r0 = (s.c___166665 == 110);
    s.tmp_16 = r0;
    r0 = pxsim_numops_toBool(s.tmp_16);
    if (r0) { step = 17; continue; }
    r0 = s.tmp_16;
    { step = 18; continue; }
  case 17:
    s.tmp_17 = JSON_Parser_checkKw__P165611_mk(s);
    s.tmp_17.arg0 = s.arg0;
    s.tmp_17.arg1 = "null";
    s.pc = 35; return s.tmp_17;
  case 35:
    r0 = s.retval;
  case 18:
    // jmp value (already in r0)
    s.tmp_18 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_18);
    if (!r0) { step = 19; continue; }
    r0 = null;
    { step = 27; continue; }
  case 19:
  case 20:
  case 21:
  case 22:
  case 23:
  case 24:
  case 25:
  case 26:
    s.tmp_19 = JSON_Parser_error__P165604_mk(s);
    s.tmp_19.arg0 = s.arg0;
    s.tmp_19.arg1 = "unexpected token";
    s.pc = 36; return s.tmp_19;
  case 36:
    r0 = s.retval;
    r0 = null;
  case 27:
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_value__P165612.info = {"start":4976,"length":743,"line":178,"column":8,"endLine":200,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"value","argumentNames":["this"]}

function JSON_Parser_value__P165612_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_value__P165612, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  tmp_17: undefined,
  tmp_18: undefined,
  tmp_19: undefined,
  c___166665: undefined,
  arg0: undefined,
} }





function JSON_Parser_checkKw__P165611(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C165603_VT)) failedCast(r0);
    s.tmp_2 = helpers_stringSlice__P165429_mk(s);
    r0 = s.arg0.fields["s"];
    s.tmp_2.arg0 = r0;
    r0 = s.arg0.fields["ptr"];
    s.tmp_2.arg1 = r0;
    r0 = s.arg0.fields["ptr"];
    s.tmp_3 = r0;
    r0 = pxsim_String_.length(s.arg1);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 + s.tmp_4);
    s.tmp_2.arg2 = r0;
    s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_5 = r0 = s.arg0;
    r0 = s.tmp_5.fields["ptr"];
    s.tmp_7 = r0;
    r0 = pxsim_String_.length(s.arg1);
    s.tmp_8 = r0;
    r0 = (s.tmp_7 + s.tmp_8);
    s.tmp_6 = r0;
    r0 = (s.tmp_5).fields["ptr"] = (s.tmp_6);
    r0 = true;
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = false;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_checkKw__P165611.info = {"start":4764,"length":202,"line":170,"column":8,"endLine":176,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"checkKw","argumentNames":["this","k"]}

function JSON_Parser_checkKw__P165611_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_checkKw__P165611, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function JSON_Parser_doString__P165607(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.r___166725 = undefined;
    s.c___166730 = undefined;
    s.q___166745 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C165603_VT)) failedCast(r0);
    r0 = pxsim_String_.mkEmpty();
    s.r___166725 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["ptr"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ptr"] = (s.tmp_1);
  case 1:
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["ptr"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ptr"] = (s.tmp_1);
    r0 = s.arg0.fields["s"];
    s.tmp_3 = r0;
    r0 = pxsim_String_.charAt(s.tmp_3, s.tmp_2);
    s.c___166730 = (r0);
    r0 = (s.c___166730 == "\"");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.r___166725;
    { step = 16; continue; }
  case 2:
  case 3:
    r0 = (s.c___166730 == "\\");
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 14; continue; }
    s.tmp_2 = r0 = s.arg0;
    r0 = s.tmp_2.fields["ptr"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 1);
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["ptr"] = (s.tmp_3);
    r0 = s.arg0.fields["s"];
    s.tmp_5 = r0;
    r0 = pxsim_String_.charAt(s.tmp_5, s.tmp_4);
    s.q___166745 = (r0);
    r0 = (s.q___166745 == "b");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.q___166745 = ("\b");
    { step = 13; continue; }
  case 4:
    r0 = (s.q___166745 == "n");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.q___166745 = ("\n");
    { step = 12; continue; }
  case 5:
    r0 = (s.q___166745 == "r");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.q___166745 = ("\r");
    { step = 11; continue; }
  case 6:
    r0 = (s.q___166745 == "t");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.q___166745 = ("\t");
    { step = 10; continue; }
  case 7:
    r0 = (s.q___166745 == "u");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    s.tmp_2 = JSON_parseIntRadix__P165602_mk(s);
    s.tmp_3 = helpers_stringSlice__P165429_mk(s);
    r0 = s.arg0.fields["s"];
    s.tmp_3.arg0 = r0;
    r0 = s.arg0.fields["ptr"];
    s.tmp_3.arg1 = r0;
    r0 = s.arg0.fields["ptr"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 4);
    s.tmp_3.arg2 = r0;
    s.pc = 18; return s.tmp_3;
  case 18:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = 16;
    s.pc = 17; return s.tmp_2;
  case 17:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String_.fromCharCode(s.tmp_1);
    s.q___166745 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["ptr"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 4);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ptr"] = (s.tmp_1);
  case 8:
  case 9:
  case 10:
  case 11:
  case 12:
  case 13:
    if ((s.r___166725) && (s.r___166725).vtable) {
    setupResume(s, 19);
    pxsim_String__stringConv(s.r___166725);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___166725) + ""; }
  case 19:
    r0 = s.retval;
    s.tmp_0 = r0;
    if ((s.q___166745) && (s.q___166745).vtable) {
    setupResume(s, 20);
    pxsim_String__stringConv(s.q___166745);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.q___166745) + ""; }
  case 20:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___166725 = (r0);
    { step = 15; continue; }
  case 14:
    if ((s.r___166725) && (s.r___166725).vtable) {
    setupResume(s, 21);
    pxsim_String__stringConv(s.r___166725);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___166725) + ""; }
  case 21:
    r0 = s.retval;
    s.tmp_0 = r0;
    if ((s.c___166730) && (s.c___166730).vtable) {
    setupResume(s, 22);
    pxsim_String__stringConv(s.c___166730);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.c___166730) + ""; }
  case 22:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___166725 = (r0);
  case 15:
    { step = 1; continue; }
    r0 = undefined;
  case 16:
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_doString__P165607.info = {"start":1662,"length":795,"line":68,"column":8,"endLine":90,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"doString","argumentNames":["this"]}

function JSON_Parser_doString__P165607_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_doString__P165607, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  r___166725: undefined,
  c___166730: undefined,
  q___166745: undefined,
  arg0: undefined,
} }





function JSON_parseIntRadix__P165602(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.m___166809 = undefined;
    s.r___166810 = undefined;
    s.i___166811 = undefined;
    s.c___166817 = undefined;
    s.v___166842 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg1 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.arg1 == 10);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_String_.toNumber(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    { step = 36; continue; }
  case 3:
  case 4:
    s.m___166809 = (false);
    s.r___166810 = (0);
    s.i___166811 = (0);
  case 5:
    s.tmp_1 = r0 = s.i___166811;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 33; continue; }
    r0 = pxsim_String_.charCodeAt(s.arg0, s.i___166811);
    s.c___166817 = (r0);
    r0 = (s.c___166817 == 32);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = s.tmp_0;
    { step = 7; continue; }
  case 6:
    r0 = (s.c___166817 == 10);
  case 7:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 8; continue; }
    r0 = s.tmp_1;
    { step = 9; continue; }
  case 8:
    r0 = (s.c___166817 == 13);
  case 9:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 10; continue; }
    r0 = s.tmp_2;
    { step = 11; continue; }
  case 10:
    r0 = (s.c___166817 == 9);
  case 11:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 12; continue; }
    { step = 32; continue; }
  case 12:
  case 13:
    r0 = (s.r___166810 == 0);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (r0) { step = 14; continue; }
    r0 = s.tmp_4;
    { step = 15; continue; }
  case 14:
    r0 = pxsim_numops_toBoolDecr(s.m___166809);
    s.tmp_5 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_5);
  case 15:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBool(s.tmp_6);
    if (r0) { step = 16; continue; }
    r0 = s.tmp_6;
    { step = 17; continue; }
  case 16:
    r0 = (s.c___166817 == 45);
  case 17:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 18; continue; }
    s.m___166809 = (true);
    { step = 32; continue; }
  case 18:
  case 19:
    s.v___166842 = (-1);
    r0 = (48 <= s.c___166817);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 20; continue; }
    r0 = s.tmp_0;
    { step = 21; continue; }
  case 20:
    r0 = (s.c___166817 <= 57);
  case 21:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 22; continue; }
    r0 = (s.c___166817 - 48);
    s.v___166842 = (r0);
    { step = 27; continue; }
  case 22:
    r0 = (s.c___166817 | 32);
    s.c___166817 = (r0);
    r0 = (97 <= s.c___166817);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 23; continue; }
    r0 = s.tmp_0;
    { step = 24; continue; }
  case 23:
    r0 = (s.c___166817 <= 122);
  case 24:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 25; continue; }
    r0 = (s.c___166817 - 97);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 10);
    s.v___166842 = (r0);
  case 25:
  case 26:
  case 27:
    r0 = (0 <= s.v___166842);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 28; continue; }
    r0 = s.tmp_0;
    { step = 29; continue; }
  case 28:
    r0 = (s.v___166842 < s.arg1);
  case 29:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 30; continue; }
    r0 = (s.r___166810 * s.arg1);
    s.r___166810 = (r0);
    r0 = (s.r___166810 + s.v___166842);
    s.r___166810 = (r0);
    { step = 31; continue; }
  case 30:
    r0 = undefined;
    { step = 36; continue; }
  case 31:
  case 32:
    r0 = (s.i___166811 + 1);
    s.i___166811 = (r0);
    { step = 5; continue; }
  case 33:
    r0 = pxsim_numops_toBoolDecr(s.m___166809);
    if (!r0) { step = 34; continue; }
    r0 = (0 - s.r___166810);
    { step = 35; continue; }
  case 34:
    r0 = s.r___166810;
  case 35:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = s.tmp_0;
  case 36:
    return leave(s, r0)
  default: oops()
} } }
JSON_parseIntRadix__P165602.info = {"start":21,"length":894,"line":1,"column":4,"endLine":35,"endColumn":5,"fileName":"pxt_modules/base/json.ts","functionName":"parseIntRadix","argumentNames":["s","base"]}

function JSON_parseIntRadix__P165602_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_parseIntRadix__P165602, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  m___166809: undefined,
  r___166810: undefined,
  i___166811: undefined,
  c___166817: undefined,
  v___166842: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function JSON_Parser_doNumber__P165610(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.beg___166892 = undefined;
    s.c___166896 = undefined;
    s.ss___166924 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C165603_VT)) failedCast(r0);
    r0 = s.arg0.fields["ptr"];
    s.beg___166892 = (r0);
  case 1:
    s.tmp_0 = JSON_Parser_nextChar__P165606_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 20; return s.tmp_0;
  case 20:
    r0 = s.retval;
    s.c___166896 = (r0);
    r0 = (48 <= s.c___166896);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = (s.c___166896 <= 57);
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = s.tmp_1;
    { step = 5; continue; }
  case 4:
    r0 = (s.c___166896 == 43);
  case 5:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 6; continue; }
    r0 = s.tmp_2;
    { step = 7; continue; }
  case 6:
    r0 = (s.c___166896 == 45);
  case 7:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (!r0) { step = 8; continue; }
    r0 = s.tmp_3;
    { step = 9; continue; }
  case 8:
    r0 = (s.c___166896 == 46);
  case 9:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (!r0) { step = 10; continue; }
    r0 = s.tmp_4;
    { step = 11; continue; }
  case 10:
    r0 = (s.c___166896 == 69);
  case 11:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBool(s.tmp_5);
    if (!r0) { step = 12; continue; }
    r0 = s.tmp_5;
    { step = 13; continue; }
  case 12:
    r0 = (s.c___166896 == 101);
  case 13:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 14; continue; }
    { step = 15; continue; }
  case 14:
    s.tmp_7 = r0 = s.arg0;
    r0 = s.tmp_7.fields["ptr"];
    s.tmp_9 = r0;
    r0 = (s.tmp_9 - 1);
    s.tmp_8 = r0;
    r0 = (s.tmp_7).fields["ptr"] = (s.tmp_8);
    { step = 16; continue; }
  case 15:
    { step = 1; continue; }
  case 16:
    s.tmp_0 = helpers_stringSlice__P165429_mk(s);
    r0 = s.arg0.fields["s"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.beg___166892;
    r0 = s.arg0.fields["ptr"];
    s.tmp_0.arg2 = r0;
    s.pc = 21; return s.tmp_0;
  case 21:
    r0 = s.retval;
    s.ss___166924 = (r0);
    r0 = pxsim_String_.length(s.ss___166924);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 17; continue; }
    s.tmp_2 = JSON_Parser_error__P165604_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = "expecting number";
    s.pc = 22; return s.tmp_2;
  case 22:
    r0 = s.retval;
    r0 = 0;
    { step = 19; continue; }
  case 17:
  case 18:
    r0 = pxsim_String_.toNumber(s.ss___166924);
  case 19:
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_doNumber__P165610.info = {"start":4169,"length":585,"line":151,"column":8,"endLine":168,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"doNumber","argumentNames":["this"]}

function JSON_Parser_doNumber__P165610_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_doNumber__P165610, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  beg___166892: undefined,
  c___166896: undefined,
  ss___166924: undefined,
  arg0: undefined,
} }





function JSON_Parser_doArray__P165608(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.r___166940 = undefined;
    s.c___166946 = undefined;
    s.v___166954 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C165603_VT)) failedCast(r0);
    r0 = pxsim_Array__mk();
    s.r___166940 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["ptr"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ptr"] = (s.tmp_1);
  case 1:
    s.tmp_0 = JSON_Parser_skipWS__P165605_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    s.c___166946 = (r0);
    r0 = (s.c___166946 == 93);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = r0 = s.arg0;
    r0 = s.tmp_1.fields["ptr"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 + 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["ptr"] = (s.tmp_2);
    r0 = s.r___166940;
    { step = 11; continue; }
  case 2:
  case 3:
    s.tmp_0 = JSON_Parser_value__P165612_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    s.v___166954 = (r0);
    r0 = s.arg0.fields["errorMsg"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = null;
    { step = 11; continue; }
  case 4:
  case 5:
    r0 = pxsim_Array__push(s.r___166940, s.v___166954);
    s.tmp_0 = JSON_Parser_skipWS__P165605_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 14; return s.tmp_0;
  case 14:
    r0 = s.retval;
    s.c___166946 = (r0);
    r0 = (s.c___166946 == 44);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_1 = r0 = s.arg0;
    r0 = s.tmp_1.fields["ptr"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 + 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["ptr"] = (s.tmp_2);
    { step = 10; continue; }
  case 6:
  case 7:
    r0 = (s.c___166946 == 93);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    { step = 10; continue; }
  case 8:
  case 9:
    s.tmp_1 = JSON_Parser_error__P165604_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = "expecting comma";
    s.pc = 15; return s.tmp_1;
  case 15:
    r0 = s.retval;
  case 10:
    { step = 1; continue; }
    r0 = undefined;
  case 11:
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_doArray__P165608.info = {"start":2467,"length":646,"line":92,"column":8,"endLine":114,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"doArray","argumentNames":["this"]}

function JSON_Parser_doArray__P165608_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_doArray__P165608, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  r___166940: undefined,
  c___166946: undefined,
  v___166954: undefined,
  arg0: undefined,
} }





function JSON_Parser_doObject__P165609(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.r___166975 = undefined;
    s.c___166981 = undefined;
    s.k___166993 = undefined;
    s.v___167005 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C165603_VT)) failedCast(r0);
    r0 = pxsim_pxtrt.mkMap();
    s.r___166975 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["ptr"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ptr"] = (s.tmp_1);
  case 1:
    s.tmp_0 = JSON_Parser_skipWS__P165605_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
    s.c___166981 = (r0);
    r0 = (s.c___166981 == 125);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = r0 = s.arg0;
    r0 = s.tmp_1.fields["ptr"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 + 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["ptr"] = (s.tmp_2);
    r0 = s.r___166975;
    { step = 15; continue; }
  case 2:
  case 3:
    r0 = (s.c___166981 != 34);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_1 = JSON_Parser_error__P165604_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = "expecting key";
    s.pc = 17; return s.tmp_1;
  case 17:
    r0 = s.retval;
    r0 = s.r___166975;
    { step = 15; continue; }
  case 4:
  case 5:
    s.tmp_0 = JSON_Parser_doString__P165607_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
    s.k___166993 = (r0);
    s.tmp_0 = JSON_Parser_skipWS__P165605_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 19; return s.tmp_0;
  case 19:
    r0 = s.retval;
    s.c___166981 = (r0);
    r0 = (s.c___166981 != 58);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_1 = JSON_Parser_error__P165604_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = "expecting colon";
    s.pc = 20; return s.tmp_1;
  case 20:
    r0 = s.retval;
    r0 = s.r___166975;
    { step = 15; continue; }
  case 6:
  case 7:
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["ptr"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ptr"] = (s.tmp_1);
    s.tmp_0 = JSON_Parser_value__P165612_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 21; return s.tmp_0;
  case 21:
    r0 = s.retval;
    s.v___167005 = (r0);
    r0 = s.arg0.fields["errorMsg"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    r0 = null;
    { step = 15; continue; }
  case 8:
  case 9:
    r0 = pxsim_pxtrt.mapSetGeneric(s.r___166975, s.k___166993, s.v___167005);
    s.tmp_0 = JSON_Parser_skipWS__P165605_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 22; return s.tmp_0;
  case 22:
    r0 = s.retval;
    s.c___166981 = (r0);
    r0 = (s.c___166981 == 44);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    s.tmp_1 = r0 = s.arg0;
    r0 = s.tmp_1.fields["ptr"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 + 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["ptr"] = (s.tmp_2);
    { step = 14; continue; }
  case 10:
  case 11:
    r0 = (s.c___166981 == 125);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 12; continue; }
    { step = 14; continue; }
  case 12:
  case 13:
    s.tmp_1 = JSON_Parser_error__P165604_mk(s);
    s.tmp_1.arg0 = s.arg0;
    r0 = pxsim_String_.fromCharCode(s.c___166981);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 24);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 24:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("expecting comma, got ", s.tmp_2);
    s.tmp_1.arg1 = r0;
    s.pc = 23; return s.tmp_1;
  case 23:
    r0 = s.retval;
  case 14:
    { step = 1; continue; }
    r0 = undefined;
  case 15:
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_doObject__P165609.info = {"start":3123,"length":1036,"line":116,"column":8,"endLine":149,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"doObject","argumentNames":["this"]}

function JSON_Parser_doObject__P165609_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_doObject__P165609, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  r___166975: undefined,
  c___166981: undefined,
  k___166993: undefined,
  v___167005: undefined,
  arg0: undefined,
} }





function azureiot_log__P166106(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = console_add__P165593_mk(s);
    s.tmp_0.arg0 = globals.logPriority___166101;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("azureiot: ", s.tmp_1);
    s.tmp_0.arg1 = r0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
azureiot_log__P166106.info = {"start":439,"length":87,"line":19,"column":4,"endLine":21,"endColumn":5,"fileName":"azureiot.ts","functionName":"log","argumentNames":["msg"]}

function azureiot_log__P166106_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: azureiot_log__P166106, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function helpers_stringSlice__P165429(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.len___167043 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_String_.length(s.arg0);
    s.len___167043 = (r0);
    r0 = (s.arg1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = Math_max__P165437_mk(s);
    r0 = (s.len___167043 + s.arg1);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 0;
    s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    s.arg1 = (r0);
  case 1:
  case 2:
    r0 = (s.arg2 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.arg2 = (s.len___167043);
  case 3:
  case 4:
    r0 = (s.arg2 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = (s.len___167043 + s.arg2);
    s.arg2 = (r0);
  case 5:
  case 6:
    s.tmp_0 = r0 = s.arg0;
    s.tmp_1 = r0 = s.arg1;
    r0 = (s.arg2 - s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_String_.substr(s.tmp_0, s.tmp_1, s.tmp_2);
    return leave(s, r0)
  default: oops()
} } }
helpers_stringSlice__P165429.info = {"start":7747,"length":365,"line":266,"column":4,"endLine":282,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"stringSlice","argumentNames":["s","start","end"]}

function helpers_stringSlice__P165429_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_stringSlice__P165429, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  len___167043: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function Math_max__P165437(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 >= s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0;
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = s.arg1;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
Math_max__P165437.info = {"start":11226,"length":105,"line":389,"column":4,"endLine":392,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"max","argumentNames":["a","b"]}

function Math_max__P165437_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_max__P165437, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function azureiot_parseTopicArgs__P166118(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.qidx___167080 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_String_.indexOf(s.arg0, "?", undefined);
    s.qidx___167080 = (r0);
    r0 = (s.qidx___167080 >= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = azureiot_parsePropertyBag__P166110_mk(s);
    s.tmp_2 = helpers_stringSlice__P165429_mk(s);
    s.tmp_2.arg0 = s.arg0;
    r0 = (s.qidx___167080 + 1);
    s.tmp_2.arg1 = r0;
    s.tmp_2.arg2 = undefined;
    s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = undefined;
    s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = pxsim_pxtrt.mkMap();
  case 3:
    return leave(s, r0)
  default: oops()
} } }
azureiot_parseTopicArgs__P166118.info = {"start":4921,"length":186,"line":160,"column":4,"endLine":165,"endColumn":5,"fileName":"azureiot.ts","functionName":"parseTopicArgs","argumentNames":["topic"]}

function azureiot_parseTopicArgs__P166118_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: azureiot_parseTopicArgs__P166118, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  qidx___167080: undefined,
  arg0: undefined,
} }





function azureiot_parsePropertyBag__P166110(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.r___167098 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtrt.mkMap();
    s.r___167098 = (r0);
    s.tmp_0 = r0 = s.arg1;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = "&";
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_pxtcore_mkAction(1, inline__P167113);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_2, 0, s.r___167098);
    s.tmp_3 = helpers_arrayForEach__P165423_mk(s);
    s.tmp_4 = helpers_arrayMap__P165420_mk(s);
    s.tmp_5 = helpers_stringSplit__P165431_mk(s);
    s.tmp_5.arg0 = s.arg0;
    s.tmp_5.arg1 = s.tmp_1;
    s.tmp_5.arg2 = undefined;
    s.pc = 5; return s.tmp_5;
  case 5:
    r0 = s.retval;
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = inline__P167109;
    s.pc = 4; return s.tmp_4;
  case 4:
    r0 = s.retval;
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = s.tmp_2;
    s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    r0 = s.r___167098;
    return leave(s, r0)
  default: oops()
} } }
azureiot_parsePropertyBag__P166110.info = {"start":2322,"length":243,"line":73,"column":4,"endLine":79,"endColumn":5,"fileName":"azureiot.ts","functionName":"parsePropertyBag","argumentNames":["msg","separator"]}

function azureiot_parsePropertyBag__P166110_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: azureiot_parsePropertyBag__P166110, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  r___167098: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P167109(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = azureiot_splitPair__P166109_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
inline__P167109.info = {"start":2466,"length":19,"line":76,"column":17,"endLine":76,"endColumn":36,"fileName":"azureiot.ts","functionName":"inline","argumentNames":["kv"]}

function inline__P167109_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P167109, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function inline__P167113(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.caps[0];
    r0 = pxsim_Array__getAt(s.arg0, 0);
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.arg0, 1);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt.mapSetGeneric(s.tmp_0, s.tmp_1, s.tmp_2);
    r0 = s.tmp_2;
    return leave(s, r0)
  default: oops()
} } }
inline__P167113.info = {"start":2508,"length":31,"line":77,"column":21,"endLine":77,"endColumn":52,"fileName":"azureiot.ts","functionName":"inline","argumentNames":["parts"]}

function inline__P167113_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P167113, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function azureiot_splitPair__P166109(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.i___167121 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_String_.indexOf(s.arg0, "=", undefined);
    s.i___167121 = (r0);
    r0 = (s.i___167121 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_1, s.arg0);
    r0 = pxsim_String_.mkEmpty();
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_2);
    r0 = s.tmp_1;
    { step = 3; continue; }
    { step = 2; continue; }
  case 1:
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    s.tmp_5 = helpers_stringSlice__P165429_mk(s);
    s.tmp_5.arg0 = s.arg0;
    s.tmp_5.arg1 = 0;
    s.tmp_5.arg2 = s.i___167121;
    s.pc = 4; return s.tmp_5;
  case 4:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_Array__push(s.tmp_3, s.tmp_4);
    s.tmp_7 = helpers_stringSlice__P165429_mk(s);
    s.tmp_7.arg0 = s.arg0;
    r0 = (s.i___167121 + 1);
    s.tmp_7.arg1 = r0;
    s.tmp_7.arg2 = undefined;
    s.pc = 5; return s.tmp_7;
  case 5:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_Array__push(s.tmp_3, s.tmp_6);
    r0 = s.tmp_3;
    { step = 3; continue; }
  case 2:
    r0 = undefined;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
azureiot_splitPair__P166109.info = {"start":2120,"length":196,"line":65,"column":4,"endLine":71,"endColumn":5,"fileName":"azureiot.ts","functionName":"splitPair","argumentNames":["kv"]}

function azureiot_splitPair__P166109_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: azureiot_splitPair__P166109, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  i___167121: undefined,
  arg0: undefined,
} }





function helpers_stringSplit__P165431(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.A___167143 = undefined;
    s.lim___167145 = undefined;
    s.s___167161 = undefined;
    s.p___167164 = undefined;
    s.R___167165 = undefined;
    s.z___167179 = undefined;
    s.T___167192 = undefined;
    s.q___167193 = undefined;
    s.e___167199 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.A___167143 = (r0);
    s.lim___167145 = (0);
    r0 = (s.arg2 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (536870912 - 1);
    s.lim___167145 = (r0);
    { step = 4; continue; }
  case 1:
    r0 = (s.arg2 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.lim___167145 = (0);
    { step = 3; continue; }
  case 2:
    r0 = (s.arg2 | 0);
    s.lim___167145 = (r0);
  case 3:
  case 4:
    r0 = pxsim_String_.length(s.arg0);
    s.s___167161 = (r0);
    s.p___167164 = (0);
    s.R___167165 = (s.arg1);
    r0 = (s.lim___167145 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.A___167143;
    { step = 21; continue; }
  case 5:
  case 6:
    r0 = (s.arg1 === undefined);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 7; continue; }
    r0 = pxsim_Array_.setAt(s.A___167143, 0, s.arg0);
    r0 = s.A___167143;
    { step = 21; continue; }
  case 7:
  case 8:
    r0 = (s.s___167161 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    s.tmp_1 = helpers_splitMatch__P165432_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = 0;
    s.tmp_1.arg2 = s.R___167165;
    s.pc = 22; return s.tmp_1;
  case 22:
    r0 = s.retval;
    s.z___167179 = (r0);
    r0 = (s.z___167179 > -1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    r0 = s.A___167143;
    { step = 21; continue; }
  case 9:
  case 10:
    r0 = pxsim_Array_.setAt(s.A___167143, 0, s.arg0);
    r0 = s.A___167143;
    { step = 21; continue; }
  case 11:
  case 12:
    s.q___167193 = (s.p___167164);
  case 13:
    r0 = (s.q___167193 != s.s___167161);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 20; continue; }
    s.tmp_1 = helpers_splitMatch__P165432_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.q___167193;
    s.tmp_1.arg2 = s.R___167165;
    s.pc = 23; return s.tmp_1;
  case 23:
    r0 = s.retval;
    s.e___167199 = (r0);
    r0 = (s.e___167199 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    r0 = (s.q___167193 + 1);
    s.q___167193 = (r0);
    { step = 19; continue; }
  case 14:
    r0 = (s.e___167199 == s.p___167164);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    r0 = (s.q___167193 + 1);
    s.q___167193 = (r0);
    { step = 18; continue; }
  case 15:
    s.tmp_0 = helpers_stringSlice__P165429_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.p___167164;
    s.tmp_0.arg2 = s.q___167193;
    s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    s.T___167192 = (r0);
    r0 = pxsim_Array__push(s.A___167143, s.T___167192);
    r0 = pxsim_Array__length(s.A___167143);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == s.lim___167145);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 16; continue; }
    r0 = s.A___167143;
    { step = 21; continue; }
  case 16:
  case 17:
    s.p___167164 = (s.e___167199);
    s.q___167193 = (s.p___167164);
  case 18:
  case 19:
    { step = 13; continue; }
  case 20:
    s.tmp_0 = helpers_stringSlice__P165429_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.p___167164;
    s.tmp_0.arg2 = s.q___167193;
    s.pc = 25; return s.tmp_0;
  case 25:
    r0 = s.retval;
    s.T___167192 = (r0);
    r0 = pxsim_Array__push(s.A___167143, s.T___167192);
    r0 = s.A___167143;
  case 21:
    return leave(s, r0)
  default: oops()
} } }
helpers_stringSplit__P165431.info = {"start":8630,"length":1319,"line":300,"column":4,"endLine":344,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"stringSplit","argumentNames":["S","separator","limit"]}

function helpers_stringSplit__P165431_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_stringSplit__P165431, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  A___167143: undefined,
  lim___167145: undefined,
  s___167161: undefined,
  p___167164: undefined,
  R___167165: undefined,
  z___167179: undefined,
  T___167192: undefined,
  q___167193: undefined,
  e___167199: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function helpers_splitMatch__P165432(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.r___167244 = undefined;
    s.s___167247 = undefined;
    s.i___167257 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_String_.length(s.arg2);
    s.r___167244 = (r0);
    r0 = pxsim_String_.length(s.arg0);
    s.s___167247 = (r0);
    r0 = (s.arg1 + s.r___167244);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > s.s___167247);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = -1;
    { step = 7; continue; }
  case 1:
  case 2:
    s.i___167257 = (0);
  case 3:
    r0 = (s.i___167257 < s.r___167244);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_3 = r0 = s.arg0;
    r0 = (s.arg1 + s.i___167257);
    s.tmp_4 = r0;
    r0 = pxsim_String_.charAt(s.tmp_3, s.tmp_4);
    s.tmp_2 = r0;
    r0 = pxsim_String_.charAt(s.arg2, s.i___167257);
    s.tmp_5 = r0;
    r0 = (s.tmp_2 != s.tmp_5);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = -1;
    { step = 7; continue; }
  case 4:
  case 5:
    r0 = (s.i___167257 + 1);
    s.i___167257 = (r0);
    { step = 3; continue; }
  case 6:
    r0 = (s.arg1 + s.r___167244);
  case 7:
    return leave(s, r0)
  default: oops()
} } }
helpers_splitMatch__P165432.info = {"start":9955,"length":289,"line":346,"column":4,"endLine":355,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"splitMatch","argumentNames":["S","q","R"]}

function helpers_splitMatch__P165432_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_splitMatch__P165432, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  r___167244: undefined,
  s___167247: undefined,
  i___167257: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function helpers_arrayMap__P165420(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.res___167280 = undefined;
    s.len___167282 = undefined;
    s.i___167285 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.res___167280 = (r0);
    r0 = pxsim_Array__length(s.arg0);
    s.len___167282 = (r0);
    s.i___167285 = (0);
  case 1:
    r0 = (s.i___167285 < s.len___167282);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = r0 = s.res___167280;
    s.tmp_3 = lambda_3_mk(s);
    s.tmp_3.argL = s.arg1;
    r0 = pxsim_Array__getAt(s.arg0, s.i___167285);
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = s.i___167285;
    setupLambda(s.tmp_3, s.tmp_3.argL);
    s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_2);
    r0 = (s.i___167285 + 1);
    s.i___167285 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = s.res___167280;
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayMap__P165420.info = {"start":4670,"length":299,"line":169,"column":4,"endLine":176,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arrayMap","argumentNames":["arr","callbackfn"]}

function helpers_arrayMap__P165420_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayMap__P165420, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  res___167280: undefined,
  len___167282: undefined,
  i___167285: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_arrayForEach__P165423(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.len___167303 = undefined;
    s.i___167306 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__length(s.arg0);
    s.len___167303 = (r0);
    s.i___167306 = (0);
  case 1:
    r0 = (s.i___167306 < s.len___167303);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = lambda_3_mk(s);
    s.tmp_1.argL = s.arg1;
    r0 = pxsim_Array__getAt(s.arg0, s.i___167306);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.i___167306;
    setupLambda(s.tmp_1, s.tmp_1.argL);
    s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    r0 = (s.i___167306 + 1);
    s.i___167306 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayForEach__P165423.info = {"start":5581,"length":250,"line":194,"column":4,"endLine":199,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arrayForEach","argumentNames":["arr","callbackfn"]}

function helpers_arrayForEach__P165423_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayForEach__P165423, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  len___167303: undefined,
  i___167306: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function mqtt_Client_subscribe__P166093(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, mqtt_Client__C166086_VT)) failedCast(r0);
    s.tmp_0 = mqtt_Client_send__P166094_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = mqtt_Protocol_createSubscribe__P166079_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.tmp_1.arg1 = s.arg3;
    s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    if (!r0) { step = 5; continue; }
    s.tmp_2 = r0 = s.arg1;
    r0 = pxsim_String_.length(s.arg1);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 - 1);
    s.tmp_3 = r0;
    r0 = pxsim_String_.charAt(s.tmp_2, s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == "#");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_5 = helpers_stringSlice__P165429_mk(s);
    s.tmp_5.arg0 = s.arg1;
    s.tmp_5.arg1 = 0;
    r0 = pxsim_String_.length(s.arg1);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 - 1);
    s.tmp_5.arg2 = r0;
    s.pc = 9; return s.tmp_5;
  case 9:
    r0 = s.retval;
    s.arg1 = (r0);
  case 1:
  case 2:
    r0 = s.arg0.fields["mqttHandlers"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_3 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["mqttHandlers"] = (s.tmp_4);
  case 3:
  case 4:
    r0 = pxsim_pxtcore_mkClassInstance(mqtt_MQTTHandler__C166084_VT);
    s.tmp_0 = r0;
    s.tmp_1 = mqtt_MQTTHandler_constructor__P166085_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg1;
    s.tmp_1.arg2 = s.arg2;
    s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
    r0 = s.arg0.fields["mqttHandlers"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_0);
  case 5:
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Client_subscribe__P166093.info = {"start":13919,"length":470,"line":427,"column":8,"endLine":435,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"subscribe","argumentNames":["this","topic","handler","qos"]}

function mqtt_Client_subscribe__P166093_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Client_subscribe__P166093, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function mqtt_MQTTHandler_constructor__P166085(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, mqtt_MQTTHandler__C166084_VT)) failedCast(r0);
    r0 = (s.arg0).fields["topic"] = (s.arg1);
    r0 = (s.arg0).fields["handler"] = (s.arg2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
mqtt_MQTTHandler_constructor__P166085.info = {"start":9362,"length":110,"line":296,"column":8,"endLine":299,"endColumn":13,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"inline","argumentNames":["this","topic","handler"]}

function mqtt_MQTTHandler_constructor__P166085_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_MQTTHandler_constructor__P166085, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function mqtt_Protocol_createSubscribe__P166079(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.pid___167366 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = mqtt_Protocol_strChr__P166068_mk(s);
    s.tmp_1 = mqtt_Protocol_getBytes__P166071_mk(s);
    s.tmp_1.arg0 = 1;
    s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.pid___167366 = (r0);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg1);
    s.tmp_1 = mqtt_Protocol_createPacket__P166073_mk(s);
    s.tmp_1.arg0 = 130;
    s.tmp_1.arg1 = s.pid___167366;
    s.tmp_2 = helpers_bufferConcat__P165500_mk(s);
    s.tmp_3 = mqtt_Protocol_pack__P166072_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.pc = 5; return s.tmp_3;
  case 5:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.tmp_4 = mqtt_Protocol_strChr__P166068_mk(s);
    s.tmp_4.arg0 = s.tmp_0;
    s.pc = 6; return s.tmp_4;
  case 6:
    r0 = s.retval;
    s.tmp_2.arg1 = r0;
    s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_1.arg2 = r0;
    s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Protocol_createSubscribe__P166079.info = {"start":8199,"length":330,"line":259,"column":8,"endLine":266,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"createSubscribe","argumentNames":["topic","qos"]}

function mqtt_Protocol_createSubscribe__P166079_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Protocol_createSubscribe__P166079, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  pid___167366: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function control_fail__P165560(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = console_log__P165597_mk(s);
    s.tmp_0.arg0 = "Fatal failure: ";
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = console_log__P165597_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = pxsim.control.dmesg(s.arg0);
    r0 = pxsim_pxtrt.panic(108);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_fail__P165560.info = {"start":2676,"length":155,"line":89,"column":4,"endLine":94,"endColumn":5,"fileName":"pxt_modules/base/control.ts","functionName":"fail","argumentNames":["message"]}

function control_fail__P165560_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_fail__P165560, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function azureiot_mqttClient__P166107(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals._mqttClient___166102);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = azureiot_createMQTTClient__P166108_mk(s);
    s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    globals._mqttClient___166102 = (r0);
  case 1:
  case 2:
    r0 = globals._mqttClient___166102;
    return leave(s, r0)
  default: oops()
} } }
azureiot_mqttClient__P166107.info = {"start":532,"length":149,"line":23,"column":4,"endLine":27,"endColumn":5,"fileName":"azureiot.ts","functionName":"mqttClient","argumentNames":[]}

function azureiot_mqttClient__P166107_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: azureiot_mqttClient__P166107, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function azureiot_createMQTTClient__P166108(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.connString___167398 = undefined;
    s.connStringParts___167404 = undefined;
    s.iotHubHostName___167408 = undefined;
    s.deviceId___167411 = undefined;
    s.sasToken___167414 = undefined;
    s.opts___167417 = undefined;
    s.c___167437 = undefined;
    r0 = pxsim.control.allocateNotifyEvent();
    globals._messageBusId___166103 = (r0);
    s.tmp_0 = settings_SecretStore_readSecret__P165785_mk(s);
    s.tmp_0.arg0 = globals.programSecrets___165792;
    s.tmp_0.arg1 = globals.SECRETS_KEY___166098;
    s.tmp_0.arg2 = true;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.connString___167398 = (r0);
    s.tmp_0 = azureiot_parsePropertyBag__P166110_mk(s);
    s.tmp_0.arg0 = s.connString___167398;
    s.tmp_0.arg1 = ";";
    s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.connStringParts___167404 = (r0);
    r0 = pxsim_pxtrt.mapGetGeneric(s.connStringParts___167404, "HostName");
    s.iotHubHostName___167408 = (r0);
    r0 = pxsim_pxtrt.mapGetGeneric(s.connStringParts___167404, "DeviceName");
    s.deviceId___167411 = (r0);
    r0 = pxsim_pxtrt.mapGetGeneric(s.connStringParts___167404, "SharedAccessSignature");
    s.sasToken___167414 = (r0);
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "host", s.iotHubHostName___167408);
    r0 = pxsim_String_.mkEmpty();
    s.tmp_5 = r0;
    if ((s.iotHubHostName___167408) && (s.iotHubHostName___167408).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.iotHubHostName___167408);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.iotHubHostName___167408) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_6);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, "/");
    s.tmp_3 = r0;
    if ((s.deviceId___167411) && (s.deviceId___167411).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.deviceId___167411);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.deviceId___167411) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_7);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, "/api-version=2018-06-30");
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "username", s.tmp_1);
    if ((s.sasToken___167414) && (s.sasToken___167414).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.sasToken___167414);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.sasToken___167414) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim_String__concat("SharedAccessSignature ", s.tmp_9);
    s.tmp_8 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "password", s.tmp_8);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "clientId", s.deviceId___167411);
    s.opts___167417 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(mqtt_Client__C166086_VT);
    s.tmp_0 = r0;
    s.tmp_1 = mqtt_Client_constructor__P166097_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.opts___167417;
    s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    s.c___167437 = (s.tmp_0);
    s.tmp_0 = mqtt_EventEmitter_on__P166081_mk(s);
    s.tmp_0.arg0 = s.c___167437;
    s.tmp_0.arg1 = "connected";
    s.tmp_0.arg2 = inline__P167443;
    s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.tmp_0 = mqtt_EventEmitter_on__P166081_mk(s);
    s.tmp_0.arg0 = s.c___167437;
    s.tmp_0.arg1 = "disconnected";
    s.tmp_0.arg2 = inline__P167452;
    s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.tmp_0 = mqtt_EventEmitter_on__P166081_mk(s);
    s.tmp_0.arg0 = s.c___167437;
    s.tmp_0.arg1 = "error";
    s.tmp_0.arg2 = inline__P167461;
    s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    s.tmp_0 = mqtt_EventEmitter_on__P166081_mk(s);
    s.tmp_0.arg0 = s.c___167437;
    s.tmp_0.arg1 = "receive";
    s.tmp_0.arg2 = inline__P167476;
    s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    s.tmp_0 = mqtt_Client_connect__P166091_mk(s);
    s.tmp_0.arg0 = s.c___167437;
    s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    r0 = s.c___167437;
    return leave(s, r0)
  default: oops()
} } }
azureiot_createMQTTClient__P166108.info = {"start":687,"length":1427,"line":29,"column":4,"endLine":63,"endColumn":5,"fileName":"azureiot.ts","functionName":"createMQTTClient","argumentNames":[]}

function azureiot_createMQTTClient__P166108_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: azureiot_createMQTTClient__P166108, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  connString___167398: undefined,
  connStringParts___167404: undefined,
  iotHubHostName___167408: undefined,
  deviceId___167411: undefined,
  sasToken___167414: undefined,
  opts___167417: undefined,
  c___167437: undefined,
} }





function inline__P167443(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.tmp_0 = azureiot_log__P166106_mk(s);
    s.tmp_0.arg0 = "connected";
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = pxsim.control.raiseEvent(globals._messageBusId___166103, 1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P167443.info = {"start":1499,"length":117,"line":46,"column":26,"endLine":49,"endColumn":9,"fileName":"azureiot.ts","functionName":"inline","argumentNames":[]}

function inline__P167443_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P167443, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P167452(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.tmp_0 = azureiot_log__P166106_mk(s);
    s.tmp_0.arg0 = "disconnected";
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = pxsim.control.raiseEvent(globals._messageBusId___166103, 2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P167452.info = {"start":1648,"length":123,"line":50,"column":29,"endLine":53,"endColumn":9,"fileName":"azureiot.ts","functionName":"inline","argumentNames":[]}

function inline__P167452_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P167452, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P167461(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = azureiot_log__P166106_mk(s);
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("error: ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = pxsim.control.raiseEvent(globals._messageBusId___166103, 3);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P167461.info = {"start":1796,"length":120,"line":54,"column":22,"endLine":57,"endColumn":9,"fileName":"azureiot.ts","functionName":"inline","argumentNames":["msg"]}

function inline__P167461_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P167461, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function inline__P167476(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = azureiot_log__P166106_mk(s);
    s.tmp_7 = if_topic_1_mk(s);
    s.tmp_7.arg0 = s.arg0;
    if (!s.tmp_7.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, "topic");
    } else {
    s.tmp_7.fn = s.tmp_7.arg0.vtable.iface["topic"];
    if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields["topic"]; }
    else { s.pc = 2; return s.tmp_7; }
    }
  case 2:
    r0 = s.retval;
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("unhandled msg: ", s.tmp_5);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, " / ");
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_1 = r0;
    s.tmp_11 = if_content_1_mk(s);
    s.tmp_11.arg0 = s.arg0;
    if (!s.tmp_11.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_11.arg0, "content");
    } else {
    s.tmp_11.fn = s.tmp_11.arg0.vtable.iface["content"];
    if (s.tmp_11.fn == null) { s.retval = s.tmp_11.arg0.fields["content"]; }
    else { s.pc = 6; return s.tmp_11; }
    }
  case 6:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = pxsim.BufferMethods.toString(s.tmp_10);
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_8);
    s.tmp_0.arg0 = r0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P167476.info = {"start":1943,"length":124,"line":58,"column":24,"endLine":60,"endColumn":9,"fileName":"azureiot.ts","functionName":"inline","argumentNames":["packet"]}

function inline__P167476_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P167476, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  arg0: undefined,
} }





function mqtt_Client_connect__P166091(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, mqtt_Client__C166086_VT)) failedCast(r0);
    s.tmp_0 = mqtt_Client_log__P166088_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_5 = if_host_1_mk(s);
    r0 = s.arg0.fields["opt"];
    s.tmp_5.arg0 = r0;
    if (!s.tmp_5.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, "host");
    } else {
    s.tmp_5.fn = s.tmp_5.arg0.vtable.iface["host"];
    if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields["host"]; }
    else { s.pc = 4; return s.tmp_5; }
    }
  case 4:
    r0 = s.retval;
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat("Connecting to ", s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, ":");
    s.tmp_1 = r0;
    s.tmp_8 = if_port_1_mk(s);
    r0 = s.arg0.fields["opt"];
    s.tmp_8.arg0 = r0;
    if (!s.tmp_8.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_8.arg0, "port");
    } else {
    s.tmp_8.fn = s.tmp_8.arg0.vtable.iface["port"];
    if (s.tmp_8.fn == null) { s.retval = s.tmp_8.arg0.fields["port"]; }
    else { s.pc = 6; return s.tmp_8; }
    }
  case 6:
    r0 = s.retval;
    s.tmp_7 = r0;
    if ((s.tmp_7) && (s.tmp_7).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_7);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_7) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_6);
    s.tmp_0.arg1 = r0;
    s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = s.arg0.fields["wdId"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === -123);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkAction(1, inline__P167526);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_2, 0, s.arg0);
    s.tmp_3 = r0 = s.arg0;
    s.tmp_5 = setInterval__P165656_mk(s);
    s.tmp_5.arg0 = s.tmp_2;
    s.tmp_5.arg1 = 50000;
    s.pc = 8; return s.tmp_5;
  case 8:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["wdId"] = (s.tmp_4);
  case 1:
  case 2:
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = net_Net_createSocket__P165847_mk(s);
    r0 = s.arg0.fields["net"];
    s.tmp_2.arg0 = r0;
    s.tmp_3 = if_host_1_mk(s);
    r0 = s.arg0.fields["opt"];
    s.tmp_3.arg0 = r0;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "host");
    } else {
    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["host"];
    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["host"]; }
    else { s.pc = 10; return s.tmp_3; }
    }
  case 10:
    r0 = s.retval;
    s.tmp_2.arg1 = r0;
    s.tmp_4 = if_port_1_mk(s);
    r0 = s.arg0.fields["opt"];
    s.tmp_4.arg0 = r0;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "port");
    } else {
    s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["port"];
    if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["port"]; }
    else { s.pc = 11; return s.tmp_4; }
    }
  case 11:
    r0 = s.retval;
    s.tmp_2.arg2 = r0;
    s.tmp_2.arg3 = true;
    s.pc = 9; return s.tmp_2;
  case 9:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["sct"] = (s.tmp_1);
    r0 = pxsim_pxtcore_mkAction(1, inline__P167555);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = if_onOpen_2_mk(s);
    r0 = s.arg0.fields["sct"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["onOpen"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["onOpen"]; }
    else { s.pc = 12; return s.tmp_1; }
  case 12:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P167567);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = if_onMessage_2_mk(s);
    r0 = s.arg0.fields["sct"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["onMessage"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["onMessage"]; }
    else { s.pc = 13; return s.tmp_1; }
  case 13:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P167586);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = if_onError_2_mk(s);
    r0 = s.arg0.fields["sct"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["onError"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["onError"]; }
    else { s.pc = 14; return s.tmp_1; }
  case 14:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P167594);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = if_onClose_2_mk(s);
    r0 = s.arg0.fields["sct"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["onClose"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["onClose"]; }
    else { s.pc = 15; return s.tmp_1; }
  case 15:
    r0 = s.retval;
    s.tmp_0 = if_connect_1_mk(s);
    r0 = s.arg0.fields["sct"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["connect"];
    if (s.tmp_0.fn == null) { s.retval = s.tmp_0.arg0.fields["connect"]; }
    else { s.pc = 16; return s.tmp_0; }
  case 16:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Client_connect__P166091.info = {"start":12183,"length":1345,"line":385,"column":8,"endLine":418,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"connect","argumentNames":["this"]}

function mqtt_Client_connect__P166091_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Client_connect__P166091, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  arg0: undefined,
} }





function inline__P167526(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    r0 = s.caps[0].fields["connected"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = mqtt_EventEmitter_emit__P166082_mk(s);
    s.tmp_3.arg0 = s.caps[0];
    s.tmp_3.arg1 = "disconnected";
    s.tmp_3.arg2 = undefined;
    s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    s.tmp_0 = mqtt_EventEmitter_emit__P166082_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = "error";
    s.tmp_0.arg2 = "No connection. Retrying.";
    s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = mqtt_Client_disconnect__P166090_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.tmp_0 = mqtt_Client_connect__P166091_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P167526.info = {"start":12378,"length":296,"line":388,"column":40,"endLine":395,"endColumn":17,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"inline","argumentNames":[]}

function inline__P167526_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P167526, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
} }





function inline__P167555(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.tmp_0 = mqtt_Client_log__P166088_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = "Network connection established.";
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = mqtt_EventEmitter_emit__P166082_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = "connect";
    s.tmp_0.arg2 = undefined;
    s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = mqtt_Client_send__P166094_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_1 = mqtt_Protocol_createConnect__P166074_mk(s);
    r0 = s.caps[0].fields["opt"];
    s.tmp_1.arg0 = r0;
    s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P167555.info = {"start":12837,"length":181,"line":399,"column":28,"endLine":403,"endColumn":13,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"inline","argumentNames":[]}

function inline__P167555_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P167555, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function inline__P167567(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = mqtt_Client_log__P166088_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat("incoming ", s.tmp_3);
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, " bytes");
    s.tmp_0.arg1 = r0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = mqtt_Client_handleMessage__P166095_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.arg0;
    s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P167567.info = {"start":13052,"length":135,"line":404,"column":31,"endLine":407,"endColumn":13,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"inline","argumentNames":["msg"]}

function inline__P167567_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P167567, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }





function inline__P167586(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.tmp_0 = mqtt_Client_log__P166088_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = "Error.";
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = mqtt_EventEmitter_emit__P166082_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = "error";
    s.tmp_0.arg2 = undefined;
    s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P167586.info = {"start":13219,"length":93,"line":408,"column":29,"endLine":411,"endColumn":13,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"inline","argumentNames":[]}

function inline__P167586_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P167586, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P167594(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.tmp_0 = mqtt_Client_log__P166088_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = "Close.";
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = mqtt_EventEmitter_emit__P166082_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = "disconnected";
    s.tmp_0.arg2 = undefined;
    s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = (s.caps[0]).fields["connected"] = (false);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P167594.info = {"start":13344,"length":140,"line":412,"column":29,"endLine":416,"endColumn":13,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"inline","argumentNames":[]}

function inline__P167594_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P167594, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function mqtt_Client_handleMessage__P166095(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.len___167620 = undefined;
    s.payloadOff___167622 = undefined;
    s.payloadEnd___167645 = undefined;
    s.cmd___167653 = undefined;
    s.controlPacketType___167656 = undefined;
    s.payload___167659 = undefined;
    s.returnCode___167679 = undefined;
    s.connectionError___167701 = undefined;
    s.message___167707 = undefined;
    s.handled___167712 = undefined;
    s.h___167716 = undefined;
    s.unnamed546___U11 = undefined;
    s.unnamed547___U12 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, mqtt_Client__C166086_VT)) failedCast(r0);
    r0 = s.arg0.fields["buf"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = helpers_bufferConcat__P165500_mk(s);
    r0 = s.arg0.fields["buf"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.arg1;
    s.pc = 35; return s.tmp_1;
  case 35:
    r0 = s.retval;
    s.arg1 = (r0);
    r0 = (s.arg0).fields["buf"] = (null);
  case 1:
  case 2:
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    { step = 34; continue; }
  case 3:
  case 4:
    r0 = pxsim.BufferMethods.getByte(s.arg1, 1);
    s.len___167620 = (r0);
    s.payloadOff___167622 = (2);
    r0 = (s.len___167620 & 128);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 < 3);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 5; continue; }
    { step = 34; continue; }
  case 5:
  case 6:
    r0 = pxsim.BufferMethods.getByte(s.arg1, 2);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 & 128);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 7; continue; }
    s.tmp_5 = mqtt_EventEmitter_emit__P166082_mk(s);
    s.tmp_5.arg0 = s.arg0;
    s.tmp_5.arg1 = "error";
    s.tmp_5.arg2 = "too large packet.";
    s.pc = 36; return s.tmp_5;
  case 36:
    r0 = s.retval;
    r0 = (s.arg0).fields["buf"] = (null);
    { step = 34; continue; }
  case 7:
  case 8:
    r0 = pxsim.BufferMethods.getByte(s.arg1, 2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 << 7);
    s.tmp_0 = r0;
    r0 = (s.len___167620 & 127);
    s.tmp_2 = r0;
    r0 = (s.tmp_0 | s.tmp_2);
    s.len___167620 = (r0);
    r0 = (s.payloadOff___167622 + 1);
    s.payloadOff___167622 = (r0);
  case 9:
  case 10:
    r0 = (s.payloadOff___167622 + s.len___167620);
    s.payloadEnd___167645 = (r0);
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < s.payloadEnd___167645);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    { step = 34; continue; }
  case 11:
  case 12:
    r0 = pxsim.BufferMethods.getByte(s.arg1, 0);
    s.cmd___167653 = (r0);
    r0 = (s.cmd___167653 >> 4);
    s.controlPacketType___167656 = (r0);
    s.tmp_0 = r0 = s.arg1;
    s.tmp_1 = r0 = s.payloadOff___167622;
    r0 = (s.payloadEnd___167645 - s.payloadOff___167622);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_0, s.tmp_1, s.tmp_2);
    s.payload___167659 = (r0);
    s.tmp_0 = r0 = s.controlPacketType___167656;
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 13; continue; }
    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_0);
    if (r0) { step = 16; continue; }
    r0 = pxsim_pxtcore.switch_eq(13, s.tmp_0);
    if (r0) { step = 27; continue; }
    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_0);
    if (r0) { step = 28; continue; }
    r0 = pxsim_pxtcore.switch_eq(9, s.tmp_0);
    if (r0) { step = 29; continue; }
    r0 = s.tmp_0;
    { step = 30; continue; }
  case 13:
    r0 = pxsim.BufferMethods.getByte(s.payload___167659, 0);
    s.returnCode___167679 = (r0);
    r0 = (s.returnCode___167679 === 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    s.tmp_1 = mqtt_Client_log__P166088_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = "MQTT connection accepted.";
    s.pc = 37; return s.tmp_1;
  case 37:
    r0 = s.retval;
    s.tmp_0 = mqtt_EventEmitter_emit__P166082_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "connected";
    s.tmp_0.arg2 = undefined;
    s.pc = 38; return s.tmp_0;
  case 38:
    r0 = s.retval;
    r0 = (s.arg0).fields["connected"] = (true);
    r0 = pxsim_pxtcore_mkAction(1, inline__P167695);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = r0 = s.arg0;
    s.tmp_3 = setInterval__P165656_mk(s);
    s.tmp_3.arg0 = s.tmp_0;
    s.tmp_3.arg1 = 40000;
    s.pc = 39; return s.tmp_3;
  case 39:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["piId"] = (s.tmp_2);
    { step = 15; continue; }
  case 14:
    s.tmp_0 = mqtt_Client_describe__P166089_mk(s);
    s.tmp_0.arg0 = s.returnCode___167679;
    s.pc = 40; return s.tmp_0;
  case 40:
    r0 = s.retval;
    s.connectionError___167701 = (r0);
    s.tmp_0 = mqtt_EventEmitter_emit__P166082_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "error";
    s.tmp_0.arg2 = s.connectionError___167701;
    s.pc = 41; return s.tmp_0;
  case 41:
    r0 = s.retval;
  case 15:
    { step = 31; continue; }
  case 16:
    s.tmp_0 = mqtt_Protocol_parsePublish__P166077_mk(s);
    s.tmp_0.arg0 = s.cmd___167653;
    s.tmp_0.arg1 = s.payload___167659;
    s.pc = 42; return s.tmp_0;
  case 42:
    r0 = s.retval;
    s.message___167707 = (r0);
    s.handled___167712 = (false);
    r0 = s.arg0.fields["mqttHandlers"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 21; continue; }
    s.h___167716 = (undefined);
    r0 = s.arg0.fields["mqttHandlers"];
    s.unnamed546___U11 = (r0);
    s.unnamed547___U12 = (0);
  case 17:
    s.tmp_0 = r0 = s.unnamed547___U12;
    r0 = pxsim_Array__length(s.unnamed546___U11);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 20; continue; }
    r0 = pxsim_Array__getAt(s.unnamed546___U11, s.unnamed547___U12);
    s.h___167716 = (r0);
    s.tmp_4 = helpers_stringSlice__P165429_mk(s);
    s.tmp_5 = if_topic_1_mk(s);
    s.tmp_5.arg0 = s.message___167707;
    if (!s.tmp_5.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, "topic");
    } else {
    s.tmp_5.fn = s.tmp_5.arg0.vtable.iface["topic"];
    if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields["topic"]; }
    else { s.pc = 44; return s.tmp_5; }
    }
  case 44:
    r0 = s.retval;
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = 0;
    r0 = s.h___167716.fields["topic"];
    s.tmp_6 = r0;
    r0 = pxsim_String_.length(s.tmp_6);
    s.tmp_4.arg2 = r0;
    s.pc = 43; return s.tmp_4;
  case 43:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = s.h___167716.fields["topic"];
    s.tmp_7 = r0;
    r0 = (s.tmp_3 == s.tmp_7);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 18; continue; }
    s.tmp_8 = lambda_2_mk(s);
    r0 = s.h___167716.fields["handler"];
    s.tmp_8.argL = r0;
    s.tmp_8.arg0 = s.message___167707;
    setupLambda(s.tmp_8, s.tmp_8.argL);
    s.pc = 45; return s.tmp_8;
  case 45:
    r0 = s.retval;
    s.handled___167712 = (true);
  case 18:
  case 19:
    r0 = (s.unnamed547___U12 + 1);
    s.unnamed547___U12 = (r0);
    { step = 17; continue; }
  case 20:
    s.unnamed546___U11 = (undefined);
  case 21:
  case 22:
    r0 = pxsim_numops_toBoolDecr(s.handled___167712);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 23; continue; }
    s.tmp_2 = mqtt_EventEmitter_emit__P166082_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = "receive";
    s.tmp_2.arg2 = s.message___167707;
    s.pc = 46; return s.tmp_2;
  case 46:
    r0 = s.retval;
  case 23:
  case 24:
    s.tmp_2 = if_qos_1_mk(s);
    s.tmp_2.arg0 = s.message___167707;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "qos");
    } else {
    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["qos"];
    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["qos"]; }
    else { s.pc = 47; return s.tmp_2; }
    }
  case 47:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 25; continue; }
    r0 = pxsim_pxtcore_mkAction(2, inline__P167742);
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_3, 0, s.arg0);
    r0 = pxsim_pxtrt_stclo(s.tmp_3, 1, s.message___167707);
    s.tmp_4 = setTimeout__P165658_mk(s);
    s.tmp_4.arg0 = s.tmp_3;
    s.tmp_4.arg1 = 0;
    s.pc = 48; return s.tmp_4;
  case 48:
    r0 = s.retval;
  case 25:
  case 26:
    { step = 31; continue; }
  case 27:
  case 28:
  case 29:
    { step = 31; continue; }
  case 30:
    s.tmp_0 = mqtt_EventEmitter_emit__P166082_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "error";
    if ((s.controlPacketType___167656) && (s.controlPacketType___167656).vtable) {
    setupResume(s, 50);
    pxsim_String__stringConv(s.controlPacketType___167656);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.controlPacketType___167656) + ""; }
  case 50:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("MQTT unexpected packet type: ", s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, ".");
    s.tmp_0.arg2 = r0;
    s.pc = 49; return s.tmp_0;
  case 49:
    r0 = s.retval;
  case 31:
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > s.payloadEnd___167645);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 32; continue; }
    s.tmp_2 = mqtt_Client_handleMessage__P166095_mk(s);
    s.tmp_2.arg0 = s.arg0;
    r0 = pxsim.BufferMethods.slice(s.arg1, s.payloadEnd___167645, -1);
    s.tmp_2.arg1 = r0;
    s.pc = 51; return s.tmp_2;
  case 51:
    r0 = s.retval;
  case 32:
  case 33:
  case 34:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Client_handleMessage__P166095.info = {"start":14710,"length":2972,"line":445,"column":8,"endLine":516,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"handleMessage","argumentNames":["this","data"]}

function mqtt_Client_handleMessage__P166095_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Client_handleMessage__P166095, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  len___167620: undefined,
  payloadOff___167622: undefined,
  payloadEnd___167645: undefined,
  cmd___167653: undefined,
  controlPacketType___167656: undefined,
  payload___167659: undefined,
  returnCode___167679: undefined,
  connectionError___167701: undefined,
  message___167707: undefined,
  handled___167712: undefined,
  h___167716: undefined,
  unnamed546___U11: undefined,
  unnamed547___U12: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P167695(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.tmp_0 = mqtt_Client_ping__P166096_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P167695.info = {"start":16174,"length":17,"line":483,"column":48,"endLine":483,"endColumn":65,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"inline","argumentNames":[]}

function inline__P167695_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P167695, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P167742(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.tmp_1 = if_pid_1_mk(s);
    s.tmp_1.arg0 = s.caps[1];
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "pid");
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["pid"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["pid"]; }
    else { s.pc = 3; return s.tmp_1; }
    }
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.tmp_3 = mqtt_Client_send__P166094_mk(s);
    s.tmp_3.arg0 = s.caps[0];
    s.tmp_4 = mqtt_Protocol_createPubAck__P166078_mk(s);
    s.tmp_4.arg0 = s.tmp_2;
    s.pc = 5; return s.tmp_4;
  case 5:
    r0 = s.retval;
    s.tmp_3.arg1 = r0;
    s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P167742.info = {"start":17100,"length":113,"line":501,"column":35,"endLine":503,"endColumn":25,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"inline","argumentNames":[]}

function inline__P167742_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P167742, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
} }





function mqtt_Protocol_createPubAck__P166078(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = mqtt_Protocol_createPacket__P166073_mk(s);
    s.tmp_0.arg0 = 64;
    s.tmp_1 = mqtt_Protocol_strChr__P166068_mk(s);
    s.tmp_2 = mqtt_Protocol_getBytes__P166071_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = undefined;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Protocol_createPubAck__P166078.info = {"start":7848,"length":182,"line":249,"column":8,"endLine":253,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"createPubAck","argumentNames":["pid"]}

function mqtt_Protocol_createPubAck__P166078_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Protocol_createPubAck__P166078, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function setTimeout__P165658(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = control_setInterval__P165581_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = 1;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
setTimeout__P165658.info = {"start":610,"length":139,"line":26,"column":0,"endLine":28,"endColumn":1,"fileName":"pxt_modules/base/scheduling.ts","functionName":"setTimeout","argumentNames":["func","delay"]}

function setTimeout__P165658_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: setTimeout__P165658, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function control_setInterval__P165581(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.interval___167796 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.arg1 < 0);
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    r0 = 0;
    { step = 7; continue; }
  case 3:
  case 4:
    r0 = pxsim_numops_toBoolDecr(globals._intervals___165576);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 5; continue; }
    r0 = pxsim_Array__mk();
    globals._intervals___165576 = (r0);
  case 5:
  case 6:
    r0 = pxsim_pxtcore_mkClassInstance(control_Interval__C165577_VT);
    s.tmp_0 = r0;
    s.tmp_1 = control_Interval_constructor__P165580_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.tmp_1.arg2 = s.arg1;
    s.tmp_1.arg3 = s.arg2;
    s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    s.interval___167796 = (s.tmp_0);
    r0 = s.interval___167796.fields["id"];
  case 7:
    return leave(s, r0)
  default: oops()
} } }
control_setInterval__P165581.info = {"start":8440,"length":266,"line":284,"column":4,"endLine":289,"endColumn":5,"fileName":"pxt_modules/base/control.ts","functionName":"setInterval","argumentNames":["func","delay","mode"]}

function control_setInterval__P165581_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_setInterval__P165581, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  interval___167796: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function control_Interval_constructor__P165580(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_Interval__C165577_VT)) failedCast(r0);
    r0 = pxsim_Array__length(globals._intervals___165576);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 1;
    { step = 2; continue; }
  case 1:
    s.tmp_3 = r0 = globals._intervals___165576;
    r0 = pxsim_Array__length(globals._intervals___165576);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 - 1);
    s.tmp_4 = r0;
    r0 = pxsim_Array__getAt(s.tmp_3, s.tmp_4);
    r0 = r0.fields["id"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
  case 2:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = (s.arg0).fields["id"] = (s.tmp_6);
    r0 = (s.arg0).fields["func"] = (s.arg1);
    r0 = (s.arg0).fields["delay"] = (s.arg2);
    r0 = (s.arg0).fields["mode"] = (s.arg3);
    r0 = pxsim_Array__push(globals._intervals___165576, s.arg0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P167839);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = pxsim.control.runInParallel(s.tmp_0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_Interval_constructor__P165580.info = {"start":7169,"length":367,"line":245,"column":8,"endLine":254,"endColumn":9,"fileName":"pxt_modules/base/control.ts","functionName":"inline","argumentNames":["this","func","delay","mode"]}

function control_Interval_constructor__P165580_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_Interval_constructor__P165580, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function inline__P167839(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.tmp_0 = control_Interval_work__P165578_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P167839.info = {"start":7507,"length":17,"line":253,"column":34,"endLine":253,"endColumn":51,"fileName":"pxt_modules/base/control.ts","functionName":"inline","argumentNames":[]}

function inline__P167839_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P167839, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function control_Interval_work__P165578(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_Interval__C165577_VT)) failedCast(r0);
    r0 = s.arg0.fields["mode"];
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(0, s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = s.tmp_0;
    { step = 12; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["delay"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 > 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    s.tmp_3 = pause__P165647_mk(s);
    r0 = s.arg0.fields["delay"];
    s.tmp_3.arg0 = r0;
    s.pc = 13; return s.tmp_3;
  case 13:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = s.arg0.fields["delay"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_2 = lambda_1_mk(s);
    r0 = s.arg0.fields["func"];
    s.tmp_2.argL = r0;
    setupLambda(s.tmp_2, s.tmp_2.argL);
    s.pc = 14; return s.tmp_2;
  case 14:
    r0 = s.retval;
  case 5:
  case 6:
    { step = 12; continue; }
  case 7:
  case 8:
    r0 = s.arg0.fields["delay"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    s.tmp_2 = pause__P165647_mk(s);
    r0 = s.arg0.fields["delay"];
    s.tmp_2.arg0 = r0;
    s.pc = 15; return s.tmp_2;
  case 15:
    r0 = s.retval;
    r0 = s.arg0.fields["delay"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    s.tmp_2 = lambda_1_mk(s);
    r0 = s.arg0.fields["func"];
    s.tmp_2.argL = r0;
    setupLambda(s.tmp_2, s.tmp_2.argL);
    s.pc = 16; return s.tmp_2;
  case 16:
    r0 = s.retval;
  case 9:
  case 10:
    { step = 8; continue; }
  case 11:
  case 12:
    r0 = pxsim_Array_.removeElement(globals._intervals___165576, s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_Interval_work__P165578.info = {"start":7546,"length":823,"line":256,"column":8,"endLine":277,"endColumn":9,"fileName":"pxt_modules/base/control.ts","functionName":"work","argumentNames":["this"]}

function control_Interval_work__P165578_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_Interval_work__P165578, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function pause__P165647(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    setupResume(s, 1);
    pxsim.loops.pause(s.arg0);
    checkResumeConsumed();
    return;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
pause__P165647.info = {"start":246,"length":57,"line":7,"column":0,"endLine":9,"endColumn":1,"fileName":"pxt_modules/base/pause.ts","functionName":"pause","argumentNames":["ms"]}

function pause__P165647_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pause__P165647, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function mqtt_Protocol_parsePublish__P166077(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.qos___167883 = undefined;
    s.topicLength___167888 = undefined;
    s.variableLength___167895 = undefined;
    s.message___167905 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 & 6);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 1);
    s.qos___167883 = (r0);
    r0 = pxsim.BufferMethods.getNumber(s.arg1, 9, 0);
    s.topicLength___167888 = (r0);
    r0 = (2 + s.topicLength___167888);
    s.variableLength___167895 = (r0);
    r0 = (s.qos___167883 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (s.variableLength___167895 + 2);
    s.variableLength___167895 = (r0);
  case 1:
  case 2:
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.slice(s.arg1, 2, s.topicLength___167888);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.toString(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "topic", s.tmp_1);
    r0 = pxsim.BufferMethods.slice(s.arg1, s.variableLength___167895, -1);
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "content", s.tmp_3);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "qos", s.qos___167883);
    r0 = (s.arg0 & 1);
    s.tmp_4 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "retain", s.tmp_4);
    s.message___167905 = (s.tmp_0);
    r0 = (s.qos___167883 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_1 = if_pid_2_mk(s);
    s.tmp_1.arg0 = s.message___167905;
    s.tmp_2 = r0 = s.arg1;
    r0 = (s.variableLength___167895 - 2);
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_2, 9, s.tmp_3);
    s.tmp_1.arg1 = r0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_1.arg0, "pid", s.tmp_1.arg1);
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["set/pid"];
    if (s.tmp_1.fn === null) { s.tmp_1.arg0.fields["pid"] = s.tmp_1.arg1; }
    else if (s.tmp_1.fn === undefined) { failedCast(s.tmp_1.arg0) }
    else { s.pc = 5; return s.tmp_1; }
    }
  case 5:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = s.message___167905;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Protocol_parsePublish__P166077.info = {"start":6945,"length":733,"line":223,"column":8,"endLine":243,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"parsePublish","argumentNames":["cmd","payload"]}

function mqtt_Protocol_parsePublish__P166077_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Protocol_parsePublish__P166077, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  qos___167883: undefined,
  topicLength___167888: undefined,
  variableLength___167895: undefined,
  message___167905: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function mqtt_Client_describe__P166089(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.error___167933 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.error___167933 = ("Connection refused, ");
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 1:
    if ((s.error___167933) && (s.error___167933).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.error___167933);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.error___167933) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, "unacceptable protocol version.");
    s.error___167933 = (r0);
    { step = 7; continue; }
  case 2:
    if ((s.error___167933) && (s.error___167933).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.error___167933);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.error___167933) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, "identifier rejected.");
    s.error___167933 = (r0);
    { step = 7; continue; }
  case 3:
    if ((s.error___167933) && (s.error___167933).vtable) {
    setupResume(s, 10);
    pxsim_String__stringConv(s.error___167933);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.error___167933) + ""; }
  case 10:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, "server unavailable.");
    s.error___167933 = (r0);
    { step = 7; continue; }
  case 4:
    if ((s.error___167933) && (s.error___167933).vtable) {
    setupResume(s, 11);
    pxsim_String__stringConv(s.error___167933);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.error___167933) + ""; }
  case 11:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, "bad user name or password.");
    s.error___167933 = (r0);
    { step = 7; continue; }
  case 5:
    if ((s.error___167933) && (s.error___167933).vtable) {
    setupResume(s, 12);
    pxsim_String__stringConv(s.error___167933);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.error___167933) + ""; }
  case 12:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, "not authorized.");
    s.error___167933 = (r0);
    { step = 7; continue; }
  case 6:
    if ((s.error___167933) && (s.error___167933).vtable) {
    setupResume(s, 13);
    pxsim_String__stringConv(s.error___167933);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.error___167933) + ""; }
  case 13:
    r0 = s.retval;
    s.tmp_0 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 14);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 14:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat("unknown return code: ", s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, ".");
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 15);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.error___167933 = (r0);
  case 7:
    r0 = s.error___167933;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Client_describe__P166089.info = {"start":10556,"length":991,"line":341,"column":8,"endLine":364,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"describe","argumentNames":["code"]}

function mqtt_Client_describe__P166089_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Client_describe__P166089, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  error___167933: undefined,
  arg0: undefined,
} }





function mqtt_Client_ping__P166096(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, mqtt_Client__C166086_VT)) failedCast(r0);
    s.tmp_0 = mqtt_Client_send__P166094_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = mqtt_Protocol_createPingReq__P166075_mk(s);
    s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = mqtt_EventEmitter_emit__P166082_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "debug";
    s.tmp_0.arg2 = "Sent: Ping request.";
    s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Client_ping__P166096.info = {"start":17692,"length":130,"line":518,"column":8,"endLine":521,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"ping","argumentNames":["this"]}

function mqtt_Client_ping__P166096_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Client_ping__P166096, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function mqtt_Protocol_createPingReq__P166075(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, 192);
    r0 = pxsim_Array__push(s.tmp_0, 0);
    s.tmp_1 = mqtt_Protocol_strChr__P166068_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Protocol_createPingReq__P166075.info = {"start":6232,"length":107,"line":205,"column":8,"endLine":207,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"createPingReq","argumentNames":[]}

function mqtt_Protocol_createPingReq__P166075_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Protocol_createPingReq__P166075, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function mqtt_Protocol_createConnect__P166074(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.protocolName___168005 = undefined;
    s.nums___168009 = undefined;
    s.payload___168025 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = mqtt_Protocol_pack__P166072_mk(s);
    s.tmp_0.arg0 = "MQTT";
    s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.protocolName___168005 = (r0);
    r0 = pxsim.control.createBuffer(4);
    s.nums___168009 = (r0);
    r0 = pxsim.BufferMethods.setByte(s.nums___168009, 0, 4);
    s.tmp_0 = r0 = s.nums___168009;
    s.tmp_2 = mqtt_Protocol_createConnectFlags__P166070_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_0, 1, s.tmp_1);
    r0 = pxsim.BufferMethods.setByte(s.nums___168009, 2, 0);
    r0 = pxsim.BufferMethods.setByte(s.nums___168009, 3, 60);
    s.tmp_0 = mqtt_Protocol_pack__P166072_mk(s);
    s.tmp_1 = if_clientId_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "clientId");
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["clientId"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["clientId"]; }
    else { s.pc = 10; return s.tmp_1; }
    }
  case 10:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    s.payload___168025 = (r0);
    s.tmp_1 = if_will_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "will");
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["will"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["will"]; }
    else { s.pc = 11; return s.tmp_1; }
    }
  case 11:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = helpers_bufferConcat__P165500_mk(s);
    s.tmp_2.arg0 = s.payload___168025;
    s.tmp_3 = helpers_bufferConcat__P165500_mk(s);
    s.tmp_4 = mqtt_Protocol_pack__P166072_mk(s);
    s.tmp_5 = if_topic_1_mk(s);
    s.tmp_6 = if_will_1_mk(s);
    s.tmp_6.arg0 = s.arg0;
    if (!s.tmp_6.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, "will");
    } else {
    s.tmp_6.fn = s.tmp_6.arg0.vtable.iface["will"];
    if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields["will"]; }
    else { s.pc = 16; return s.tmp_6; }
    }
  case 16:
    r0 = s.retval;
    s.tmp_5.arg0 = r0;
    if (!s.tmp_5.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, "topic");
    } else {
    s.tmp_5.fn = s.tmp_5.arg0.vtable.iface["topic"];
    if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields["topic"]; }
    else { s.pc = 15; return s.tmp_5; }
    }
  case 15:
    r0 = s.retval;
    s.tmp_4.arg0 = r0;
    s.pc = 14; return s.tmp_4;
  case 14:
    r0 = s.retval;
    s.tmp_3.arg0 = r0;
    s.tmp_7 = mqtt_Protocol_pack__P166072_mk(s);
    s.tmp_8 = if_message_1_mk(s);
    s.tmp_9 = if_will_1_mk(s);
    s.tmp_9.arg0 = s.arg0;
    if (!s.tmp_9.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_9.arg0, "will");
    } else {
    s.tmp_9.fn = s.tmp_9.arg0.vtable.iface["will"];
    if (s.tmp_9.fn == null) { s.retval = s.tmp_9.arg0.fields["will"]; }
    else { s.pc = 19; return s.tmp_9; }
    }
  case 19:
    r0 = s.retval;
    s.tmp_8.arg0 = r0;
    if (!s.tmp_8.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_8.arg0, "message");
    } else {
    s.tmp_8.fn = s.tmp_8.arg0.vtable.iface["message"];
    if (s.tmp_8.fn == null) { s.retval = s.tmp_8.arg0.fields["message"]; }
    else { s.pc = 18; return s.tmp_8; }
    }
  case 18:
    r0 = s.retval;
    s.tmp_7.arg0 = r0;
    s.pc = 17; return s.tmp_7;
  case 17:
    r0 = s.retval;
    s.tmp_3.arg1 = r0;
    s.pc = 13; return s.tmp_3;
  case 13:
    r0 = s.retval;
    s.tmp_2.arg1 = r0;
    s.pc = 12; return s.tmp_2;
  case 12:
    r0 = s.retval;
    s.payload___168025 = (r0);
  case 1:
  case 2:
    s.tmp_1 = if_username_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "username");
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["username"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["username"]; }
    else { s.pc = 20; return s.tmp_1; }
    }
  case 20:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_2 = helpers_bufferConcat__P165500_mk(s);
    s.tmp_2.arg0 = s.payload___168025;
    s.tmp_3 = mqtt_Protocol_pack__P166072_mk(s);
    s.tmp_4 = if_username_1_mk(s);
    s.tmp_4.arg0 = s.arg0;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "username");
    } else {
    s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["username"];
    if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["username"]; }
    else { s.pc = 23; return s.tmp_4; }
    }
  case 23:
    r0 = s.retval;
    s.tmp_3.arg0 = r0;
    s.pc = 22; return s.tmp_3;
  case 22:
    r0 = s.retval;
    s.tmp_2.arg1 = r0;
    s.pc = 21; return s.tmp_2;
  case 21:
    r0 = s.retval;
    s.payload___168025 = (r0);
    s.tmp_1 = if_password_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "password");
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["password"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["password"]; }
    else { s.pc = 24; return s.tmp_1; }
    }
  case 24:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = helpers_bufferConcat__P165500_mk(s);
    s.tmp_2.arg0 = s.payload___168025;
    s.tmp_3 = mqtt_Protocol_pack__P166072_mk(s);
    s.tmp_4 = if_password_1_mk(s);
    s.tmp_4.arg0 = s.arg0;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "password");
    } else {
    s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["password"];
    if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["password"]; }
    else { s.pc = 27; return s.tmp_4; }
    }
  case 27:
    r0 = s.retval;
    s.tmp_3.arg0 = r0;
    s.pc = 26; return s.tmp_3;
  case 26:
    r0 = s.retval;
    s.tmp_2.arg1 = r0;
    s.pc = 25; return s.tmp_2;
  case 25:
    r0 = s.retval;
    s.payload___168025 = (r0);
  case 3:
  case 4:
  case 5:
  case 6:
    s.tmp_0 = mqtt_Protocol_createPacket__P166073_mk(s);
    s.tmp_0.arg0 = 16;
    s.tmp_1 = helpers_bufferConcat__P165500_mk(s);
    s.tmp_1.arg0 = s.protocolName___168005;
    s.tmp_1.arg1 = s.nums___168009;
    s.pc = 29; return s.tmp_1;
  case 29:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = s.payload___168025;
    s.pc = 28; return s.tmp_0;
  case 28:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Protocol_createConnect__P166074.info = {"start":5052,"length":1031,"line":170,"column":8,"endLine":200,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"createConnect","argumentNames":["options"]}

function mqtt_Protocol_createConnect__P166074_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Protocol_createConnect__P166074, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  protocolName___168005: undefined,
  nums___168009: undefined,
  payload___168025: undefined,
  arg0: undefined,
} }





function mqtt_Protocol_createConnectFlags__P166070(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.flags___168072 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.flags___168072 = (0);
    s.tmp_1 = if_username_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "username");
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["username"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["username"]; }
    else { s.pc = 13; return s.tmp_1; }
    }
  case 13:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 128;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = (s.flags___168072 | s.tmp_2);
    s.flags___168072 = (r0);
    s.tmp_1 = if_username_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "username");
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["username"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["username"]; }
    else { s.pc = 14; return s.tmp_1; }
    }
  case 14:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    s.tmp_2 = if_password_1_mk(s);
    s.tmp_2.arg0 = s.arg0;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "password");
    } else {
    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["password"];
    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["password"]; }
    else { s.pc = 15; return s.tmp_2; }
    }
  case 15:
    r0 = s.retval;
  case 4:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 5; continue; }
    r0 = 64;
    { step = 6; continue; }
  case 5:
    r0 = 0;
  case 6:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = (s.flags___168072 | s.tmp_4);
    s.flags___168072 = (r0);
    r0 = (s.flags___168072 | 2);
    s.flags___168072 = (r0);
    s.tmp_1 = if_will_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "will");
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["will"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["will"]; }
    else { s.pc = 16; return s.tmp_1; }
    }
  case 16:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    r0 = (s.flags___168072 | 4);
    s.flags___168072 = (r0);
    s.tmp_1 = if_qos_1_mk(s);
    s.tmp_2 = if_will_1_mk(s);
    s.tmp_2.arg0 = s.arg0;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "will");
    } else {
    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["will"];
    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["will"]; }
    else { s.pc = 18; return s.tmp_2; }
    }
  case 18:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "qos");
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["qos"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["qos"]; }
    else { s.pc = 17; return s.tmp_1; }
    }
  case 17:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = s.tmp_0;
    { step = 8; continue; }
  case 7:
    r0 = 0;
  case 8:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    s.tmp_4 = r0 = s.flags___168072;
    r0 = (s.tmp_3 << 3);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 | s.tmp_5);
    s.flags___168072 = (r0);
    s.tmp_1 = if_retain_1_mk(s);
    s.tmp_2 = if_will_1_mk(s);
    s.tmp_2.arg0 = s.arg0;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "will");
    } else {
    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["will"];
    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["will"]; }
    else { s.pc = 20; return s.tmp_2; }
    }
  case 20:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "retain");
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["retain"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["retain"]; }
    else { s.pc = 19; return s.tmp_1; }
    }
  case 19:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    r0 = 32;
    { step = 10; continue; }
  case 9:
    r0 = 0;
  case 10:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = (s.flags___168072 | s.tmp_3);
    s.flags___168072 = (r0);
  case 11:
  case 12:
    r0 = s.flags___168072;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Protocol_createConnectFlags__P166070.info = {"start":3241,"length":568,"line":124,"column":8,"endLine":137,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"createConnectFlags","argumentNames":["options"]}

function mqtt_Protocol_createConnectFlags__P166070_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Protocol_createConnectFlags__P166070, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  flags___168072: undefined,
  arg0: undefined,
} }





function net_Net_createSocket__P165847(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.c___168126 = undefined;
    s.socket___168131 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Net__C165844_VT)) failedCast(r0);
    s.tmp_0 = net_Net_controller__P165845_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.c___168126 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.c___168126);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = undefined;
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = pxsim_pxtcore_mkClassInstance(net_ControllerSocket__C165821_VT);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.arg3);
    if (!r0) { step = 3; continue; }
    r0 = 2;
    { step = 4; continue; }
  case 3:
    r0 = 0;
  case 4:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    s.tmp_4 = net_ControllerSocket_constructor__P165833_mk(s);
    s.tmp_4.arg0 = s.tmp_2;
    s.tmp_4.arg1 = s.c___168126;
    s.tmp_4.arg2 = s.arg1;
    s.tmp_4.arg3 = s.arg2;
    s.tmp_4.arg4 = s.tmp_3;
    s.pc = 7; return s.tmp_4;
  case 7:
    r0 = s.retval;
    s.socket___168131 = (s.tmp_2);
    r0 = s.socket___168131;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
net_Net_createSocket__P165847.info = {"start":2256,"length":291,"line":80,"column":8,"endLine":85,"endColumn":9,"fileName":"pxt_modules/net/net.ts","functionName":"createSocket","argumentNames":["this","host","port","secure"]}

function net_Net_createSocket__P165847_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Net_createSocket__P165847, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  c___168126: undefined,
  socket___168131: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function net_ControllerSocket_constructor__P165833(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C165821_VT)) failedCast(r0);
    r0 = (s.arg0).fields["controller"] = (s.arg1);
    r0 = (s.arg0).fields["host"] = (s.arg2);
    r0 = (s.arg0).fields["port"] = (s.arg3);
    r0 = (s.arg0).fields["conntype"] = (s.arg4);
    r0 = s.arg0.fields["conntype"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (s.arg0).fields["conntype"] = (0);
  case 1:
  case 2:
    r0 = (s.arg0).fields["_buffer"] = (_hex168157);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = net_Controller__C165793_v1_1_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_2.arg0 = r0;
    if (!checkSubtype(s.tmp_2.arg0, net_Controller__C165793_VT)) failedCast(s.tmp_2.arg0);
    s.tmp_2.fn = s.tmp_2.arg0.vtable.methods.socket;
    s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_socknum"] = (s.tmp_1);
    s.tmp_0 = net_ControllerSocket_setTimeout__P165831_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 0;
    s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_constructor__P165833.info = {"start":672,"length":359,"line":22,"column":8,"endLine":29,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"inline","argumentNames":["this","controller","host","port","conntype"]}

function net_ControllerSocket_constructor__P165833_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_constructor__P165833, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }

const _hex168157 = pxsim.BufferMethods.createBufferFromHex("")




function net_ControllerSocket_setTimeout__P165831(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C165821_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_timeout"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_setTimeout__P165831.info = {"start":5971,"length":78,"line":155,"column":8,"endLine":157,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"setTimeout","argumentNames":["this","value"]}

function net_ControllerSocket_setTimeout__P165831_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_setTimeout__P165831, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function net_Controller_socket__P165795(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C165793_VT)) failedCast(r0);
    r0 = -1;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_socket__P165795.info = {"start":166,"length":58,"line":8,"column":8,"endLine":10,"endColumn":9,"fileName":"pxt_modules/net/controller.ts","functionName":"socket","argumentNames":["this"]}

function net_Controller_socket__P165795_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_socket__P165795, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function mqtt_Client_disconnect__P166090(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, mqtt_Client__C166086_VT)) failedCast(r0);
    r0 = s.arg0.fields["wdId"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 !== -123);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = clearInterval__P165657_mk(s);
    r0 = s.arg0.fields["wdId"];
    s.tmp_2.arg0 = r0;
    s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
    r0 = (s.arg0).fields["wdId"] = (-123);
  case 1:
  case 2:
    r0 = s.arg0.fields["piId"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 !== -123);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = clearInterval__P165657_mk(s);
    r0 = s.arg0.fields["piId"];
    s.tmp_2.arg0 = r0;
    s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    r0 = (s.arg0).fields["piId"] = (-123);
  case 3:
  case 4:
    r0 = s.arg0.fields["sct"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_1 = if_close_1_mk(s);
    r0 = s.arg0.fields["sct"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["close"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["close"]; }
    else { s.pc = 9; return s.tmp_1; }
  case 9:
    r0 = s.retval;
  case 5:
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Client_disconnect__P166090.info = {"start":11557,"length":616,"line":366,"column":8,"endLine":383,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"disconnect","argumentNames":["this"]}

function mqtt_Client_disconnect__P166090_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Client_disconnect__P166090, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function clearInterval__P165657(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = control_clearInterval__P165582_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
clearInterval__P165657.info = {"start":404,"length":116,"line":16,"column":0,"endLine":18,"endColumn":1,"fileName":"pxt_modules/base/scheduling.ts","functionName":"clearInterval","argumentNames":["intervalId"]}

function clearInterval__P165657_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: clearInterval__P165657, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function control_clearInterval__P165582(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.i___168209 = undefined;
    s.it___168215 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(globals._intervals___165576);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 9; continue; }
  case 1:
  case 2:
    s.i___168209 = (0);
  case 3:
    s.tmp_1 = r0 = s.i___168209;
    r0 = pxsim_Array__length(globals._intervals___165576);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    r0 = pxsim_Array__getAt(globals._intervals___165576, s.i___168209);
    s.it___168215 = (r0);
    r0 = s.it___168215.fields["id"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == s.arg0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_0;
    { step = 5; continue; }
  case 4:
    r0 = s.it___168215.fields["mode"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 == s.arg1);
  case 5:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 6; continue; }
    s.tmp_4 = control_Interval_cancel__P165579_mk(s);
    s.tmp_4.arg0 = s.it___168215;
    s.pc = 10; return s.tmp_4;
  case 10:
    r0 = s.retval;
    { step = 8; continue; }
  case 6:
  case 7:
    r0 = (s.i___168209 + 1);
    s.i___168209 = (r0);
    { step = 3; continue; }
  case 8:
  case 9:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_clearInterval__P165582.info = {"start":8712,"length":342,"line":291,"column":4,"endLine":300,"endColumn":5,"fileName":"pxt_modules/base/control.ts","functionName":"clearInterval","argumentNames":["intervalId","mode"]}

function control_clearInterval__P165582_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_clearInterval__P165582, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  i___168209: undefined,
  it___168215: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function control_Interval_cancel__P165579(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_Interval__C165577_VT)) failedCast(r0);
    r0 = (s.arg0).fields["delay"] = (-1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_Interval_cancel__P165579.info = {"start":8379,"length":49,"line":279,"column":8,"endLine":281,"endColumn":9,"fileName":"pxt_modules/base/control.ts","functionName":"cancel","argumentNames":["this"]}

function control_Interval_cancel__P165579_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_Interval_cancel__P165579, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function mqtt_EventEmitter_emit__P166082(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.listeners___168241 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, mqtt_EventEmitter__C166080_VT)) failedCast(r0);
    r0 = s.arg0.fields["handlers"];
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_0, s.arg1);
    s.listeners___168241 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.listeners___168241);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkAction(1, inline__P168249);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg2);
    s.tmp_1 = helpers_arrayForEach__P165423_mk(s);
    s.tmp_1.arg0 = s.listeners___168241;
    s.tmp_1.arg1 = s.tmp_0;
    s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = true;
    return leave(s, r0)
  default: oops()
} } }
mqtt_EventEmitter_emit__P166082.info = {"start":9067,"length":255,"line":286,"column":8,"endLine":292,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"emit","argumentNames":["this","event","arg"]}

function mqtt_EventEmitter_emit__P166082_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_EventEmitter_emit__P166082, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  listeners___168241: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function inline__P168249(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = s.arg0;
    s.tmp_0.arg0 = s.caps[0];
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P168249.info = {"start":9246,"length":25,"line":289,"column":34,"endLine":289,"endColumn":59,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"inline","argumentNames":["listener"]}

function inline__P168249_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P168249, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function setInterval__P165656(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = Math_max__P165437_mk(s);
    s.tmp_0.arg0 = 10;
    r0 = (s.arg1 | 0);
    s.tmp_0.arg1 = r0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.arg1 = (r0);
    s.tmp_0 = control_setInterval__P165581_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = 0;
    s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
setInterval__P165656.info = {"start":125,"length":178,"line":6,"column":0,"endLine":9,"endColumn":1,"fileName":"pxt_modules/base/scheduling.ts","functionName":"setInterval","argumentNames":["func","delay"]}

function setInterval__P165656_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: setInterval__P165656, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function mqtt_EventEmitter_on__P166081(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.listeners___168271 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, mqtt_EventEmitter__C166080_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    { step = 7; continue; }
  case 3:
  case 4:
    r0 = s.arg0.fields["handlers"];
    s.tmp_4 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_4, s.arg1);
    s.listeners___168271 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.listeners___168271);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = pxsim_Array__mk();
    s.tmp_2 = r0;
    s.listeners___168271 = (r0);
    r0 = s.arg0.fields["handlers"];
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt.mapSetGeneric(s.tmp_3, s.arg1, s.tmp_2);
  case 5:
  case 6:
    r0 = pxsim_Array__push(s.listeners___168271, s.arg2);
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
mqtt_EventEmitter_on__P166081.info = {"start":8775,"length":283,"line":278,"column":8,"endLine":285,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"on","argumentNames":["this","event","listener"]}

function mqtt_EventEmitter_on__P166081_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_EventEmitter_on__P166081, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  listeners___168271: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function mqtt_Client_constructor__P166097(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, mqtt_Client__C166086_VT)) failedCast(r0);
    s.tmp_0 = mqtt_EventEmitter_constructor__P166083_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    r0 = (s.arg0).fields["wdId"] = (-123);
    r0 = (s.arg0).fields["piId"] = (-123);
    r0 = (s.arg0).fields["logPriority"] = (4);
    r0 = (s.arg0).fields["connected"] = (false);
    s.tmp_1 = if_port_1_mk(s);
    s.tmp_1.arg0 = s.arg1;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "port");
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["port"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["port"]; }
    else { s.pc = 10; return s.tmp_1; }
    }
  case 10:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = 8883;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.tmp_3 = if_port_2_mk(s);
    s.tmp_3.arg0 = s.arg1;
    s.tmp_3.arg1 = s.tmp_2;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_3.arg0, "port", s.tmp_3.arg1);
    } else {
    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["set/port"];
    if (s.tmp_3.fn === null) { s.tmp_3.arg0.fields["port"] = s.tmp_3.arg1; }
    else if (s.tmp_3.fn === undefined) { failedCast(s.tmp_3.arg0) }
    else { s.pc = 11; return s.tmp_3; }
    }
  case 11:
    r0 = s.retval;
    s.tmp_0 = if_clientId_2_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_1 = if_clientId_1_mk(s);
    s.tmp_1.arg0 = s.arg1;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "clientId");
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["clientId"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["clientId"]; }
    else { s.pc = 13; return s.tmp_1; }
    }
  case 13:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, "clientId", s.tmp_0.arg1);
    } else {
    s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["set/clientId"];
    if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields["clientId"] = s.tmp_0.arg1; }
    else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) }
    else { s.pc = 12; return s.tmp_0; }
    }
  case 12:
    r0 = s.retval;
    s.tmp_1 = if_will_1_mk(s);
    s.tmp_1.arg0 = s.arg1;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "will");
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["will"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["will"]; }
    else { s.pc = 14; return s.tmp_1; }
    }
  case 14:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.tmp_3 = if_qos_1_mk(s);
    s.tmp_4 = if_will_1_mk(s);
    s.tmp_4.arg0 = s.arg1;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "will");
    } else {
    s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["will"];
    if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["will"]; }
    else { s.pc = 16; return s.tmp_4; }
    }
  case 16:
    r0 = s.retval;
    s.tmp_3.arg0 = r0;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "qos");
    } else {
    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["qos"];
    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["qos"]; }
    else { s.pc = 15; return s.tmp_3; }
    }
  case 15:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_2;
    { step = 4; continue; }
  case 3:
    r0 = 0;
  case 4:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    s.tmp_6 = if_qos_2_mk(s);
    s.tmp_7 = if_will_1_mk(s);
    s.tmp_7.arg0 = s.arg1;
    if (!s.tmp_7.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, "will");
    } else {
    s.tmp_7.fn = s.tmp_7.arg0.vtable.iface["will"];
    if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields["will"]; }
    else { s.pc = 18; return s.tmp_7; }
    }
  case 18:
    r0 = s.retval;
    s.tmp_6.arg0 = r0;
    s.tmp_6.arg1 = s.tmp_5;
    if (!s.tmp_6.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_6.arg0, "qos", s.tmp_6.arg1);
    } else {
    s.tmp_6.fn = s.tmp_6.arg0.vtable.iface["set/qos"];
    if (s.tmp_6.fn === null) { s.tmp_6.arg0.fields["qos"] = s.tmp_6.arg1; }
    else if (s.tmp_6.fn === undefined) { failedCast(s.tmp_6.arg0) }
    else { s.pc = 17; return s.tmp_6; }
    }
  case 17:
    r0 = s.retval;
    s.tmp_1 = if_retain_1_mk(s);
    s.tmp_2 = if_will_1_mk(s);
    s.tmp_2.arg0 = s.arg1;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "will");
    } else {
    s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["will"];
    if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["will"]; }
    else { s.pc = 20; return s.tmp_2; }
    }
  case 20:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "retain");
    } else {
    s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["retain"];
    if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["retain"]; }
    else { s.pc = 19; return s.tmp_1; }
    }
  case 19:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 5:
    r0 = false;
  case 6:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    s.tmp_4 = if_retain_2_mk(s);
    s.tmp_5 = if_will_1_mk(s);
    s.tmp_5.arg0 = s.arg1;
    if (!s.tmp_5.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, "will");
    } else {
    s.tmp_5.fn = s.tmp_5.arg0.vtable.iface["will"];
    if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields["will"]; }
    else { s.pc = 22; return s.tmp_5; }
    }
  case 22:
    r0 = s.retval;
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = s.tmp_3;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_4.arg0, "retain", s.tmp_4.arg1);
    } else {
    s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["set/retain"];
    if (s.tmp_4.fn === null) { s.tmp_4.arg0.fields["retain"] = s.tmp_4.arg1; }
    else if (s.tmp_4.fn === undefined) { failedCast(s.tmp_4.arg0) }
    else { s.pc = 21; return s.tmp_4; }
    }
  case 21:
    r0 = s.retval;
  case 7:
  case 8:
    r0 = (s.arg0).fields["opt"] = (s.arg1);
    s.tmp_0 = r0 = s.arg0;
    r0 = globals.net_Net_instance___165850;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["net"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
mqtt_Client_constructor__P166097.info = {"start":9965,"length":581,"line":322,"column":8,"endLine":339,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"inline","argumentNames":["this","opt"]}

function mqtt_Client_constructor__P166097_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_Client_constructor__P166097, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function mqtt_EventEmitter_constructor__P166083(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, mqtt_EventEmitter__C166080_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["handlers"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
mqtt_EventEmitter_constructor__P166083.info = {"start":8708,"length":57,"line":274,"column":8,"endLine":276,"endColumn":9,"fileName":"pxt_modules/mqtt/mqtt.ts","functionName":"inline","argumentNames":["this"]}

function mqtt_EventEmitter_constructor__P166083_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mqtt_EventEmitter_constructor__P166083, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function settings_SecretStore_constructor__P165788(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, settings_SecretStore__C165782_VT)) failedCast(r0);
    r0 = (s.arg0).fields["key"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_SecretStore_constructor__P165788.info = {"start":4521,"length":36,"line":182,"column":8,"endLine":182,"endColumn":44,"fileName":"pxt_modules/settings/settings.ts","functionName":"inline","argumentNames":["this","key"]}

function settings_SecretStore_constructor__P165788_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_SecretStore_constructor__P165788, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function settings_SecretStore_readSecret__P165785(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.secrets___168344 = undefined;
    s.secret___168347 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, settings_SecretStore__C165782_VT)) failedCast(r0);
    s.tmp_0 = settings_SecretStore_readSecrets__P165787_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.secrets___168344 = (r0);
    r0 = pxsim_pxtrt.mapGetGeneric(s.secrets___168344, s.arg1);
    s.secret___168347 = (r0);
    s.tmp_0 = r0 = s.arg2;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(s.secret___168347);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat("missing secret ", s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim.control.dmesg(s.tmp_3);
    r0 = pxsim_pxtrt.panic(922);
  case 3:
  case 4:
    r0 = s.secret___168347;
    return leave(s, r0)
  default: oops()
} } }
settings_SecretStore_readSecret__P165785.info = {"start":5135,"length":365,"line":200,"column":8,"endLine":208,"endColumn":9,"fileName":"pxt_modules/settings/settings.ts","functionName":"readSecret","argumentNames":["this","name","ensure"]}

function settings_SecretStore_readSecret__P165785_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_SecretStore_readSecret__P165785, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  secrets___168344: undefined,
  secret___168347: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function settings_SecretStore_readSecrets__P165787(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.src___168369 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, settings_SecretStore__C165782_VT)) failedCast(r0);
    r0 = pxsim_pxtcore.beginTry(5);
    s.tmp_1 = settings_readString__P165773_mk(s);
    r0 = s.arg0.fields["key"];
    s.tmp_1.arg0 = r0;
    s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = "{}";
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.src___168369 = (s.tmp_2);
    s.tmp_1 = JSON_parse__P165617_mk(s);
    s.tmp_1.arg0 = s.src___168369;
    s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = pxsim_pxtrt.mkMap();
  case 4:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = s.tmp_2;
    { step = 7; continue; }
    r0 = pxsim_pxtcore.endTry();
    { step = 6; continue; }
  case 5:
    r0 = pxsim.control.dmesg("invalid secret format");
    r0 = pxsim_pxtrt.mkMap();
    { step = 7; continue; }
  case 6:
    r0 = undefined;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
settings_SecretStore_readSecrets__P165787.info = {"start":5587,"length":270,"line":214,"column":8,"endLine":222,"endColumn":9,"fileName":"pxt_modules/settings/settings.ts","functionName":"readSecrets","argumentNames":["this"]}

function settings_SecretStore_readSecrets__P165787_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_SecretStore_readSecrets__P165787, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  src___168369: undefined,
  arg0: undefined,
} }





function settings_readString__P165773(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.buf___168382 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.settings._get(s.arg0);
    s.buf___168382 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.buf___168382);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = undefined;
    { step = 3; continue; }
    { step = 2; continue; }
  case 1:
    r0 = pxsim.BufferMethods.toString(s.buf___168382);
    { step = 3; continue; }
  case 2:
    r0 = undefined;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
settings_readString__P165773.info = {"start":2649,"length":177,"line":103,"column":4,"endLine":109,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"readString","argumentNames":["key"]}

function settings_readString__P165773_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_readString__P165773, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  buf___168382: undefined,
  arg0: undefined,
} }





function settings_readBuffer__P165772(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.settings._get(s.arg0);
    return leave(s, r0)
  default: oops()
} } }
settings_readBuffer__P165772.info = {"start":2516,"length":72,"line":96,"column":4,"endLine":98,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"readBuffer","argumentNames":["key"]}

function settings_readBuffer__P165772_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_readBuffer__P165772, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function JSON_stringify__P165616(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.ss___168399 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(JSON_Stringifier__C165613_VT);
    s.ss___168399 = (r0);
    s.tmp_0 = r0 = s.ss___168399;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["currIndent"] = (s.tmp_1);
    r0 = (s.arg2 | 0);
    s.arg2 = (r0);
    r0 = (s.arg2 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.arg2 = (0);
  case 1:
  case 2:
    r0 = (s.arg2 > 10);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.arg2 = (10);
  case 3:
  case 4:
    s.tmp_0 = r0 = s.ss___168399;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["indentStep"] = (s.tmp_1);
    s.tmp_0 = r0 = s.ss___168399;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["currIndent"] = (s.tmp_1);
    r0 = (s.ss___168399).fields["indent"] = (s.arg2);
  case 5:
    s.tmp_0 = r0 = s.arg2;
    r0 = (s.tmp_0 - 1);
    s.arg2 = (r0);
    r0 = (s.tmp_0 > 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 6; continue; }
    s.tmp_2 = r0 = s.ss___168399;
    r0 = s.tmp_2.fields["indentStep"];
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, " ");
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["indentStep"] = (s.tmp_3);
    { step = 5; continue; }
  case 6:
    s.tmp_0 = JSON_Stringifier_go__P165615_mk(s);
    s.tmp_0.arg0 = s.ss___168399;
    s.tmp_0.arg1 = s.arg0;
    s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
JSON_stringify__P165616.info = {"start":8773,"length":414,"line":288,"column":4,"endLine":300,"endColumn":5,"fileName":"pxt_modules/base/json.ts","functionName":"stringify","argumentNames":["value","replacer","indent"]}

function JSON_stringify__P165616_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_stringify__P165616, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  ss___168399: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function JSON_Stringifier_go__P165615(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.t___168440 = undefined;
    s.arr___168464 = undefined;
    s.r___168470 = undefined;
    s.i___168487 = undefined;
    s.keys___168551 = undefined;
    s.r___168558 = undefined;
    s.i___168575 = undefined;
    s.k___168581 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Stringifier__C165613_VT)) failedCast(r0);
    r0 = pxsim_pxtcore.typeOf(s.arg1);
    s.t___168440 = (r0);
    r0 = (s.t___168440 == "string");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = JSON_Stringifier_doString__P165614_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.arg1;
    s.pc = 38; return s.tmp_1;
  case 38:
    r0 = s.retval;
    { step = 37; continue; }
    { step = 36; continue; }
  case 1:
    r0 = (s.t___168440 == "boolean");
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 2; continue; }
    r0 = s.tmp_2;
    { step = 3; continue; }
  case 2:
    r0 = (s.t___168440 == "number");
  case 3:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (!r0) { step = 4; continue; }
    r0 = s.tmp_3;
    { step = 5; continue; }
  case 4:
    r0 = (s.arg1 == null);
  case 5:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_String_.mkEmpty();
    s.tmp_5 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 39);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 39:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_6);
    { step = 37; continue; }
    { step = 35; continue; }
  case 6:
    r0 = pxsim_Array_.isArray(s.arg1);
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 19; continue; }
    s.arr___168464 = (s.arg1);
    r0 = pxsim_Array__length(s.arr___168464);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = "[]";
    { step = 37; continue; }
    { step = 18; continue; }
  case 7:
    s.r___168470 = ("[");
    r0 = s.arg0.fields["indent"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    s.tmp_1 = r0 = s.arg0;
    r0 = s.tmp_1.fields["currIndent"];
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 40);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 40:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = s.arg0.fields["indentStep"];
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 41);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 41:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_5);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["currIndent"] = (s.tmp_2);
    if ((s.r___168470) && (s.r___168470).vtable) {
    setupResume(s, 42);
    pxsim_String__stringConv(s.r___168470);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___168470) + ""; }
  case 42:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, "\n");
    s.r___168470 = (r0);
  case 8:
  case 9:
    s.i___168487 = (0);
  case 10:
    s.tmp_1 = r0 = s.i___168487;
    r0 = pxsim_Array__length(s.arr___168464);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    if ((s.r___168470) && (s.r___168470).vtable) {
    setupResume(s, 43);
    pxsim_String__stringConv(s.r___168470);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___168470) + ""; }
  case 43:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = s.arg0.fields["currIndent"];
    s.tmp_7 = r0;
    if ((s.tmp_7) && (s.tmp_7).vtable) {
    setupResume(s, 44);
    pxsim_String__stringConv(s.tmp_7);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_7) + ""; }
  case 44:
    r0 = s.retval;
    s.tmp_6 = r0;
    s.tmp_10 = JSON_Stringifier_go__P165615_mk(s);
    s.tmp_10.arg0 = s.arg0;
    r0 = pxsim_Array__getAt(s.arr___168464, s.i___168487);
    s.tmp_10.arg1 = r0;
    s.pc = 45; return s.tmp_10;
  case 45:
    r0 = s.retval;
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 46);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 46:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_6, s.tmp_8);
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 47);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 47:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);
    s.r___168470 = (r0);
    s.tmp_1 = r0 = s.i___168487;
    r0 = pxsim_Array__length(s.arr___168464);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 - 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 != s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    if ((s.r___168470) && (s.r___168470).vtable) {
    setupResume(s, 48);
    pxsim_String__stringConv(s.r___168470);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___168470) + ""; }
  case 48:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, ",");
    s.r___168470 = (r0);
  case 11:
  case 12:
    r0 = s.arg0.fields["indent"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    if ((s.r___168470) && (s.r___168470).vtable) {
    setupResume(s, 49);
    pxsim_String__stringConv(s.r___168470);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___168470) + ""; }
  case 49:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, "\n");
    s.r___168470 = (r0);
  case 13:
  case 14:
    r0 = (s.i___168487 + 1);
    s.i___168487 = (r0);
    { step = 10; continue; }
  case 15:
    r0 = s.arg0.fields["indent"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 16; continue; }
    s.tmp_1 = r0 = s.arg0;
    s.tmp_3 = helpers_stringSlice__P165429_mk(s);
    r0 = s.arg0.fields["currIndent"];
    s.tmp_3.arg0 = r0;
    r0 = s.arg0.fields["indent"];
    s.tmp_3.arg1 = r0;
    s.tmp_3.arg2 = undefined;
    s.pc = 50; return s.tmp_3;
  case 50:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["currIndent"] = (s.tmp_2);
  case 16:
  case 17:
    if ((s.r___168470) && (s.r___168470).vtable) {
    setupResume(s, 51);
    pxsim_String__stringConv(s.r___168470);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___168470) + ""; }
  case 51:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = s.arg0.fields["currIndent"];
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 52);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 52:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, "]");
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 53);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 53:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___168470 = (r0);
    r0 = s.r___168470;
    { step = 37; continue; }
  case 18:
    { step = 34; continue; }
  case 19:
    r0 = pxsim_pxtrt.keysOf(s.arg1);
    s.keys___168551 = (r0);
    r0 = pxsim_Array__length(s.keys___168551);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 20; continue; }
    r0 = "{}";
    { step = 37; continue; }
  case 20:
  case 21:
    s.r___168558 = ("{");
    r0 = s.arg0.fields["indent"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 22; continue; }
    s.tmp_1 = r0 = s.arg0;
    r0 = s.tmp_1.fields["currIndent"];
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 54);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 54:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = s.arg0.fields["indentStep"];
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 55);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 55:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_5);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["currIndent"] = (s.tmp_2);
    if ((s.r___168558) && (s.r___168558).vtable) {
    setupResume(s, 56);
    pxsim_String__stringConv(s.r___168558);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___168558) + ""; }
  case 56:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, "\n");
    s.r___168558 = (r0);
  case 22:
  case 23:
    s.i___168575 = (0);
  case 24:
    s.tmp_1 = r0 = s.i___168575;
    r0 = pxsim_Array__length(s.keys___168551);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 31; continue; }
    r0 = pxsim_Array__getAt(s.keys___168551, s.i___168575);
    s.k___168581 = (r0);
    if ((s.r___168558) && (s.r___168558).vtable) {
    setupResume(s, 57);
    pxsim_String__stringConv(s.r___168558);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___168558) + ""; }
  case 57:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = s.arg0.fields["currIndent"];
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 58);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 58:
    r0 = s.retval;
    s.tmp_3 = r0;
    s.tmp_7 = JSON_Stringifier_doString__P165614_mk(s);
    s.tmp_7.arg0 = s.arg0;
    s.tmp_7.arg1 = s.k___168581;
    s.pc = 59; return s.tmp_7;
  case 59:
    r0 = s.retval;
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 60);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 60:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_5);
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 61);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 61:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___168558 = (r0);
    r0 = s.arg0.fields["indent"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 25; continue; }
    if ((s.r___168558) && (s.r___168558).vtable) {
    setupResume(s, 62);
    pxsim_String__stringConv(s.r___168558);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___168558) + ""; }
  case 62:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, ": ");
    s.r___168558 = (r0);
    { step = 26; continue; }
  case 25:
    if ((s.r___168558) && (s.r___168558).vtable) {
    setupResume(s, 63);
    pxsim_String__stringConv(s.r___168558);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___168558) + ""; }
  case 63:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, ":");
    s.r___168558 = (r0);
  case 26:
    if ((s.r___168558) && (s.r___168558).vtable) {
    setupResume(s, 64);
    pxsim_String__stringConv(s.r___168558);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___168558) + ""; }
  case 64:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.tmp_3 = JSON_Stringifier_go__P165615_mk(s);
    s.tmp_3.arg0 = s.arg0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.arg1, s.k___168581);
    s.tmp_3.arg1 = r0;
    s.pc = 65; return s.tmp_3;
  case 65:
    r0 = s.retval;
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 66);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 66:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___168558 = (r0);
    s.tmp_1 = r0 = s.i___168575;
    r0 = pxsim_Array__length(s.keys___168551);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 - 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 != s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 27; continue; }
    if ((s.r___168558) && (s.r___168558).vtable) {
    setupResume(s, 67);
    pxsim_String__stringConv(s.r___168558);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___168558) + ""; }
  case 67:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, ",");
    s.r___168558 = (r0);
  case 27:
  case 28:
    r0 = s.arg0.fields["indent"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 29; continue; }
    if ((s.r___168558) && (s.r___168558).vtable) {
    setupResume(s, 68);
    pxsim_String__stringConv(s.r___168558);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___168558) + ""; }
  case 68:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, "\n");
    s.r___168558 = (r0);
  case 29:
  case 30:
    r0 = (s.i___168575 + 1);
    s.i___168575 = (r0);
    { step = 24; continue; }
  case 31:
    r0 = s.arg0.fields["indent"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 32; continue; }
    s.tmp_1 = r0 = s.arg0;
    s.tmp_3 = helpers_stringSlice__P165429_mk(s);
    r0 = s.arg0.fields["currIndent"];
    s.tmp_3.arg0 = r0;
    r0 = s.arg0.fields["indent"];
    s.tmp_3.arg1 = r0;
    s.tmp_3.arg2 = undefined;
    s.pc = 69; return s.tmp_3;
  case 69:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["currIndent"] = (s.tmp_2);
  case 32:
  case 33:
    if ((s.r___168558) && (s.r___168558).vtable) {
    setupResume(s, 70);
    pxsim_String__stringConv(s.r___168558);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___168558) + ""; }
  case 70:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = s.arg0.fields["currIndent"];
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 71);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 71:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, "}");
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 72);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 72:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___168558 = (r0);
    r0 = s.r___168558;
    { step = 37; continue; }
  case 34:
  case 35:
  case 36:
    r0 = undefined;
  case 37:
    return leave(s, r0)
  default: oops()
} } }
JSON_Stringifier_go__P165615.info = {"start":6319,"length":2076,"line":223,"column":8,"endLine":279,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"go","argumentNames":["this","v"]}

function JSON_Stringifier_go__P165615_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Stringifier_go__P165615, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  t___168440: undefined,
  arr___168464: undefined,
  r___168470: undefined,
  i___168487: undefined,
  keys___168551: undefined,
  r___168558: undefined,
  i___168575: undefined,
  k___168581: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function JSON_Stringifier_doString__P165614(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.r___168667 = undefined;
    s.i___168668 = undefined;
    s.c___168674 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Stringifier__C165613_VT)) failedCast(r0);
    s.r___168667 = ("\"");
    s.i___168668 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___168668;
    r0 = pxsim_String_.length(s.arg1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    r0 = pxsim_String_.charAt(s.arg1, s.i___168668);
    s.c___168674 = (r0);
    r0 = (s.c___168674 == "\n");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.c___168674 = ("\\n");
    { step = 13; continue; }
  case 2:
    r0 = (s.c___168674 == "\r");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.c___168674 = ("\\r");
    { step = 12; continue; }
  case 3:
    r0 = (s.c___168674 == "\t");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.c___168674 = ("\\t");
    { step = 11; continue; }
  case 4:
    r0 = (s.c___168674 == "\b");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.c___168674 = ("\\b");
    { step = 10; continue; }
  case 5:
    r0 = (s.c___168674 == "\\");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.c___168674 = ("\\\\");
    { step = 9; continue; }
  case 6:
    r0 = (s.c___168674 == "\"");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.c___168674 = ("\\\"");
  case 7:
  case 8:
  case 9:
  case 10:
  case 11:
  case 12:
  case 13:
    if ((s.r___168667) && (s.r___168667).vtable) {
    setupResume(s, 15);
    pxsim_String__stringConv(s.r___168667);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___168667) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_0 = r0;
    if ((s.c___168674) && (s.c___168674).vtable) {
    setupResume(s, 16);
    pxsim_String__stringConv(s.c___168674);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.c___168674) + ""; }
  case 16:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___168667 = (r0);
    r0 = (s.i___168668 + 1);
    s.i___168668 = (r0);
    { step = 1; continue; }
  case 14:
    if ((s.r___168667) && (s.r___168667).vtable) {
    setupResume(s, 17);
    pxsim_String__stringConv(s.r___168667);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___168667) + ""; }
  case 17:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, "\"");
    return leave(s, r0)
  default: oops()
} } }
JSON_Stringifier_doString__P165614.info = {"start":5837,"length":472,"line":208,"column":8,"endLine":221,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"doString","argumentNames":["this","s"]}

function JSON_Stringifier_doString__P165614_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Stringifier_doString__P165614, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  r___168667: undefined,
  i___168668: undefined,
  c___168674: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function azureiot_onMessageReceived__P166117(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.c___168710 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = azureiot_mqttClient__P166107_mk(s);
    s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.c___168710 = (r0);
    r0 = pxsim_numops_toBoolDecr(globals._receiveHandler___166104);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = mqtt_Client_subscribe__P166093_mk(s);
    s.tmp_2.arg0 = s.c___168710;
    s.tmp_6 = if_clientId_1_mk(s);
    r0 = s.c___168710.fields["opt"];
    s.tmp_6.arg0 = r0;
    if (!s.tmp_6.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, "clientId");
    } else {
    s.tmp_6.fn = s.tmp_6.arg0.vtable.iface["clientId"];
    if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields["clientId"]; }
    else { s.pc = 5; return s.tmp_6; }
    }
  case 5:
    r0 = s.retval;
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat("devices/", s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, "/messages/devicebound/#");
    s.tmp_2.arg1 = r0;
    s.tmp_2.arg2 = azureiot_handleDeviceBound__P166119;
    s.tmp_2.arg3 = 0;
    s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    globals._receiveHandler___166104 = (s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
azureiot_onMessageReceived__P166117.info = {"start":4369,"length":546,"line":145,"column":4,"endLine":158,"endColumn":5,"fileName":"azureiot.ts","functionName":"onMessageReceived","argumentNames":["handler"]}

function azureiot_onMessageReceived__P166117_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: azureiot_onMessageReceived__P166117, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  c___168710: undefined,
  arg0: undefined,
} }





function azureiot_handleDeviceBound__P166119(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.props___168731 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(globals._receiveHandler___166104);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = azureiot_parseTopicArgs__P166118_mk(s);
    s.tmp_3 = if_topic_1_mk(s);
    s.tmp_3.arg0 = s.arg0;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "topic");
    } else {
    s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["topic"];
    if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["topic"]; }
    else { s.pc = 5; return s.tmp_3; }
    }
  case 5:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.props___168731 = (r0);
    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = globals._receiveHandler___166104;
    s.tmp_0.arg0 = s.props___168731;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
azureiot_handleDeviceBound__P166119.info = {"start":5113,"length":240,"line":167,"column":4,"endLine":172,"endColumn":5,"fileName":"azureiot.ts","functionName":"handleDeviceBound","argumentNames":["packet"]}

function azureiot_handleDeviceBound__P166119_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: azureiot_handleDeviceBound__P166119, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  props___168731: undefined,
  arg0: undefined,
} }





function azureiot_connect__P166113(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.c___168738 = undefined;
    s.tmp_0 = azureiot_mqttClient__P166107_mk(s);
    s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.c___168738 = (r0);
    r0 = s.c___168738.fields["connected"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    setupResume(s, 4);
    pxsim.control.waitForEvent(globals._messageBusId___166103, 1);
    checkResumeConsumed();
    return;
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
azureiot_connect__P166113.info = {"start":3044,"length":196,"line":98,"column":4,"endLine":103,"endColumn":5,"fileName":"azureiot.ts","functionName":"connect","argumentNames":[]}

function azureiot_connect__P166113_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: azureiot_connect__P166113, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  c___168738: undefined,
} }





function net_instance__P165851(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    r0 = globals.net_Net_instance___165850;
    return leave(s, r0)
  default: oops()
} } }
net_instance__P165851.info = {"start":2869,"length":72,"line":99,"column":4,"endLine":101,"endColumn":5,"fileName":"pxt_modules/net/net.ts","functionName":"instance","argumentNames":[]}

function net_instance__P165851_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_instance__P165851, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function net_Net_controller__P165845(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Net__C165844_VT)) failedCast(r0);
    r0 = s.arg0.fields["_controller"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = net_log__P165837_mk(s);
    s.tmp_2.arg0 = "init controller";
    s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = lambda_1_mk(s);
    r0 = s.arg0.fields["factory"];
    s.tmp_2.argL = r0;
    setupLambda(s.tmp_2, s.tmp_2.argL);
    s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_controller"] = (s.tmp_1);
    r0 = s.arg0.fields["_controller"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = net_log__P165837_mk(s);
    s.tmp_3.arg0 = "controller not found";
    s.pc = 7; return s.tmp_3;
  case 7:
    r0 = s.retval;
    r0 = (s.arg0).fields["_controller"] = (null);
  case 1:
  case 2:
  case 3:
  case 4:
    r0 = s.arg0.fields["_controller"];
    return leave(s, r0)
  default: oops()
} } }
net_Net_controller__P165845.info = {"start":1536,"length":395,"line":55,"column":8,"endLine":65,"endColumn":9,"fileName":"pxt_modules/net/net.ts","functionName":"controller","argumentNames":["this"]}

function net_Net_controller__P165845_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Net_controller__P165845, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function net_log__P165837(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = console_add__P165593_mk(s);
    s.tmp_0.arg0 = globals.logPriority___165836;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("net:", s.tmp_1);
    s.tmp_0.arg1 = r0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_log__P165837.info = {"start":238,"length":88,"line":11,"column":4,"endLine":13,"endColumn":5,"fileName":"pxt_modules/net/net.ts","functionName":"log","argumentNames":["msg"]}

function net_log__P165837_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_log__P165837, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function console_log__P165597(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = console_add__P165593_mk(s);
    s.tmp_0.arg0 = 1;
    s.tmp_1 = console_inspect__P165599_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = 20;
    s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
console_log__P165597.info = {"start":1422,"length":95,"line":57,"column":4,"endLine":59,"endColumn":5,"fileName":"pxt_modules/base/console.ts","functionName":"log","argumentNames":["value"]}

function console_log__P165597_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: console_log__P165597, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function console_inspect__P165599(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.asArr___168800 = undefined;
    s.asString___168820 = undefined;
    s.keys___168832 = undefined;
    s.snipped___168836 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore.typeOf(s.arg0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == "string");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0;
    { step = 17; continue; }
    { step = 16; continue; }
  case 1:
    r0 = pxsim_pxtcore.typeOf(s.arg0);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == "number");
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 18);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 18:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    { step = 17; continue; }
    { step = 15; continue; }
  case 2:
    r0 = pxsim_Array_.isArray(s.arg0);
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 5; continue; }
    s.asArr___168800 = (s.arg0);
    r0 = pxsim_Array__length(s.asArr___168800);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 <= s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = helpers_arrayJoin__P165415_mk(s);
    s.tmp_2.arg0 = s.asArr___168800;
    s.tmp_2.arg1 = ",";
    s.pc = 19; return s.tmp_2;
  case 19:
    r0 = s.retval;
    { step = 17; continue; }
    { step = 4; continue; }
  case 3:
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    s.tmp_7 = helpers_arrayJoin__P165415_mk(s);
    s.tmp_8 = helpers_arraySlice__P165428_mk(s);
    s.tmp_8.arg0 = s.asArr___168800;
    s.tmp_8.arg1 = 0;
    s.tmp_8.arg2 = s.arg1;
    s.pc = 21; return s.tmp_8;
  case 21:
    r0 = s.retval;
    s.tmp_7.arg0 = r0;
    s.tmp_7.arg1 = ",";
    s.pc = 20; return s.tmp_7;
  case 20:
    r0 = s.retval;
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 22);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 22:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, "...");
    { step = 17; continue; }
  case 4:
    { step = 14; continue; }
  case 5:
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 23);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 23:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_10 = r0;
    r0 = pxsim_String__concat(s.tmp_9, s.tmp_10);
    s.asString___168820 = (r0);
    r0 = (s.asString___168820 != "[object Object]");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_0;
    { step = 7; continue; }
  case 6:
    r0 = (s.asString___168820 != "[Object]");
  case 7:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 8; continue; }
    r0 = s.asString___168820;
    { step = 17; continue; }
  case 8:
  case 9:
    r0 = pxsim_pxtrt.keysOf(s.arg0);
    s.keys___168832 = (r0);
    r0 = pxsim_Array__length(s.keys___168832);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 > s.arg1);
    s.snipped___168836 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.snipped___168836);
    if (!r0) { step = 10; continue; }
    s.tmp_0 = helpers_arraySlice__P165428_mk(s);
    s.tmp_0.arg0 = s.keys___168832;
    s.tmp_0.arg1 = 0;
    s.tmp_0.arg2 = s.arg1;
    s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    s.keys___168832 = (r0);
  case 10:
  case 11:
    r0 = pxsim_pxtcore_mkAction(1, inline__P168854);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = pxsim_numops_toBoolDecr(s.snipped___168836);
    if (!r0) { step = 12; continue; }
    r0 = "\n    ...";
    { step = 13; continue; }
  case 12:
    r0 = pxsim_String_.mkEmpty();
  case 13:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.tmp_7 = helpers_arrayReduce__P165426_mk(s);
    s.tmp_7.arg0 = s.keys___168832;
    s.tmp_7.arg1 = s.tmp_0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_7.arg2 = r0;
    s.pc = 25; return s.tmp_7;
  case 25:
    r0 = s.retval;
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 26);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 26:
    r0 = s.retval;
    s.tmp_5 = r0;
    if ((s.tmp_1) && (s.tmp_1).vtable) {
    setupResume(s, 27);
    pxsim_String__stringConv(s.tmp_1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_1) + ""; }
  case 27:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_8);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 28);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 28:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat("{", s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, "\n}");
    { step = 17; continue; }
  case 14:
  case 15:
  case 16:
    r0 = undefined;
  case 17:
    return leave(s, r0)
  default: oops()
} } }
console_inspect__P165599.info = {"start":2173,"length":1190,"line":78,"column":4,"endLine":111,"endColumn":5,"fileName":"pxt_modules/base/console.ts","functionName":"inspect","argumentNames":["obj","maxElements"]}

function console_inspect__P165599_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: console_inspect__P165599, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  asArr___168800: undefined,
  asString___168820: undefined,
  keys___168832: undefined,
  snipped___168836: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P168854(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 1);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("\n    ", s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, ": ");
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.caps[0], s.arg1);
    s.tmp_7 = r0;
    if ((s.tmp_7) && (s.tmp_7).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.tmp_7);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_7) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_6);
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
inline__P168854.info = {"start":3195,"length":61,"line":105,"column":20,"endLine":105,"endColumn":81,"fileName":"pxt_modules/base/console.ts","functionName":"inline","argumentNames":["prev","currKey"]}

function inline__P168854_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P168854, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_arrayReduce__P165426(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.len___168881 = undefined;
    s.i___168884 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__length(s.arg0);
    s.len___168881 = (r0);
    s.i___168884 = (0);
  case 1:
    r0 = (s.i___168884 < s.len___168881);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = lambda_4_mk(s);
    s.tmp_1.argL = s.arg1;
    s.tmp_1.arg0 = s.arg2;
    r0 = pxsim_Array__getAt(s.arg0, s.i___168884);
    s.tmp_1.arg1 = r0;
    s.tmp_1.arg2 = s.i___168884;
    setupLambda(s.tmp_1, s.tmp_1.argL);
    s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.arg2 = (r0);
    r0 = (s.i___168884 + 1);
    s.i___168884 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = s.arg2;
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayReduce__P165426.info = {"start":6458,"length":317,"line":220,"column":4,"endLine":226,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arrayReduce","argumentNames":["arr","callbackfn","initialValue"]}

function helpers_arrayReduce__P165426_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayReduce__P165426, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  len___168881: undefined,
  i___168884: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function helpers_arraySlice__P165428(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.res___168902 = undefined;
    s.len___168904 = undefined;
    s.i___168938 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.res___168902 = (r0);
    r0 = pxsim_Array__length(s.arg0);
    s.len___168904 = (r0);
    r0 = (s.arg1 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.arg1 = (0);
    { step = 4; continue; }
  case 1:
    r0 = (s.arg1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = Math_max__P165437_mk(s);
    r0 = (s.len___168904 + s.arg1);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 0;
    s.pc = 16; return s.tmp_1;
  case 16:
    r0 = s.retval;
    s.arg1 = (r0);
  case 2:
  case 3:
  case 4:
    r0 = (s.arg1 > s.len___168904);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.res___168902;
    { step = 15; continue; }
  case 5:
  case 6:
    r0 = (s.arg2 === undefined);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 7; continue; }
    s.arg2 = (s.len___168904);
    { step = 10; continue; }
  case 7:
    r0 = (s.arg2 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    r0 = (s.len___168904 + s.arg2);
    s.arg2 = (r0);
  case 8:
  case 9:
  case 10:
    r0 = (s.arg2 > s.len___168904);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    s.arg2 = (s.len___168904);
  case 11:
  case 12:
    s.i___168938 = (s.arg1);
  case 13:
    r0 = (s.i___168938 < s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    s.tmp_1 = r0 = s.res___168902;
    r0 = pxsim_Array__getAt(s.arg0, s.i___168938);
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_2);
    r0 = (s.i___168938 + 1);
    s.i___168938 = (r0);
    { step = 13; continue; }
  case 14:
    r0 = s.res___168902;
  case 15:
    return leave(s, r0)
  default: oops()
} } }
helpers_arraySlice__P165428.info = {"start":7051,"length":690,"line":239,"column":4,"endLine":264,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arraySlice","argumentNames":["arr","start","end"]}

function helpers_arraySlice__P165428_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arraySlice__P165428, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  res___168902: undefined,
  len___168904: undefined,
  i___168938: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function helpers_arrayJoin__P165415(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.r___168963 = undefined;
    s.len___168964 = undefined;
    s.i___168967 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg1 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.arg1 === null);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    s.arg1 = (",");
  case 3:
  case 4:
    r0 = pxsim_String_.mkEmpty();
    s.r___168963 = (r0);
    r0 = pxsim_Array__length(s.arg0);
    s.len___168964 = (r0);
    s.i___168967 = (0);
  case 5:
    r0 = (s.i___168967 < s.len___168964);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    r0 = (s.i___168967 > 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_1;
    { step = 7; continue; }
  case 6:
    r0 = s.arg1;
  case 7:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 8; continue; }
    if ((s.r___168963) && (s.r___168963).vtable) {
    setupResume(s, 15);
    pxsim_String__stringConv(s.r___168963);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___168963) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_3 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 16);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 16:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);
    s.r___168963 = (r0);
  case 8:
  case 9:
    r0 = pxsim_Array__getAt(s.arg0, s.i___168967);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 10; continue; }
    r0 = s.tmp_0;
    { step = 11; continue; }
  case 10:
    r0 = pxsim_Array__getAt(s.arg0, s.i___168967);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 === null);
  case 11:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 12; continue; }
    r0 = pxsim_String_.mkEmpty();
    { step = 13; continue; }
  case 12:
    r0 = pxsim_Array__getAt(s.arg0, s.i___168967);
  case 13:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    if ((s.r___168963) && (s.r___168963).vtable) {
    setupResume(s, 17);
    pxsim_String__stringConv(s.r___168963);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___168963) + ""; }
  case 17:
    r0 = s.retval;
    s.tmp_5 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 18);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 18:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_6);
    s.r___168963 = (r0);
    r0 = (s.i___168967 + 1);
    s.i___168967 = (r0);
    { step = 5; continue; }
  case 14:
    r0 = s.r___168963;
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayJoin__P165415.info = {"start":2275,"length":432,"line":97,"column":4,"endLine":110,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arrayJoin","argumentNames":["arr","sep"]}

function helpers_arrayJoin__P165415_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayJoin__P165415, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  r___168963: undefined,
  len___168964: undefined,
  i___168967: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function esp32_defaultController__P165878(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.cs___169007 = undefined;
    s.busy___169012 = undefined;
    s.reset___169017 = undefined;
    s.gpio0___169022 = undefined;
    s.mosi___169038 = undefined;
    s.miso___169043 = undefined;
    s.sck___169048 = undefined;
    s.spi___169053 = undefined;
    r0 = pxsim_numops_toBoolDecr(globals._defaultController___165877);
    if (!r0) { step = 1; continue; }
    r0 = globals._defaultController___165877;
    { step = 29; continue; }
  case 1:
  case 2:
    r0 = pxsim.pins.pinByCfg(87);
    s.cs___169007 = (r0);
    r0 = pxsim.pins.pinByCfg(88);
    s.busy___169012 = (r0);
    r0 = pxsim.pins.pinByCfg(89);
    s.reset___169017 = (r0);
    r0 = pxsim.pins.pinByCfg(90);
    s.gpio0___169022 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.cs___169007);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = pxsim_numops_toBoolDecr(s.busy___169012);
    s.tmp_6 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
  case 4:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBool(s.tmp_7);
    if (r0) { step = 5; continue; }
    r0 = s.tmp_7;
    { step = 6; continue; }
  case 5:
    r0 = pxsim_numops_toBoolDecr(s.reset___169017);
    s.tmp_10 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_10);
    s.tmp_9 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_9);
    s.tmp_8 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_8);
  case 6:
    // jmp value (already in r0)
    s.tmp_11 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_11);
    if (!r0) { step = 21; continue; }
    r0 = pxsim.pins.pinByCfg(82);
    s.mosi___169038 = (r0);
    r0 = pxsim.pins.pinByCfg(83);
    s.miso___169043 = (r0);
    r0 = pxsim.pins.pinByCfg(84);
    s.sck___169048 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.mosi___169038);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = s.tmp_0;
    { step = 8; continue; }
  case 7:
    r0 = pxsim_numops_toBoolDecr(s.miso___169043);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 8:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (r0) { step = 9; continue; }
    r0 = s.tmp_3;
    { step = 10; continue; }
  case 9:
    r0 = pxsim_numops_toBoolDecr(s.sck___169048);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
  case 10:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 11; continue; }
    s.tmp_6 = pins_spi__P165689_mk(s);
    s.pc = 30; return s.tmp_6;
  case 30:
    r0 = s.retval;
    s.spi___169053 = (r0);
    { step = 18; continue; }
  case 11:
    s.tmp_0 = r0 = s.mosi___169038;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 12; continue; }
    r0 = s.tmp_0;
    { step = 13; continue; }
  case 12:
    r0 = s.miso___169043;
  case 13:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (r0) { step = 14; continue; }
    r0 = s.tmp_1;
    { step = 15; continue; }
  case 14:
    r0 = s.sck___169048;
  case 15:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 16; continue; }
    r0 = pxsim.pins.createSPI(s.mosi___169038, s.miso___169043, s.sck___169048);
    s.spi___169053 = (r0);
    { step = 17; continue; }
  case 16:
    s.tmp_0 = net_log__P165837_mk(s);
    s.tmp_0.arg0 = "esp32 spi configuration error";
    s.pc = 31; return s.tmp_0;
  case 31:
    r0 = s.retval;
    r0 = pxsim_pxtrt.panic(90);
  case 17:
  case 18:
    r0 = pxsim_numops_toBoolDecr(s.spi___169053);
    if (!r0) { step = 19; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(esp32_NinaController__C166013_VT);
    s.tmp_0 = r0;
    s.tmp_1 = esp32_NinaController_constructor__P166063_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.spi___169053;
    s.tmp_1.arg2 = s.cs___169007;
    s.tmp_1.arg3 = s.busy___169012;
    s.tmp_1.arg4 = s.reset___169017;
    s.tmp_1.arg5 = s.gpio0___169022;
    s.pc = 32; return s.tmp_1;
  case 32:
    r0 = s.retval;
    globals._defaultController___165877 = (s.tmp_0);
    r0 = s.tmp_0;
    { step = 29; continue; }
  case 19:
  case 20:
    { step = 28; continue; }
  case 21:
    r0 = pxsim_numops_toBoolDecr(s.cs___169007);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 22; continue; }
    r0 = s.tmp_2;
    { step = 23; continue; }
  case 22:
    r0 = pxsim_numops_toBoolDecr(s.busy___169012);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
  case 23:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBool(s.tmp_5);
    if (r0) { step = 24; continue; }
    r0 = s.tmp_5;
    { step = 25; continue; }
  case 24:
    r0 = pxsim_numops_toBoolDecr(s.reset___169017);
    s.tmp_6 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_6);
  case 25:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 26; continue; }
    r0 = undefined;
    { step = 29; continue; }
    { step = 27; continue; }
  case 26:
    s.tmp_8 = net_log__P165837_mk(s);
    s.tmp_8.arg0 = "esp32 partially configured";
    s.pc = 33; return s.tmp_8;
  case 33:
    r0 = s.retval;
    r0 = pxsim_pxtrt.panic(90);
  case 27:
  case 28:
    s.tmp_0 = net_log__P165837_mk(s);
    s.tmp_0.arg0 = "esp32 configuration error";
    s.pc = 34; return s.tmp_0;
  case 34:
    r0 = s.retval;
    r0 = pxsim_pxtrt.panic(90);
    r0 = undefined;
  case 29:
    return leave(s, r0)
  default: oops()
} } }
esp32_defaultController__P165878.info = {"start":66,"length":2003,"line":2,"column":4,"endLine":49,"endColumn":5,"fileName":"pxt_modules/esp32/net.ts","functionName":"defaultController","argumentNames":[]}

function esp32_defaultController__P165878_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_defaultController__P165878, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  cs___169007: undefined,
  busy___169012: undefined,
  reset___169017: undefined,
  gpio0___169022: undefined,
  mosi___169038: undefined,
  miso___169043: undefined,
  sck___169048: undefined,
  spi___169053: undefined,
} }





function esp32_NinaController_constructor__P166063(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_spi"] = (s.arg1);
    r0 = (s.arg0).fields["_cs"] = (s.arg2);
    r0 = (s.arg0).fields["_busy"] = (s.arg3);
    r0 = (s.arg0).fields["_reset"] = (s.arg4);
    r0 = (s.arg0).fields["_gpio0"] = (s.arg5);
    r0 = undefined;
    r0 = s.arg0.fields["_busy"];
    s.tmp_0 = r0;
    r0 = pxsim.DigitalInOutPinMethods.setPull(s.tmp_0, 0);
    r0 = s.arg0.fields["_busy"];
    s.tmp_0 = r0;
    r0 = pxsim.DigitalInOutPinMethods.digitalRead(s.tmp_0);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    s.tmp_2 = esp32_buffer1__P166012_mk(s);
    s.tmp_2.arg0 = 0;
    s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    r0 = (s.arg0).fields["_socknum_ll"] = (s.tmp_0);
    r0 = s.arg0.fields["_spi"];
    s.tmp_0 = r0;
    r0 = pxsim.SPIMethods.setFrequency(s.tmp_0, 8000000);
    s.tmp_0 = esp32_NinaController_reset__P166015_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = (s.arg0).fields["_locked"] = (false);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_constructor__P166063.info = {"start":2637,"length":644,"line":80,"column":8,"endLine":96,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"inline","argumentNames":["this","_spi","_cs","_busy","_reset","_gpio0"]}

function esp32_NinaController_constructor__P166063_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_constructor__P166063, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
} }





function esp32_NinaController_reset__P166015(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    r0 = s.arg0.fields["_gpio0"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["_gpio0"];
    s.tmp_1 = r0;
    r0 = pxsim.DigitalInOutPinMethods.digitalWrite(s.tmp_1, true);
  case 1:
  case 2:
    r0 = s.arg0.fields["_cs"];
    s.tmp_0 = r0;
    r0 = pxsim.DigitalInOutPinMethods.digitalWrite(s.tmp_0, true);
    r0 = s.arg0.fields["_reset"];
    s.tmp_0 = r0;
    r0 = pxsim.DigitalInOutPinMethods.digitalWrite(s.tmp_0, false);
    s.tmp_0 = pause__P165647_mk(s);
    s.tmp_0.arg0 = 10;
    s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = s.arg0.fields["_reset"];
    s.tmp_0 = r0;
    r0 = pxsim.DigitalInOutPinMethods.digitalWrite(s.tmp_0, true);
    s.tmp_0 = pause__P165647_mk(s);
    s.tmp_0.arg0 = 750;
    s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    r0 = s.arg0.fields["_gpio0"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.arg0.fields["_gpio0"];
    s.tmp_1 = r0;
    r0 = pxsim.DigitalInOutPinMethods.digitalRead(s.tmp_1);
  case 3:
  case 4:
    s.tmp_0 = esp32_NinaController_spiTransfer__P166021_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = pxsim.control.createBuffer(1);
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = null;
    s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.tmp_0 = net_log__P165837_mk(s);
    s.tmp_0.arg0 = "reseted esp32";
    s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_reset__P166015.info = {"start":3368,"length":574,"line":101,"column":8,"endLine":116,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"reset","argumentNames":["this"]}

function esp32_NinaController_reset__P166015_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_reset__P166015, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function esp32_NinaController_spiTransfer__P166021(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.BufferMethods.length(s.arg2);
    s.tmp_2 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_2);
    s.arg1 = (r0);
  case 1:
  case 2:
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_2);
    s.arg2 = (r0);
  case 3:
  case 4:
    r0 = s.arg0.fields["_spi"];
    s.tmp_0 = r0;
    r0 = pxsim.SPIMethods.transfer(s.tmp_0, s.arg1, s.arg2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_spiTransfer__P166021.info = {"start":6899,"length":211,"line":207,"column":8,"endLine":211,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"spiTransfer","argumentNames":["this","tx","rx"]}

function esp32_NinaController_spiTransfer__P166021_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_spiTransfer__P166021, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function esp32_buffer1__P166012(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.b___169198 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.control.createBuffer(1);
    s.b___169198 = (r0);
    r0 = pxsim.BufferMethods.setByte(s.b___169198, 0, s.arg0);
    r0 = s.b___169198;
    return leave(s, r0)
  default: oops()
} } }
esp32_buffer1__P166012.info = {"start":2344,"length":113,"line":68,"column":4,"endLine":72,"endColumn":5,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"buffer1","argumentNames":["ch"]}

function esp32_buffer1__P166012_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_buffer1__P166012, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  b___169198: undefined,
  arg0: undefined,
} }





function net_Controller_constructor__P165808(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C165793_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_constructor__P165808.info = {"start":54,"length":17,"line":2,"column":8,"endLine":2,"endColumn":25,"fileName":"pxt_modules/net/controller.ts","functionName":"inline","argumentNames":["this"]}

function net_Controller_constructor__P165808_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_constructor__P165808, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function pins_spi__P165689(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.mosi___169209 = undefined;
    s.miso___169214 = undefined;
    s.sck___169219 = undefined;
    r0 = pxsim_numops_toBoolDecr(globals._spi___165688);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.pins.pinByCfg(19);
    s.mosi___169209 = (r0);
    r0 = pxsim.pins.pinByCfg(18);
    s.miso___169214 = (r0);
    r0 = pxsim.pins.pinByCfg(23);
    s.sck___169219 = (r0);
    r0 = pxsim.pins.createSPI(s.mosi___169209, s.miso___169214, s.sck___169219);
    globals._spi___165688 = (r0);
  case 1:
  case 2:
    r0 = globals._spi___165688;
    return leave(s, r0)
  default: oops()
} } }
pins_spi__P165689.info = {"start":98,"length":305,"line":7,"column":4,"endLine":15,"endColumn":5,"fileName":"pxt_modules/core/spi.ts","functionName":"spi","argumentNames":[]}

function pins_spi__P165689_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pins_spi__P165689, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  mosi___169209: undefined,
  miso___169214: undefined,
  sck___169219: undefined,
} }





function net_Net_constructor__P165849(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Net__C165844_VT)) failedCast(r0);
    r0 = (s.arg0).fields["factory"] = (s.arg1);
    globals.net_Net_instance___165850 = (s.arg0);
    r0 = (s.arg0).fields["_controller"] = (undefined);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_Net_constructor__P165849.info = {"start":1333,"length":162,"line":48,"column":8,"endLine":51,"endColumn":9,"fileName":"pxt_modules/net/net.ts","functionName":"inline","argumentNames":["this","factory"]}

function net_Net_constructor__P165849_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Net_constructor__P165849, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function settings_initScopes__P165765(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.rn___169236 = undefined;
    s.tmp_1 = settings_runNumber__P165763_mk(s);
    s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 1);
    s.rn___169236 = (r0);
    s.tmp_0 = settings_writeNumber__P165770_mk(s);
    s.tmp_0.arg0 = globals.RUN_KEY___165752;
    s.tmp_0.arg1 = s.rn___169236;
    s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = pxsim.control.deviceSerialNumber();
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 2147483647);
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.seedAddRandom(s.tmp_0);
    r0 = pxsim_pxtcore.seedAddRandom(s.rn___169236);
    s.tmp_0 = settings_setScope__P165764_mk(s);
    r0 = pxsim_pxtcore.programName();
    s.tmp_0.arg0 = r0;
    s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_initScopes__P165765.info = {"start":1104,"length":230,"line":41,"column":4,"endLine":49,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"initScopes","argumentNames":[]}

function settings_initScopes__P165765_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_initScopes__P165765, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  rn___169236: undefined,
} }





function settings_setScope__P165764(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.currScope___169265 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 > 100);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtrt.panic(922);
  case 3:
  case 4:
    s.tmp_0 = settings_readString__P165773_mk(s);
    s.tmp_0.arg0 = globals.SCOPE_KEY___165753;
    s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.currScope___169265 = (r0);
    r0 = (s.currScope___169265 != s.arg0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = pxsim.settings._userClean();
    s.tmp_0 = settings_writeString__P165769_mk(s);
    s.tmp_0.arg0 = globals.SCOPE_KEY___165753;
    s.tmp_0.arg1 = s.arg0;
    s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
  case 5:
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_setScope__P165764.info = {"start":826,"length":272,"line":31,"column":4,"endLine":39,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"setScope","argumentNames":["scope"]}

function settings_setScope__P165764_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_setScope__P165764, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  currScope___169265: undefined,
  arg0: undefined,
} }





function settings_writeString__P165769(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = settings_writeBuffer__P165768_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = pxsim.control.createBufferFromUTF8(s.arg1);
    s.tmp_0.arg1 = r0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_writeString__P165769.info = {"start":1895,"length":125,"line":75,"column":4,"endLine":77,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"writeString","argumentNames":["key","value"]}

function settings_writeString__P165769_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_writeString__P165769, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function settings_writeBuffer__P165768(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.settings._set(s.arg0, s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.settings._userClean();
    r0 = pxsim_pxtrt.panic(920);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_writeBuffer__P165768.info = {"start":1538,"length":290,"line":63,"column":4,"endLine":70,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"writeBuffer","argumentNames":["key","value"]}

function settings_writeBuffer__P165768_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_writeBuffer__P165768, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function settings_writeNumber__P165770(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg1);
    s.tmp_1 = settings_writeBuffer__P165768_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_2 = msgpack_packNumberArray__P165499_mk(s);
    s.tmp_2.arg0 = s.tmp_0;
    s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1.arg1 = r0;
    s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_writeNumber__P165770.info = {"start":2087,"length":122,"line":82,"column":4,"endLine":84,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"writeNumber","argumentNames":["key","value"]}

function settings_writeNumber__P165770_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_writeNumber__P165770, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function msgpack_packNumberArray__P165499(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.off___169303 = undefined;
    s.n___169305 = undefined;
    s.unnamed534___U2 = undefined;
    s.unnamed535___U3 = undefined;
    s.buf___169315 = undefined;
    s.n___169321 = undefined;
    s.unnamed536___U6 = undefined;
    s.unnamed537___U7 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.off___169303 = (0);
    s.n___169305 = (undefined);
    s.unnamed534___U2 = (s.arg0);
    s.unnamed535___U3 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed535___U3;
    r0 = pxsim_Array__length(s.unnamed534___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed534___U2, s.unnamed535___U3);
    s.n___169305 = (r0);
    s.tmp_2 = r0 = s.off___169303;
    s.tmp_4 = msgpack_packNumberCore__P165497_mk(s);
    s.tmp_4.arg0 = null;
    s.tmp_4.arg1 = s.off___169303;
    s.tmp_4.arg2 = s.n___169305;
    s.pc = 5; return s.tmp_4;
  case 5:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.off___169303 = (r0);
    r0 = (s.unnamed535___U3 + 1);
    s.unnamed535___U3 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed534___U2 = (undefined);
    r0 = pxsim.control.createBuffer(s.off___169303);
    s.buf___169315 = (r0);
    s.off___169303 = (0);
    s.n___169321 = (undefined);
    s.unnamed536___U6 = (s.arg0);
    s.unnamed537___U7 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed537___U7;
    r0 = pxsim_Array__length(s.unnamed536___U6);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.unnamed536___U6, s.unnamed537___U7);
    s.n___169321 = (r0);
    s.tmp_2 = r0 = s.off___169303;
    s.tmp_4 = msgpack_packNumberCore__P165497_mk(s);
    s.tmp_4.arg0 = s.buf___169315;
    s.tmp_4.arg1 = s.off___169303;
    s.tmp_4.arg2 = s.n___169321;
    s.pc = 6; return s.tmp_4;
  case 6:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.off___169303 = (r0);
    r0 = (s.unnamed537___U7 + 1);
    s.unnamed537___U7 = (r0);
    { step = 3; continue; }
  case 4:
    s.unnamed536___U6 = (undefined);
    r0 = s.buf___169315;
    return leave(s, r0)
  default: oops()
} } }
msgpack_packNumberArray__P165499.info = {"start":6884,"length":337,"line":219,"column":4,"endLine":230,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"packNumberArray","argumentNames":["nums"]}

function msgpack_packNumberArray__P165499_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: msgpack_packNumberArray__P165499, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  off___169303: undefined,
  n___169305: undefined,
  unnamed534___U2: undefined,
  unnamed535___U3: undefined,
  buf___169315: undefined,
  n___169321: undefined,
  unnamed536___U6: undefined,
  unnamed537___U7: undefined,
  arg0: undefined,
} }





function msgpack_packNumberCore__P165497(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.tag___169335 = undefined;
    s.fmt___169378 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    s.tag___169335 = (203);
    s.tmp_1 = r0 = s.arg2;
    r0 = (s.arg2 << 0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 == s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    s.tmp_3 = r0 = s.arg2;
    r0 = (s.arg2 >>> 0);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 == s.tmp_4);
  case 2:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 19; continue; }
    r0 = (-31 <= s.arg2);
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBool(s.tmp_6);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_6;
    { step = 4; continue; }
  case 3:
    r0 = (s.arg2 <= 127);
  case 4:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 7; continue; }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    if (!r0) { step = 5; continue; }
    r0 = pxsim.BufferMethods.setByte(s.arg0, s.arg1, s.arg2);
  case 5:
  case 6:
    r0 = 1;
    { step = 23; continue; }
    { step = 18; continue; }
  case 7:
    r0 = (0 <= s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 12; continue; }
    r0 = (s.arg2 <= 255);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 8; continue; }
    s.tag___169335 = (204);
    { step = 11; continue; }
  case 8:
    r0 = (s.arg2 <= 65535);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    s.tag___169335 = (205);
    { step = 10; continue; }
  case 9:
    s.tag___169335 = (206);
  case 10:
  case 11:
    { step = 17; continue; }
  case 12:
    r0 = (-127 <= s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    s.tag___169335 = (208);
    { step = 16; continue; }
  case 13:
    r0 = (-32767 <= s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    s.tag___169335 = (209);
    { step = 15; continue; }
  case 14:
    s.tag___169335 = (210);
  case 15:
  case 16:
  case 17:
  case 18:
  case 19:
  case 20:
    s.tmp_0 = msgpack_tagFormat__P165496_mk(s);
    s.tmp_0.arg0 = s.tag___169335;
    s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    s.fmt___169378 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    if (!r0) { step = 21; continue; }
    r0 = pxsim.BufferMethods.setByte(s.arg0, s.arg1, s.tag___169335);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_1 = r0 = s.fmt___169378;
    r0 = (s.arg1 + 1);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, s.tmp_1, s.tmp_2, s.arg2);
  case 21:
  case 22:
    s.tmp_1 = pins_sizeOf__P165487_mk(s);
    s.tmp_1.arg0 = s.fmt___169378;
    s.pc = 25; return s.tmp_1;
  case 25:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 1);
  case 23:
    return leave(s, r0)
  default: oops()
} } }
msgpack_packNumberCore__P165497.info = {"start":5089,"length":951,"line":158,"column":4,"endLine":188,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"packNumberCore","argumentNames":["buf","offset","num"]}

function msgpack_packNumberCore__P165497_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: msgpack_packNumberCore__P165497, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tag___169335: undefined,
  fmt___169378: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function pins_sizeOf__P165487(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(6, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(7, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq(8, s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = pxsim_pxtcore.switch_eq(9, s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = pxsim_pxtcore.switch_eq(10, s.tmp_0);
    if (r0) { step = 10; continue; }
    r0 = pxsim_pxtcore.switch_eq(12, s.tmp_0);
    if (r0) { step = 11; continue; }
    r0 = pxsim_pxtcore.switch_eq(11, s.tmp_0);
    if (r0) { step = 12; continue; }
    r0 = pxsim_pxtcore.switch_eq(15, s.tmp_0);
    if (r0) { step = 13; continue; }
    r0 = pxsim_pxtcore.switch_eq(13, s.tmp_0);
    if (r0) { step = 14; continue; }
    r0 = pxsim_pxtcore.switch_eq(16, s.tmp_0);
    if (r0) { step = 15; continue; }
    r0 = pxsim_pxtcore.switch_eq(14, s.tmp_0);
    if (r0) { step = 16; continue; }
    r0 = s.tmp_0;
    { step = 17; continue; }
  case 1:
  case 2:
  case 3:
  case 4:
    r0 = 1;
    { step = 18; continue; }
  case 5:
  case 6:
  case 7:
  case 8:
    r0 = 2;
    { step = 18; continue; }
  case 9:
  case 10:
  case 11:
  case 12:
  case 13:
  case 14:
    r0 = 4;
    { step = 18; continue; }
  case 15:
  case 16:
    r0 = 8;
    { step = 18; continue; }
  case 17:
    r0 = 0;
  case 18:
    return leave(s, r0)
  default: oops()
} } }
pins_sizeOf__P165487.info = {"start":102,"length":844,"line":5,"column":4,"endLine":29,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"sizeOf","argumentNames":["format"]}

function pins_sizeOf__P165487_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pins_sizeOf__P165487, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function msgpack_tagFormat__P165496(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtcore.switch_eq(203, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(204, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(205, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(206, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(208, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(209, s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq(210, s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = s.tmp_0;
    { step = 8; continue; }
  case 1:
    r0 = 16;
    { step = 9; continue; }
  case 2:
    r0 = 7;
    { step = 9; continue; }
  case 3:
    r0 = 9;
    { step = 9; continue; }
  case 4:
    r0 = 12;
    { step = 9; continue; }
  case 5:
    r0 = 6;
    { step = 9; continue; }
  case 6:
    r0 = 8;
    { step = 9; continue; }
  case 7:
    r0 = 10;
    { step = 9; continue; }
  case 8:
    r0 = null;
    { step = 9; continue; }
    r0 = undefined;
  case 9:
    return leave(s, r0)
  default: oops()
} } }
msgpack_tagFormat__P165496.info = {"start":4602,"length":481,"line":144,"column":4,"endLine":156,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"tagFormat","argumentNames":["tag"]}

function msgpack_tagFormat__P165496_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: msgpack_tagFormat__P165496, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function settings_runNumber__P165763(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.tmp_1 = settings_readNumber__P165774_mk(s);
    s.tmp_1.arg0 = globals.RUN_KEY___165752;
    s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = s.tmp_2;
    return leave(s, r0)
  default: oops()
} } }
settings_runNumber__P165763.info = {"start":745,"length":75,"line":27,"column":4,"endLine":29,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"runNumber","argumentNames":[]}

function settings_runNumber__P165763_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_runNumber__P165763, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function settings_readNumber__P165774(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.buf___169450 = undefined;
    s.nums___169457 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.settings._get(s.arg0);
    s.buf___169450 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.buf___169450);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = undefined;
    { step = 7; continue; }
    { step = 6; continue; }
  case 1:
    s.tmp_2 = msgpack_unpackNumberArray__P165498_mk(s);
    s.tmp_2.arg0 = s.buf___169450;
    s.tmp_2.arg1 = 0;
    s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    s.nums___169457 = (r0);
    s.tmp_0 = r0 = s.nums___169457;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = pxsim_Array__length(s.nums___169457);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >= 1);
  case 3:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.nums___169457, 0);
    { step = 7; continue; }
  case 4:
  case 5:
    r0 = undefined;
    { step = 7; continue; }
  case 6:
    r0 = undefined;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
settings_readNumber__P165774.info = {"start":2887,"length":313,"line":114,"column":4,"endLine":124,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"readNumber","argumentNames":["key"]}

function settings_readNumber__P165774_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_readNumber__P165774, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  buf___169450: undefined,
  nums___169457: undefined,
  arg0: undefined,
} }





function msgpack_unpackNumberArray__P165498(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.res___169470 = undefined;
    s.fmt___169477 = undefined;
    s.v___169486 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.res___169470 = (r0);
  case 1:
    s.tmp_1 = r0 = s.arg1;
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    s.tmp_3 = r0 = s.arg1;
    r0 = (s.tmp_3 + 1);
    s.arg1 = (r0);
    s.tmp_4 = msgpack_tagFormat__P165496_mk(s);
    r0 = pxsim.BufferMethods.getByte(s.arg0, s.tmp_3);
    s.tmp_4.arg0 = r0;
    s.pc = 12; return s.tmp_4;
  case 12:
    r0 = s.retval;
    s.fmt___169477 = (r0);
    r0 = (s.fmt___169477 === null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_1 = r0 = s.arg0;
    r0 = (s.arg1 - 1);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 6, s.tmp_2);
    s.v___169486 = (r0);
    r0 = (-31 <= s.v___169486);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = (s.v___169486 <= 127);
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__push(s.res___169470, s.v___169486);
    { step = 5; continue; }
  case 4:
    r0 = null;
    { step = 11; continue; }
  case 5:
    { step = 7; continue; }
  case 6:
    s.tmp_0 = r0 = s.res___169470;
    r0 = pxsim.BufferMethods.getNumber(s.arg0, s.fmt___169477, s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    s.tmp_0 = r0 = s.arg1;
    s.tmp_2 = pins_sizeOf__P165487_mk(s);
    s.tmp_2.arg0 = s.fmt___169477;
    s.pc = 13; return s.tmp_2;
  case 13:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    s.arg1 = (r0);
  case 7:
  case 8:
    r0 = pxsim.BufferMethods.getByte(s.arg0, s.arg1);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === 193);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    r0 = (s.arg1 + 1);
    s.arg1 = (r0);
    { step = 8; continue; }
  case 9:
    { step = 1; continue; }
  case 10:
    r0 = s.res___169470;
  case 11:
    return leave(s, r0)
  default: oops()
} } }
msgpack_unpackNumberArray__P165498.info = {"start":6107,"length":669,"line":193,"column":4,"endLine":213,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"unpackNumberArray","argumentNames":["buf","offset"]}

function msgpack_unpackNumberArray__P165498_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: msgpack_unpackNumberArray__P165498, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  res___169470: undefined,
  fmt___169477: undefined,
  v___169486: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Fx8__P165454(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 * 256);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 | 0);
    return leave(s, r0)
  default: oops()
} } }
Fx8__P165454.info = {"start":42,"length":68,"line":4,"column":0,"endLine":6,"endColumn":1,"fileName":"pxt_modules/base/fixed.ts","functionName":"Fx8","argumentNames":["v"]}

function Fx8__P165454_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx8__P165454, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function esp32_NinaController_socket__P166049(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.resp0___169538 = undefined;
    s.resp___169542 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_3 = esp32_NinaController__C166013_v9_1_mk(s);
    s.tmp_3.arg0 = s.arg0;
    if (!checkSubtype(s.tmp_3.arg0, esp32_NinaController__C166013_VT)) failedCast(s.tmp_3.arg0);
    s.tmp_3.fn = s.tmp_3.arg0.vtable.methods.connect;
    s.pc = 5; return s.tmp_3;
  case 5:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_4 = net_fail__P165839_mk(s);
    s.tmp_4.arg0 = "can't connect";
    s.pc = 6; return s.tmp_4;
  case 6:
    r0 = s.retval;
  case 1:
  case 2:
    s.tmp_0 = net_debug__P165838_mk(s);
    s.tmp_0.arg0 = "*** Get socket";
    s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.tmp_0 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 63;
    s.tmp_0.arg2 = undefined;
    s.tmp_0.arg3 = 1;
    s.tmp_0.arg4 = false;
    s.tmp_0.arg5 = false;
    s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.resp0___169538 = (r0);
    r0 = pxsim_Array__getAt(s.resp0___169538, 0);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_0, 0);
    s.resp___169542 = (r0);
    r0 = (s.resp___169542 == 255);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_1 = net_fail__P165839_mk(s);
    s.tmp_1.arg0 = "no sockets available";
    s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
  case 3:
  case 4:
    s.tmp_0 = net_debug__P165838_mk(s);
    if ((s.resp___169542) && (s.resp___169542).vtable) {
    setupResume(s, 11);
    pxsim_String__stringConv(s.resp___169542);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.resp___169542) + ""; }
  case 11:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("Allocated socket #", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    r0 = s.resp___169542;
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_socket__P166049.info = {"start":18484,"length":425,"line":536,"column":8,"endLine":548,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"socket","argumentNames":["this"]}

function esp32_NinaController_socket__P166049_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_socket__P166049, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  resp0___169538: undefined,
  resp___169542: undefined,
  arg0: undefined,
} }





function esp32_NinaController_sendCommandGetResponse__P166025(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.resp___169566 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_0 = esp32_NinaController_lock__P166023_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = esp32_NinaController__sendCommand__P166020_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.tmp_0.arg3 = s.arg4;
    s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = esp32_NinaController__waitResponseCmd__P166022_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg3;
    s.tmp_0.arg3 = s.arg5;
    s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.resp___169566 = (r0);
    s.tmp_0 = esp32_NinaController_unlock__P166024_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = s.resp___169566;
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_sendCommandGetResponse__P166025.info = {"start":8733,"length":381,"line":262,"column":8,"endLine":270,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"sendCommandGetResponse","argumentNames":["this","cmd","params","reply_params","sent_param_len_16","recv_param_len_16"]}

function esp32_NinaController_sendCommandGetResponse__P166025_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_sendCommandGetResponse__P166025, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  resp___169566: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
} }





function esp32_NinaController_unlock__P166024(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    r0 = s.arg0.fields["_locked"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = net_fail__P165839_mk(s);
    s.tmp_3.arg0 = "not locked!";
    s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = (s.arg0).fields["_locked"] = (false);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_unlock__P166024.info = {"start":8590,"length":133,"line":256,"column":8,"endLine":260,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"unlock","argumentNames":["this"]}

function esp32_NinaController_unlock__P166024_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_unlock__P166024, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function esp32_NinaController__waitResponseCmd__P166022(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.responses___169594 = undefined;
    s.num___169622 = undefined;
    s.param_len___169627 = undefined;
    s.response___169647 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_0 = net_debug__P165838_mk(s);
    s.tmp_0.arg0 = "wait response cmd";
    s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    s.tmp_3 = esp32_NinaController_waitForReady__P166019_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.pc = 13; return s.tmp_3;
  case 13:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = null;
    { step = 11; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["_cs"];
    s.tmp_4 = r0;
    r0 = pxsim.DigitalInOutPinMethods.digitalWrite(s.tmp_4, false);
    r0 = pxsim_Array__mk();
    s.responses___169594 = (r0);
    s.tmp_3 = esp32_NinaController_waitSPIChar__P166018_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = 224;
    s.pc = 14; return s.tmp_3;
  case 14:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.arg0.fields["_cs"];
    s.tmp_4 = r0;
    r0 = pxsim.DigitalInOutPinMethods.digitalWrite(s.tmp_4, true);
    r0 = null;
    { step = 11; continue; }
  case 3:
  case 4:
    s.tmp_0 = esp32_NinaController_checkData__P166017_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = (s.arg1 | 128);
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = undefined;
    s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
    r0 = (s.arg2 !== undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_1 = esp32_NinaController_checkData__P166017_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.arg2;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 17);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 17:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_3);
    s.tmp_1.arg2 = r0;
    s.pc = 16; return s.tmp_1;
  case 16:
    r0 = s.retval;
    { step = 6; continue; }
  case 5:
    s.tmp_0 = esp32_NinaController_readByte__P166016_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
    s.arg2 = (r0);
  case 6:
    s.num___169622 = (0);
  case 7:
    r0 = (s.num___169622 < s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    s.tmp_1 = esp32_NinaController_readByte__P166016_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.pc = 19; return s.tmp_1;
  case 19:
    r0 = s.retval;
    s.param_len___169627 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.arg3);
    if (!r0) { step = 8; continue; }
    r0 = (s.param_len___169627 << 8);
    s.param_len___169627 = (r0);
    s.tmp_0 = r0 = s.param_len___169627;
    s.tmp_2 = esp32_NinaController_readByte__P166016_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.pc = 20; return s.tmp_2;
  case 20:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0 | s.tmp_1);
    s.param_len___169627 = (r0);
  case 8:
  case 9:
    s.tmp_0 = net_debug__P165838_mk(s);
    if ((s.num___169622) && (s.num___169622).vtable) {
    setupResume(s, 22);
    pxsim_String__stringConv(s.num___169622);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.num___169622) + ""; }
  case 22:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat("\tParameter #", s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, " length is ");
    s.tmp_1 = r0;
    if ((s.param_len___169627) && (s.param_len___169627).vtable) {
    setupResume(s, 23);
    pxsim_String__stringConv(s.param_len___169627);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.param_len___169627) + ""; }
  case 23:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_4);
    s.tmp_0.arg0 = r0;
    s.pc = 21; return s.tmp_0;
  case 21:
    r0 = s.retval;
    r0 = pxsim.control.createBuffer(s.param_len___169627);
    s.response___169647 = (r0);
    s.tmp_0 = esp32_NinaController_spiTransfer__P166021_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = null;
    s.tmp_0.arg2 = s.response___169647;
    s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.responses___169594, s.response___169647);
    r0 = (s.num___169622 + 1);
    s.num___169622 = (r0);
    { step = 7; continue; }
  case 10:
    s.tmp_0 = esp32_NinaController_checkData__P166017_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 238;
    s.tmp_0.arg2 = undefined;
    s.pc = 25; return s.tmp_0;
  case 25:
    r0 = s.retval;
    r0 = s.arg0.fields["_cs"];
    s.tmp_0 = r0;
    r0 = pxsim.DigitalInOutPinMethods.digitalWrite(s.tmp_0, true);
    s.tmp_0 = net_debug__P165838_mk(s);
    r0 = pxsim_Array__length(s.responses___169594);
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 27);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 27:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("responses ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.pc = 26; return s.tmp_0;
  case 26:
    r0 = s.retval;
    r0 = s.responses___169594;
  case 11:
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController__waitResponseCmd__P166022.info = {"start":7120,"length":1295,"line":213,"column":8,"endLine":247,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"_waitResponseCmd","argumentNames":["this","cmd","num_responses","param_len_16"]}

function esp32_NinaController__waitResponseCmd__P166022_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController__waitResponseCmd__P166022, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  responses___169594: undefined,
  num___169622: undefined,
  param_len___169627: undefined,
  response___169647: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function esp32_NinaController_readByte__P166016(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.r___169676 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_0 = esp32_buffer1__P166012_mk(s);
    s.tmp_0.arg0 = 0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.r___169676 = (r0);
    s.tmp_0 = esp32_NinaController_spiTransfer__P166021_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = null;
    s.tmp_0.arg2 = s.r___169676;
    s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = pxsim.BufferMethods.getByte(s.r___169676, 0);
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_readByte__P166016.info = {"start":3952,"length":133,"line":118,"column":8,"endLine":122,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"readByte","argumentNames":["this"]}

function esp32_NinaController_readByte__P166016_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_readByte__P166016, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  r___169676: undefined,
  arg0: undefined,
} }





function esp32_NinaController_checkData__P166017(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.r___169687 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_0 = esp32_NinaController_readByte__P166016_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.r___169687 = (r0);
    r0 = (s.r___169687 != s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_1 = r0 = s.arg2;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_1;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_String_.mkEmpty();
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.tmp_3 = net_fail__P165839_mk(s);
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim_String__concat("Expected ", s.tmp_9);
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_8, " but got ");
    s.tmp_7 = r0;
    if ((s.r___169687) && (s.r___169687).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.r___169687);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___169687) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = pxsim_String__concat(s.tmp_7, s.tmp_10);
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_6, "; ");
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_4 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 10);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 10:
    r0 = s.retval;
    s.tmp_11 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_11);
    s.tmp_3.arg0 = r0;
    s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = false;
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_checkData__P166017.info = {"start":4095,"length":240,"line":124,"column":8,"endLine":129,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"checkData","argumentNames":["this","desired","msg"]}

function esp32_NinaController_checkData__P166017_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_checkData__P166017, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  r___169687: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function esp32_NinaController_waitSPIChar__P166018(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.times___169714 = undefined;
    s.r___169723 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    r0 = pxsim.control.millis();
    s.times___169714 = (r0);
  case 1:
    r0 = pxsim.control.millis();
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - s.times___169714);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 100);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_3 = esp32_NinaController_readByte__P166016_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.pc = 8; return s.tmp_3;
  case 8:
    r0 = s.retval;
    s.r___169723 = (r0);
    r0 = (s.r___169723 == 239);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = net_log__P165837_mk(s);
    s.tmp_1.arg0 = "error response to command";
    s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    r0 = false;
    { step = 7; continue; }
  case 2:
  case 3:
    r0 = (s.r___169723 == s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = true;
    { step = 7; continue; }
  case 4:
  case 5:
    { step = 1; continue; }
  case 6:
    s.tmp_1 = net_log__P165837_mk(s);
    s.tmp_1.arg0 = "timed out waiting for SPI char";
    s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
    r0 = false;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_waitSPIChar__P166018.info = {"start":4437,"length":582,"line":132,"column":8,"endLine":148,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"waitSPIChar","argumentNames":["this","desired"]}

function esp32_NinaController_waitSPIChar__P166018_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_waitSPIChar__P166018, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  times___169714: undefined,
  r___169723: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function esp32_NinaController_waitForReady__P166019(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_0 = net_debug__P165838_mk(s);
    r0 = s.arg0.fields["_busy"];
    s.tmp_3 = r0;
    r0 = pxsim.DigitalInOutPinMethods.digitalRead(s.tmp_3);
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("wait for ready ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    r0 = s.arg0.fields["_busy"];
    s.tmp_1 = r0;
    r0 = pxsim.DigitalInOutPinMethods.digitalRead(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkAction(1, inline__P169747);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_2, 0, s.arg0);
    s.tmp_3 = pauseUntil__P165586_mk(s);
    s.tmp_3.arg0 = s.tmp_2;
    s.tmp_3.arg1 = 10000;
    s.pc = 8; return s.tmp_3;
  case 8:
    r0 = s.retval;
    s.tmp_0 = net_debug__P165838_mk(s);
    r0 = s.arg0.fields["_busy"];
    s.tmp_3 = r0;
    r0 = pxsim.DigitalInOutPinMethods.digitalRead(s.tmp_3);
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 10);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 10:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("busy = ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = s.arg0.fields["_busy"];
    s.tmp_1 = r0;
    r0 = pxsim.DigitalInOutPinMethods.digitalRead(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = net_log__P165837_mk(s);
    s.tmp_2.arg0 = "timed out waiting for ready";
    s.pc = 11; return s.tmp_2;
  case 11:
    r0 = s.retval;
    r0 = false;
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = true;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_waitForReady__P166019.info = {"start":5098,"length":492,"line":153,"column":8,"endLine":166,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"waitForReady","argumentNames":["this"]}

function esp32_NinaController_waitForReady__P166019_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_waitForReady__P166019, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function inline__P169747(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    r0 = s.caps[0].fields["_busy"];
    s.tmp_2 = r0;
    r0 = pxsim.DigitalInOutPinMethods.digitalRead(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
inline__P169747.info = {"start":5263,"length":31,"line":156,"column":27,"endLine":156,"endColumn":58,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"inline","argumentNames":[]}

function inline__P169747_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P169747, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function pauseUntil__P165586(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    s.tmp_2 = lambda_1_mk(s);
    s.tmp_2.argL = s.arg0;
    setupLambda(s.tmp_2, s.tmp_2.argL);
    s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    { step = 7; continue; }
  case 3:
  case 4:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_5 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 5; continue; }
    s.arg1 = (0);
  case 5:
  case 6:
    s.tmp_0 = control___queuePollEvent__P165571_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_0.arg1 = s.arg0;
    s.tmp_0.arg2 = undefined;
    s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
pauseUntil__P165586.info = {"start":9766,"length":227,"line":329,"column":0,"endLine":333,"endColumn":1,"fileName":"pxt_modules/base/control.ts","functionName":"pauseUntil","argumentNames":["condition","timeOut"]}

function pauseUntil__P165586_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pauseUntil__P165586, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function control___queuePollEvent__P165571(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.ev___169782 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(control_PollEvent__C165566_VT);
    s.tmp_0 = r0;
    s.tmp_1 = control_PollEvent_constructor__P165567_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim.control.allocateNotifyEvent();
    s.tmp_1.arg1 = r0;
    s.tmp_1.arg2 = 1;
    r0 = pxsim.control.millis();
    s.tmp_1.arg3 = r0;
    s.tmp_1.arg4 = s.arg0;
    s.tmp_1.arg5 = s.arg1;
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1.arg6 = r0;
    s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.ev___169782 = (s.tmp_0);
    r0 = pxsim_numops_toBoolDecr(globals._pollEventQueue___165569);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.ev___169782);
    globals._pollEventQueue___165569 = (s.tmp_2);
    r0 = pxsim.control.runInParallel(control_pollEvents__P165570);
    { step = 2; continue; }
  case 1:
    r0 = pxsim_Array__push(globals._pollEventQueue___165569, s.ev___169782);
  case 2:
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    if (!r0) { step = 3; continue; }
    s.tmp_0 = control_onEvent__P165619_mk(s);
    r0 = s.ev___169782.fields["eid"];
    s.tmp_0.arg0 = r0;
    r0 = s.ev___169782.fields["vid"];
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = s.arg2;
    s.tmp_0.arg3 = 16;
    s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    { step = 4; continue; }
  case 3:
    r0 = s.ev___169782.fields["eid"];
    s.tmp_0 = r0;
    r0 = s.ev___169782.fields["vid"];
    s.tmp_1 = r0;
    setupResume(s, 7);
    pxsim.control.waitForEvent(s.tmp_0, s.tmp_1);
    checkResumeConsumed();
    return;
  case 7:
    r0 = s.retval;
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control___queuePollEvent__P165571.info = {"start":5895,"length":739,"line":195,"column":4,"endLine":220,"endColumn":5,"fileName":"pxt_modules/base/control.ts","functionName":"__queuePollEvent","argumentNames":["timeOut","condition","handler"]}

function control___queuePollEvent__P165571_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control___queuePollEvent__P165571, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  ev___169782: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function control_onEvent__P165619(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.ctx___169824 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = control_eventContext__P165641_mk(s);
    s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.ctx___169824 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.ctx___169824);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.control.internalOnEvent(s.arg0, s.arg1, s.arg2, s.arg3);
    { step = 2; continue; }
  case 1:
    s.tmp_0 = control_EventContext_registerHandler__P165633_mk(s);
    s.tmp_0.arg0 = s.ctx___169824;
    s.tmp_0.arg1 = s.arg0;
    s.tmp_0.arg2 = s.arg1;
    s.tmp_0.arg3 = s.arg2;
    s.tmp_0.arg4 = s.arg3;
    s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_onEvent__P165619.info = {"start":336,"length":325,"line":9,"column":4,"endLine":15,"endColumn":5,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"onEvent","argumentNames":["src","value","handler","flags"]}

function control_onEvent__P165619_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_onEvent__P165619, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  ctx___169824: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function control_EventContext_registerHandler__P165633(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.h___169847 = undefined;
    s.unnamed538___U1 = undefined;
    s.unnamed539___U2 = undefined;
    s.hn___169870 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_EventContext__C165626_VT)) failedCast(r0);
    s.h___169847 = (undefined);
    r0 = s.arg0.fields["handlers"];
    s.unnamed538___U1 = (r0);
    s.unnamed539___U2 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed539___U2;
    r0 = pxsim_Array__length(s.unnamed538___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array__getAt(s.unnamed538___U1, s.unnamed539___U2);
    s.h___169847 = (r0);
    r0 = s.h___169847.fields["src"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_2;
    { step = 3; continue; }
  case 2:
    r0 = s.h___169847.fields["value"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 == s.arg2);
  case 3:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 4; continue; }
    r0 = (s.h___169847).fields["flags"] = (s.arg4);
    r0 = (s.h___169847).fields["handler"] = (s.arg3);
    { step = 7; continue; }
  case 4:
  case 5:
    r0 = (s.unnamed539___U2 + 1);
    s.unnamed539___U2 = (r0);
    { step = 1; continue; }
  case 6:
    s.unnamed538___U1 = (undefined);
    r0 = pxsim_pxtcore_mkClassInstance(control_EventHandler__C165621_VT);
    s.tmp_0 = r0;
    s.tmp_1 = control_EventHandler_constructor__P165624_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg1;
    s.tmp_1.arg2 = s.arg2;
    s.tmp_1.arg3 = s.arg3;
    s.tmp_1.arg4 = s.arg4;
    s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    s.hn___169870 = (s.tmp_0);
    r0 = s.arg0.fields["handlers"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.hn___169870);
    s.tmp_0 = control_EventHandler_register__P165622_mk(s);
    s.tmp_0.arg0 = s.hn___169870;
    s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_EventContext_registerHandler__P165633.info = {"start":5145,"length":525,"line":158,"column":8,"endLine":171,"endColumn":9,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"registerHandler","argumentNames":["this","src","value","handler","flags"]}

function control_EventContext_registerHandler__P165633_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_EventContext_registerHandler__P165633, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  h___169847: undefined,
  unnamed538___U1: undefined,
  unnamed539___U2: undefined,
  hn___169870: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function control_EventHandler_register__P165622(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_EventHandler__C165621_VT)) failedCast(r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P169891);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = s.arg0.fields["src"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["value"];
    s.tmp_2 = r0;
    r0 = s.arg0.fields["flags"];
    s.tmp_3 = r0;
    r0 = pxsim.control.internalOnEvent(s.tmp_1, s.tmp_2, s.tmp_0, s.tmp_3);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_EventHandler_register__P165622.info = {"start":954,"length":165,"line":30,"column":8,"endLine":34,"endColumn":9,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"register","argumentNames":["this"]}

function control_EventHandler_register__P165622_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_EventHandler_register__P165622, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function inline__P169891(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    r0 = s.caps[0].fields["handler"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = lambda_1_mk(s);
    r0 = s.caps[0].fields["handler"];
    s.tmp_1.argL = r0;
    setupLambda(s.tmp_1, s.tmp_1.argL);
    s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P169891.info = {"start":1025,"length":71,"line":31,"column":58,"endLine":33,"endColumn":13,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"inline","argumentNames":[]}

function inline__P169891_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P169891, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function control_EventHandler_constructor__P165624(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_EventHandler__C165621_VT)) failedCast(r0);
    r0 = (s.arg0).fields["src"] = (s.arg1);
    r0 = (s.arg0).fields["value"] = (s.arg2);
    r0 = (s.arg0).fields["handler"] = (s.arg3);
    r0 = (s.arg0).fields["flags"] = (s.arg4);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_EventHandler_constructor__P165624.info = {"start":779,"length":165,"line":23,"column":8,"endLine":28,"endColumn":13,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"inline","argumentNames":["this","src","value","handler","flags"]}

function control_EventHandler_constructor__P165624_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_EventHandler_constructor__P165624, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function control_eventContext__P165641(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.eventContexts___165640);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = r0 = globals.eventContexts___165640;
    r0 = pxsim_Array__length(globals.eventContexts___165640);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 1);
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);
    { step = 2; continue; }
  case 1:
    r0 = undefined;
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = s.tmp_3;
    return leave(s, r0)
  default: oops()
} } }
control_eventContext__P165641.info = {"start":6479,"length":136,"line":198,"column":4,"endLine":200,"endColumn":5,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"eventContext","argumentNames":[]}

function control_eventContext__P165641_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_eventContext__P165641, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
} }





function control_pollEvents__P165570(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.now___169909 = undefined;
    s.i___169912 = undefined;
    s.ev___169918 = undefined;
  case 1:
    r0 = pxsim_Array__length(globals._pollEventQueue___165569);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 12; continue; }
    r0 = pxsim.control.millis();
    s.now___169909 = (r0);
    s.i___169912 = (0);
  case 2:
    s.tmp_1 = r0 = s.i___169912;
    r0 = pxsim_Array__length(globals._pollEventQueue___165569);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    r0 = pxsim_Array__getAt(globals._pollEventQueue___165569, s.i___169912);
    s.ev___169918 = (r0);
    s.tmp_1 = lambda_1_mk(s);
    r0 = s.ev___169918.fields["condition"];
    s.tmp_1.argL = r0;
    setupLambda(s.tmp_1, s.tmp_1.argL);
    s.pc = 13; return s.tmp_1;
  case 13:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 3:
    r0 = s.ev___169918.fields["timeOut"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 > 0);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_2;
    { step = 5; continue; }
  case 4:
    r0 = s.ev___169918.fields["start"];
    s.tmp_5 = r0;
    r0 = (s.now___169909 - s.tmp_5);
    s.tmp_4 = r0;
    r0 = s.ev___169918.fields["timeOut"];
    s.tmp_6 = r0;
    r0 = (s.tmp_4 > s.tmp_6);
  case 5:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = s.tmp_7;
  case 6:
    // jmp value (already in r0)
    s.tmp_8 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_8);
    if (!r0) { step = 9; continue; }
    r0 = s.ev___169918.fields["eid"];
    s.tmp_9 = r0;
    r0 = s.ev___169918.fields["vid"];
    s.tmp_10 = r0;
    r0 = pxsim.control.raiseEvent(s.tmp_9, s.tmp_10);
    r0 = s.ev___169918.fields["once"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.tmp_1 = helpers_arraySplice__P165412_mk(s);
    s.tmp_1.arg0 = globals._pollEventQueue___165569;
    s.tmp_1.arg1 = s.i___169912;
    s.tmp_1.arg2 = 1;
    s.pc = 14; return s.tmp_1;
  case 14:
    r0 = s.retval;
    r0 = (s.i___169912 - 1);
    s.i___169912 = (r0);
  case 7:
  case 8:
  case 9:
  case 10:
    r0 = (s.i___169912 + 1);
    s.i___169912 = (r0);
    { step = 2; continue; }
  case 11:
    s.tmp_0 = pause__P165647_mk(s);
    s.tmp_0.arg0 = 50;
    s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
    { step = 1; continue; }
  case 12:
    globals._pollEventQueue___165569 = (undefined);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_pollEvents__P165570.info = {"start":5251,"length":638,"line":176,"column":4,"endLine":193,"endColumn":5,"fileName":"pxt_modules/base/control.ts","functionName":"pollEvents","argumentNames":[]}

function control_pollEvents__P165570_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_pollEvents__P165570, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  now___169909: undefined,
  i___169912: undefined,
  ev___169918: undefined,
} }





function helpers_arraySplice__P165412(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.i___169967 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    s.i___169967 = (0);
  case 3:
    r0 = (s.i___169967 < s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array_.removeAt(s.arg0, s.arg1);
    r0 = (s.i___169967 + 1);
    s.i___169967 = (r0);
    { step = 3; continue; }
  case 4:
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
helpers_arraySplice__P165412.info = {"start":1784,"length":213,"line":77,"column":4,"endLine":84,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arraySplice","argumentNames":["arr","start","len"]}

function helpers_arraySplice__P165412_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arraySplice__P165412, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  i___169967: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function control_PollEvent_constructor__P165567(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.arg6 = (s.lambdaArgs[6]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_PollEvent__C165566_VT)) failedCast(r0);
    r0 = (s.arg0).fields["eid"] = (s.arg1);
    r0 = (s.arg0).fields["vid"] = (s.arg2);
    r0 = (s.arg0).fields["start"] = (s.arg3);
    r0 = (s.arg0).fields["timeOut"] = (s.arg4);
    r0 = (s.arg0).fields["condition"] = (s.arg5);
    r0 = (s.arg0).fields["once"] = (s.arg6);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_PollEvent_constructor__P165567.info = {"start":4872,"length":316,"line":164,"column":8,"endLine":171,"endColumn":9,"fileName":"pxt_modules/base/control.ts","functionName":"inline","argumentNames":["this","eid","vid","start","timeOut","condition","once"]}

function control_PollEvent_constructor__P165567_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_PollEvent_constructor__P165567, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
  arg6: undefined,
} }





function esp32_NinaController__sendCommand__P166020(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.n___170013 = undefined;
    s.packet___170037 = undefined;
    s.k___170041 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg2;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_Array__mk();
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.arg2 = (s.tmp_1);
    r0 = pxsim_pxtrt.mklocRef();
    s.n___170013 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.n___170013, 3);
    r0 = pxsim_pxtcore_mkAction(2, inline__P170016);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg3);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.n___170013);
    s.tmp_1 = helpers_arrayForEach__P165423_mk(s);
    s.tmp_1.arg0 = s.arg2;
    s.tmp_1.arg1 = s.tmp_0;
    s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
    s.tmp_0 = r0 = s.n___170013;
    r0 = pxsim_pxtrt_ldlocRef(s.n___170013);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
  case 3:
    r0 = pxsim_pxtrt_ldlocRef(s.n___170013);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 % 4);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_2 = r0 = s.n___170013;
    r0 = pxsim_pxtrt_ldlocRef(s.n___170013);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 1);
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_2, s.tmp_3);
    { step = 3; continue; }
  case 4:
    r0 = pxsim_pxtrt_ldlocRef(s.n___170013);
    s.tmp_0 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_0);
    s.packet___170037 = (r0);
    r0 = pxsim_pxtrt.mklocRef();
    s.k___170041 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.k___170041, 0);
    s.tmp_0 = r0 = s.k___170041;
    r0 = pxsim_pxtrt_ldlocRef(s.k___170041);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = pxsim.BufferMethods.setByte(s.packet___170037, s.tmp_2, 224);
    s.tmp_0 = r0 = s.k___170041;
    r0 = pxsim_pxtrt_ldlocRef(s.k___170041);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    s.tmp_3 = r0 = s.packet___170037;
    r0 = (s.arg1 & -129);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_3, s.tmp_2, s.tmp_4);
    s.tmp_0 = r0 = s.k___170041;
    r0 = pxsim_pxtrt_ldlocRef(s.k___170041);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    s.tmp_3 = r0 = s.packet___170037;
    r0 = pxsim_Array__length(s.arg2);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_3, s.tmp_2, s.tmp_4);
    r0 = pxsim_pxtcore_mkAction(3, inline__P170066);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg3);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.packet___170037);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.k___170041);
    s.tmp_1 = helpers_arrayForEach__P165423_mk(s);
    s.tmp_1.arg0 = s.arg2;
    s.tmp_1.arg1 = s.tmp_0;
    s.pc = 11; return s.tmp_1;
  case 11:
    r0 = s.retval;
    s.tmp_0 = r0 = s.k___170041;
    r0 = pxsim_pxtrt_ldlocRef(s.k___170041);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = pxsim.BufferMethods.setByte(s.packet___170037, s.tmp_2, 238);
  case 5:
    r0 = pxsim_pxtrt_ldlocRef(s.k___170041);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.n___170013);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_3 = r0 = s.k___170041;
    r0 = pxsim_pxtrt_ldlocRef(s.k___170041);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 + 1);
    s.tmp_4 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_3, s.tmp_4);
    r0 = pxsim.BufferMethods.setByte(s.packet___170037, s.tmp_5, 255);
    { step = 5; continue; }
  case 6:
    s.tmp_0 = net_debug__P165838_mk(s);
    r0 = pxsim.BufferMethods.toHex(s.packet___170037);
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 13);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 13:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("send cmd ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    s.tmp_3 = esp32_NinaController_waitForReady__P166019_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.pc = 14; return s.tmp_3;
  case 14:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = false;
    { step = 9; continue; }
  case 7:
  case 8:
    r0 = s.arg0.fields["_cs"];
    s.tmp_4 = r0;
    r0 = pxsim.DigitalInOutPinMethods.digitalWrite(s.tmp_4, false);
    s.tmp_0 = esp32_NinaController_spiTransfer__P166021_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.packet___170037;
    s.tmp_0.arg2 = null;
    s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
    r0 = s.arg0.fields["_cs"];
    s.tmp_0 = r0;
    r0 = pxsim.DigitalInOutPinMethods.digitalWrite(s.tmp_0, true);
    s.tmp_0 = net_debug__P165838_mk(s);
    s.tmp_0.arg0 = "send done";
    s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
    r0 = true;
  case 9:
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController__sendCommand__P166020.info = {"start":5600,"length":1289,"line":168,"column":8,"endLine":205,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"_sendCommand","argumentNames":["this","cmd","params","param_len_16"]}

function esp32_NinaController__sendCommand__P166020_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController__sendCommand__P166020, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  n___170013: undefined,
  packet___170037: undefined,
  k___170041: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function inline__P170016(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.caps[0]);
    if (!r0) { step = 1; continue; }
    r0 = 1;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    s.tmp_1 = r0 = s.caps[1];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_3 = r0;
    r0 = (1 + s.tmp_0);
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_6 = r0;
    r0 = (s.tmp_5 + s.tmp_6);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 + s.tmp_4);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_1, s.tmp_2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P170016.info = {"start":5826,"length":88,"line":173,"column":27,"endLine":175,"endColumn":13,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"inline","argumentNames":["param"]}

function inline__P170016_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P170016, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
} }





function inline__P170066(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.caps[0]);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = r0 = s.caps[2];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    s.tmp_3 = r0 = s.caps[1];
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 >> 8);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 & 255);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_3, s.tmp_2, s.tmp_4);
  case 1:
  case 2:
    s.tmp_0 = r0 = s.caps[2];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    s.tmp_3 = r0 = s.caps[1];
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 & 255);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_3, s.tmp_2, s.tmp_4);
    s.tmp_0 = r0 = s.caps[1];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.write(s.tmp_0, s.tmp_1, s.arg0);
    s.tmp_0 = r0 = s.caps[2];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P170066.info = {"start":6230,"length":246,"line":186,"column":27,"endLine":192,"endColumn":13,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"inline","argumentNames":["param"]}

function inline__P170066_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P170066, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
} }





function esp32_NinaController_lock__P166023(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
  case 1:
    r0 = s.arg0.fields["_locked"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_pxtcore_mkAction(1, inline__P170141);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.arg0);
    s.tmp_2 = pauseUntil__P165586_mk(s);
    s.tmp_2.arg0 = s.tmp_1;
    s.tmp_2.arg1 = undefined;
    s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    { step = 1; continue; }
  case 2:
    r0 = (s.arg0).fields["_locked"] = (true);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_lock__P166023.info = {"start":8425,"length":155,"line":249,"column":8,"endLine":254,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"lock","argumentNames":["this"]}

function esp32_NinaController_lock__P166023_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_lock__P166023, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function inline__P170141(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    r0 = s.caps[0].fields["_locked"];
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
inline__P170141.info = {"start":8504,"length":19,"line":251,"column":27,"endLine":251,"endColumn":46,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"inline","argumentNames":[]}

function inline__P170141_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P170141, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function net_debug__P165838(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (globals.logPriority___165836 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = console_add__P165593_mk(s);
    s.tmp_1.arg0 = 0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("net:", s.tmp_2);
    s.tmp_1.arg1 = r0;
    s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_debug__P165838.info = {"start":331,"length":153,"line":14,"column":4,"endLine":17,"endColumn":5,"fileName":"pxt_modules/net/net.ts","functionName":"debug","argumentNames":["msg"]}

function net_debug__P165838_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_debug__P165838, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function net_fail__P165839(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = net_log__P165837_mk(s);
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("error: ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = pxsim_pxtcore.throwValue(s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_fail__P165839.info = {"start":489,"length":103,"line":18,"column":4,"endLine":21,"endColumn":5,"fileName":"pxt_modules/net/net.ts","functionName":"fail","argumentNames":["reason"]}

function net_fail__P165839_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_fail__P165839, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function esp32_NinaController_ping__P166048(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.ip___170174 = undefined;
    s.resp___170182 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_3 = esp32_NinaController__C166013_v9_1_mk(s);
    s.tmp_3.arg0 = s.arg0;
    if (!checkSubtype(s.tmp_3.arg0, esp32_NinaController__C166013_VT)) failedCast(s.tmp_3.arg0);
    s.tmp_3.fn = s.tmp_3.arg0.vtable.methods.connect;
    s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = -1;
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_4 = esp32_NinaController__C166013_v7_2_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = s.arg1;
    if (!checkSubtype(s.tmp_4.arg0, esp32_NinaController__C166013_VT)) failedCast(s.tmp_4.arg0);
    s.tmp_4.fn = s.tmp_4.arg0.vtable.methods.hostbyName;
    s.pc = 5; return s.tmp_4;
  case 5:
    r0 = s.retval;
    s.ip___170174 = (r0);
    s.tmp_0 = Math_max__P165437_mk(s);
    s.tmp_0.arg0 = 0;
    s.tmp_1 = Math_min__P165438_mk(s);
    r0 = (s.arg2 | 0);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 255;
    s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.arg2 = (r0);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.ip___170174);
    s.tmp_2 = esp32_buffer1__P166012_mk(s);
    s.tmp_2.arg0 = s.arg2;
    s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    s.tmp_3 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = 62;
    s.tmp_3.arg2 = s.tmp_0;
    s.tmp_3.arg3 = 1;
    s.tmp_3.arg4 = false;
    s.tmp_3.arg5 = false;
    s.pc = 9; return s.tmp_3;
  case 9:
    r0 = s.retval;
    s.resp___170182 = (r0);
    s.tmp_1 = pins_unpackBuffer__P165494_mk(s);
    s.tmp_1.arg0 = "<H";
    r0 = pxsim_Array__getAt(s.resp___170182, 0);
    s.tmp_1.arg1 = r0;
    s.tmp_1.arg2 = 0;
    s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, 0);
  case 3:
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_ping__P166048.info = {"start":17888,"length":443,"line":520,"column":8,"endLine":531,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"ping","argumentNames":["this","dest","ttl"]}

function esp32_NinaController_ping__P166048_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_ping__P166048, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  ip___170174: undefined,
  resp___170182: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function pins_unpackBuffer__P165494(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.res___170195 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.res___170195 = (r0);
    s.tmp_0 = pins_packUnpackCore__P165490_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.res___170195;
    s.tmp_0.arg2 = s.arg1;
    s.tmp_0.arg3 = false;
    s.tmp_0.arg4 = s.arg2;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = s.res___170195;
    return leave(s, r0)
  default: oops()
} } }
pins_unpackBuffer__P165494.info = {"start":3917,"length":183,"line":119,"column":4,"endLine":123,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"unpackBuffer","argumentNames":["format","buf","offset"]}

function pins_unpackBuffer__P165494_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pins_unpackBuffer__P165494, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  res___170195: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function pins_packUnpackCore__P165490(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.isBig___170208 = undefined;
    s.idx___170209 = undefined;
    s.i___170210 = undefined;
    s.fmt___170223 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    s.isBig___170208 = (false);
    s.idx___170209 = (0);
    s.i___170210 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___170210;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 16; continue; }
    r0 = pxsim_String_.charAt(s.arg0, s.i___170210);
    s.tmp_3 = r0;
    r0 = pxsim_pxtcore.switch_eq(" ", s.tmp_3);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq("<", s.tmp_3);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq("=", s.tmp_3);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(">", s.tmp_3);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq("!", s.tmp_3);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq("x", s.tmp_3);
    if (r0) { step = 7; continue; }
    r0 = s.tmp_3;
    { step = 8; continue; }
  case 2:
  case 3:
  case 4:
    s.isBig___170208 = (false);
    { step = 15; continue; }
  case 5:
  case 6:
    s.isBig___170208 = (true);
    { step = 15; continue; }
  case 7:
    r0 = (s.arg4 + 1);
    s.arg4 = (r0);
    { step = 15; continue; }
  case 8:
    s.tmp_0 = pins_getFormat__P165489_mk(s);
    r0 = pxsim_String_.charAt(s.arg0, s.i___170210);
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.isBig___170208;
    s.pc = 17; return s.tmp_0;
  case 17:
    r0 = s.retval;
    s.fmt___170223 = (r0);
    r0 = (s.fmt___170223 === null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    s.tmp_1 = control_fail__P165560_mk(s);
    r0 = pxsim_String_.charAt(s.arg0, s.i___170210);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 19);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 19:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("Not supported format character: ", s.tmp_2);
    s.tmp_1.arg0 = r0;
    s.pc = 18; return s.tmp_1;
  case 18:
    r0 = s.retval;
    { step = 14; continue; }
  case 9:
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    if (!r0) { step = 12; continue; }
    r0 = pxsim_numops_toBoolDecr(s.arg3);
    if (!r0) { step = 10; continue; }
    s.tmp_0 = r0 = s.idx___170209;
    r0 = (s.tmp_0 + 1);
    s.idx___170209 = (r0);
    s.tmp_1 = r0 = s.arg2;
    s.tmp_2 = r0 = s.fmt___170223;
    s.tmp_3 = r0 = s.arg4;
    r0 = pxsim_Array__getAt(s.arg1, s.tmp_0);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_1, s.tmp_2, s.tmp_3, s.tmp_4);
    { step = 11; continue; }
  case 10:
    s.tmp_0 = r0 = s.arg1;
    r0 = pxsim.BufferMethods.getNumber(s.arg2, s.fmt___170223, s.arg4);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
  case 11:
  case 12:
  case 13:
    s.tmp_0 = r0 = s.arg4;
    s.tmp_2 = pins_sizeOf__P165487_mk(s);
    s.tmp_2.arg0 = s.fmt___170223;
    s.pc = 20; return s.tmp_2;
  case 20:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    s.arg4 = (r0);
  case 14:
  case 15:
    r0 = (s.i___170210 + 1);
    s.i___170210 = (r0);
    { step = 1; continue; }
  case 16:
    r0 = s.arg4;
    return leave(s, r0)
  default: oops()
} } }
pins_packUnpackCore__P165490.info = {"start":2235,"length":1205,"line":68,"column":4,"endLine":103,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"packUnpackCore","argumentNames":["format","nums","buf","isPack","off"]}

function pins_packUnpackCore__P165490_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pins_packUnpackCore__P165490, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  isBig___170208: undefined,
  idx___170209: undefined,
  i___170210: undefined,
  fmt___170223: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function pins_getFormat__P165489(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtcore.switch_eq("B", s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq("b", s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq("H", s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq("h", s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq("I", s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = pxsim_pxtcore.switch_eq("L", s.tmp_0);
    if (r0) { step = 10; continue; }
    r0 = pxsim_pxtcore.switch_eq("i", s.tmp_0);
    if (r0) { step = 13; continue; }
    r0 = pxsim_pxtcore.switch_eq("l", s.tmp_0);
    if (r0) { step = 14; continue; }
    r0 = pxsim_pxtcore.switch_eq("f", s.tmp_0);
    if (r0) { step = 17; continue; }
    r0 = pxsim_pxtcore.switch_eq("d", s.tmp_0);
    if (r0) { step = 20; continue; }
    r0 = s.tmp_0;
    { step = 23; continue; }
  case 1:
    r0 = 2;
    { step = 24; continue; }
  case 2:
    r0 = 1;
    { step = 24; continue; }
  case 3:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 4; continue; }
    r0 = 9;
    { step = 5; continue; }
  case 4:
    r0 = 4;
  case 5:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = s.tmp_1;
    { step = 24; continue; }
  case 6:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 7; continue; }
    r0 = 8;
    { step = 8; continue; }
  case 7:
    r0 = 3;
  case 8:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = s.tmp_2;
    { step = 24; continue; }
  case 9:
  case 10:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 11; continue; }
    r0 = 12;
    { step = 12; continue; }
  case 11:
    r0 = 11;
  case 12:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = s.tmp_3;
    { step = 24; continue; }
  case 13:
  case 14:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 15; continue; }
    r0 = 10;
    { step = 16; continue; }
  case 15:
    r0 = 5;
  case 16:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = s.tmp_4;
    { step = 24; continue; }
  case 17:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 18; continue; }
    r0 = 15;
    { step = 19; continue; }
  case 18:
    r0 = 13;
  case 19:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = s.tmp_5;
    { step = 24; continue; }
  case 20:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 21; continue; }
    r0 = 16;
    { step = 22; continue; }
  case 21:
    r0 = 14;
  case 22:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = s.tmp_6;
    { step = 24; continue; }
  case 23:
    r0 = null;
    { step = 24; continue; }
    r0 = undefined;
  case 24:
    return leave(s, r0)
  default: oops()
} } }
pins_getFormat__P165489.info = {"start":1301,"length":928,"line":43,"column":4,"endLine":66,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"getFormat","argumentNames":["pychar","isBig"]}

function pins_getFormat__P165489_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pins_getFormat__P165489, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Math_min__P165438(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 <= s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0;
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = s.arg1;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
Math_min__P165438.info = {"start":11419,"length":105,"line":397,"column":4,"endLine":400,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"min","argumentNames":["a","b"]}

function Math_min__P165438_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_min__P165438, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function esp32_NinaController_hostbyName__P166047(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.resp___170306 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_3 = esp32_NinaController__C166013_v9_1_mk(s);
    s.tmp_3.arg0 = s.arg0;
    if (!checkSubtype(s.tmp_3.arg0, esp32_NinaController__C166013_VT)) failedCast(s.tmp_3.arg0);
    s.tmp_3.fn = s.tmp_3.arg0.vtable.methods.connect;
    s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = undefined;
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = pxsim_Array__mk();
    s.tmp_4 = r0;
    r0 = pxsim.control.createBufferFromUTF8(s.arg1);
    s.tmp_5 = r0;
    r0 = pxsim_Array__push(s.tmp_4, s.tmp_5);
    s.tmp_6 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_6.arg0 = s.arg0;
    s.tmp_6.arg1 = 52;
    s.tmp_6.arg2 = s.tmp_4;
    s.tmp_6.arg3 = 1;
    s.tmp_6.arg4 = false;
    s.tmp_6.arg5 = false;
    s.pc = 7; return s.tmp_6;
  case 7:
    r0 = s.retval;
    s.resp___170306 = (r0);
    r0 = pxsim_Array__getAt(s.resp___170306, 0);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_2, 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_3 = net_fail__P165839_mk(s);
    s.tmp_3.arg0 = "failed to request hostname";
    s.pc = 8; return s.tmp_3;
  case 8:
    r0 = s.retval;
  case 3:
  case 4:
    s.tmp_0 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 53;
    s.tmp_0.arg2 = undefined;
    s.tmp_0.arg3 = 1;
    s.tmp_0.arg4 = false;
    s.tmp_0.arg5 = false;
    s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    s.resp___170306 = (r0);
    r0 = pxsim_Array__getAt(s.resp___170306, 0);
  case 5:
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_hostbyName__P166047.info = {"start":17304,"length":442,"line":504,"column":8,"endLine":515,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"hostbyName","argumentNames":["this","hostname"]}

function esp32_NinaController_hostbyName__P166047_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_hostbyName__P166047, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  resp___170306: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function esp32_NinaController_connect__P166045(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.wifis___170325 = undefined;
    s.ssids___170328 = undefined;
    s.networks___170332 = undefined;
    s.network___170351 = undefined;
    s.unnamed544___U4 = undefined;
    s.unnamed545___U5 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_1 = esp32_NinaController__C166013_v8_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!checkSubtype(s.tmp_1.arg0, esp32_NinaController__C166013_VT)) failedCast(s.tmp_1.arg0);
    s.tmp_1.fn = s.tmp_1.arg0.vtable.methods.isConnected;
    s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = true;
    { step = 7; continue; }
  case 1:
  case 2:
    s.tmp_2 = net_knownAccessPoints__P165853_mk(s);
    s.pc = 9; return s.tmp_2;
  case 9:
    r0 = s.retval;
    s.wifis___170325 = (r0);
    r0 = pxsim_pxtrt.keysOf(s.wifis___170325);
    s.ssids___170328 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P170334);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.ssids___170328);
    s.tmp_1 = helpers_arrayFilter__P165424_mk(s);
    s.tmp_2 = esp32_NinaController__C166013_v0_1_mk(s);
    s.tmp_2.arg0 = s.arg0;
    if (!checkSubtype(s.tmp_2.arg0, esp32_NinaController__C166013_VT)) failedCast(s.tmp_2.arg0);
    s.tmp_2.fn = s.tmp_2.arg0.vtable.methods.scanNetworks;
    s.pc = 11; return s.tmp_2;
  case 11:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
    s.networks___170332 = (r0);
    s.network___170351 = (undefined);
    s.unnamed544___U4 = (s.networks___170332);
    s.unnamed545___U5 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed545___U5;
    r0 = pxsim_Array__length(s.unnamed544___U4);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array__getAt(s.unnamed544___U4, s.unnamed545___U5);
    s.network___170351 = (r0);
    s.tmp_4 = esp32_NinaController_connectAP__P166046_mk(s);
    s.tmp_4.arg0 = s.arg0;
    r0 = s.network___170351.fields["ssid"];
    s.tmp_4.arg1 = r0;
    r0 = s.network___170351.fields["ssid"];
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.wifis___170325, s.tmp_5);
    s.tmp_4.arg2 = r0;
    s.pc = 12; return s.tmp_4;
  case 12:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == 3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 4; continue; }
    r0 = true;
    { step = 7; continue; }
  case 4:
  case 5:
    r0 = (s.unnamed545___U5 + 1);
    s.unnamed545___U5 = (r0);
    { step = 3; continue; }
  case 6:
    s.unnamed544___U4 = (undefined);
    s.tmp_6 = net_log__P165837_mk(s);
    s.tmp_6.arg0 = "connection failed";
    s.pc = 13; return s.tmp_6;
  case 13:
    r0 = s.retval;
    r0 = false;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_connect__P166045.info = {"start":15465,"length":629,"line":448,"column":8,"endLine":464,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"connect","argumentNames":["this"]}

function esp32_NinaController_connect__P166045_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_connect__P166045, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  wifis___170325: undefined,
  ssids___170328: undefined,
  networks___170332: undefined,
  network___170351: undefined,
  unnamed544___U4: undefined,
  unnamed545___U5: undefined,
  arg0: undefined,
} }





function inline__P170334(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["ssid"];
    s.tmp_1 = r0;
    r0 = pxsim_Array_.indexOf(s.caps[0], s.tmp_1, undefined);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 > -1);
    return leave(s, r0)
  default: oops()
} } }
inline__P170334.info = {"start":15711,"length":43,"line":454,"column":24,"endLine":454,"endColumn":67,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"inline","argumentNames":["network"]}

function inline__P170334_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P170334, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function esp32_NinaController_connectAP__P166046(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.stat___170377 = undefined;
    s.____170378 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_0 = net_log__P165837_mk(s);
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 13);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 13:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("connect to ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = esp32_NinaController_wifiSetPassphrase__P166033_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.pc = 14; return s.tmp_0;
  case 14:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    s.tmp_0 = esp32_NinaController_wifiSetNetwork__P166032_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
  case 2:
    s.____170378 = (0);
  case 3:
    r0 = (s.____170378 < 10);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_1 = esp32_NinaController_status__P166026_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.pc = 16; return s.tmp_1;
  case 16:
    r0 = s.retval;
    s.stat___170377 = (r0);
    r0 = (s.stat___170377 == 3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = (s.arg0).fields["wasConnected"] = (true);
    s.tmp_0 = net_log__P165837_mk(s);
    s.tmp_0.arg0 = "connected";
    s.pc = 17; return s.tmp_0;
  case 17:
    r0 = s.retval;
    r0 = s.stat___170377;
    { step = 11; continue; }
  case 4:
  case 5:
    s.tmp_0 = pause__P165647_mk(s);
    s.tmp_0.arg0 = 1000;
    s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
    r0 = (s.____170378 + 1);
    s.____170378 = (r0);
    { step = 3; continue; }
  case 6:
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, 4);
    r0 = pxsim_Array__push(s.tmp_0, 5);
    r0 = pxsim_Array__push(s.tmp_0, 6);
    r0 = pxsim_Array_.indexOf(s.tmp_0, s.stat___170377, undefined);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >= 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 7; continue; }
    s.tmp_3 = net_log__P165837_mk(s);
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 20);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 20:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat("failed to connect to \"", s.tmp_7);
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_6, "\" (");
    s.tmp_5 = r0;
    if ((s.stat___170377) && (s.stat___170377).vtable) {
    setupResume(s, 21);
    pxsim_String__stringConv(s.stat___170377);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.stat___170377) + ""; }
  case 21:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_8);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, ")");
    s.tmp_3.arg0 = r0;
    s.pc = 19; return s.tmp_3;
  case 19:
    r0 = s.retval;
  case 7:
  case 8:
    r0 = (s.stat___170377 == 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    s.tmp_1 = net_log__P165837_mk(s);
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 23);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 23:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat("no such ssid: \"", s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, "\"");
    s.tmp_1.arg0 = r0;
    s.pc = 22; return s.tmp_1;
  case 22:
    r0 = s.retval;
  case 9:
  case 10:
    r0 = s.stat___170377;
  case 11:
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_connectAP__P166046.info = {"start":16255,"length":932,"line":470,"column":8,"endLine":498,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"connectAP","argumentNames":["this","ssid","password"]}

function esp32_NinaController_connectAP__P166046_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_connectAP__P166046, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  stat___170377: undefined,
  ____170378: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function esp32_NinaController_status__P166026(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.resp___170429 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_0 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 32;
    s.tmp_0.arg2 = undefined;
    s.tmp_0.arg3 = 1;
    s.tmp_0.arg4 = false;
    s.tmp_0.arg5 = false;
    s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.resp___170429 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.resp___170429);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 255;
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = net_debug__P165838_mk(s);
    r0 = pxsim_Array__getAt(s.resp___170429, 0);
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_5, 0);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat("status: ", s.tmp_3);
    s.tmp_2.arg0 = r0;
    s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    r0 = pxsim_Array__getAt(s.resp___170429, 0);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_0, 0);
  case 3:
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_status__P166026.info = {"start":9124,"length":278,"line":272,"column":8,"endLine":279,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"status","argumentNames":["this"]}

function esp32_NinaController_status__P166026_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_status__P166026, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  resp___170429: undefined,
  arg0: undefined,
} }





function esp32_NinaController_wifiSetNetwork__P166032(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.ssidbuf___170447 = undefined;
    s.resp___170451 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    r0 = pxsim.control.createBufferFromUTF8(s.arg1);
    s.ssidbuf___170447 = (r0);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.ssidbuf___170447);
    s.tmp_1 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = 16;
    s.tmp_1.arg2 = s.tmp_0;
    s.tmp_1.arg3 = 1;
    s.tmp_1.arg4 = false;
    s.tmp_1.arg5 = false;
    s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.resp___170451 = (r0);
    r0 = pxsim_Array__getAt(s.resp___170451, 0);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_2, 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = net_fail__P165839_mk(s);
    s.tmp_3.arg0 = "failed to set network";
    s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_wifiSetNetwork__P166032.info = {"start":12209,"length":293,"line":355,"column":8,"endLine":362,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"wifiSetNetwork","argumentNames":["this","ssid"]}

function esp32_NinaController_wifiSetNetwork__P166032_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_wifiSetNetwork__P166032, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  ssidbuf___170447: undefined,
  resp___170451: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function esp32_NinaController_wifiSetPassphrase__P166033(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.ssidbuf___170464 = undefined;
    s.passphrasebuf___170468 = undefined;
    s.resp___170472 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    r0 = pxsim.control.createBufferFromUTF8(s.arg1);
    s.ssidbuf___170464 = (r0);
    r0 = pxsim.control.createBufferFromUTF8(s.arg2);
    s.passphrasebuf___170468 = (r0);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.ssidbuf___170464);
    r0 = pxsim_Array__push(s.tmp_0, s.passphrasebuf___170468);
    s.tmp_1 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = 17;
    s.tmp_1.arg2 = s.tmp_0;
    s.tmp_1.arg3 = 1;
    s.tmp_1.arg4 = false;
    s.tmp_1.arg5 = false;
    s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.resp___170472 = (r0);
    r0 = pxsim_Array__getAt(s.resp___170472, 0);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_2, 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = net_fail__P165839_mk(s);
    s.tmp_3.arg0 = "failed to set passphrase";
    s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_wifiSetPassphrase__P166033.info = {"start":12577,"length":416,"line":365,"column":8,"endLine":372,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"wifiSetPassphrase","argumentNames":["this","ssid","passphrase"]}

function esp32_NinaController_wifiSetPassphrase__P166033_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_wifiSetPassphrase__P166033, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  ssidbuf___170464: undefined,
  passphrasebuf___170468: undefined,
  resp___170472: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function esp32_NinaController_scanNetworks__P166031(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.____170485 = undefined;
    s.APs___170490 = undefined;
    s.ap___170494 = undefined;
    s.unnamed542___U3 = undefined;
    s.unnamed543___U4 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_0 = esp32_NinaController_startScanNetworks__P166029_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.____170485 = (0);
  case 1:
    r0 = (s.____170485 < 10);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_1 = pause__P165647_mk(s);
    s.tmp_1.arg0 = 2000;
    s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    s.tmp_0 = esp32_NinaController_getScanNetworks__P166030_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    s.APs___170490 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.APs___170490);
    if (!r0) { step = 4; continue; }
    s.ap___170494 = (undefined);
    s.unnamed542___U3 = (s.APs___170490);
    s.unnamed543___U4 = (0);
  case 2:
    s.tmp_0 = r0 = s.unnamed543___U4;
    r0 = pxsim_Array__length(s.unnamed542___U3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_Array__getAt(s.unnamed542___U3, s.unnamed543___U4);
    s.ap___170494 = (r0);
    s.tmp_2 = net_debug__P165838_mk(s);
    r0 = s.ap___170494.fields["ssid"];
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 12);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 12:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("  ", s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, " => RSSI ");
    s.tmp_3 = r0;
    r0 = s.ap___170494.fields["rssi"];
    s.tmp_8 = r0;
    if ((s.tmp_8) && (s.tmp_8).vtable) {
    setupResume(s, 13);
    pxsim_String__stringConv(s.tmp_8);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_8) + ""; }
  case 13:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_7);
    s.tmp_2.arg0 = r0;
    s.pc = 11; return s.tmp_2;
  case 11:
    r0 = s.retval;
    r0 = (s.unnamed543___U4 + 1);
    s.unnamed543___U4 = (r0);
    { step = 2; continue; }
  case 3:
    s.unnamed542___U3 = (undefined);
    r0 = s.APs___170490;
    { step = 7; continue; }
  case 4:
  case 5:
    r0 = (s.____170485 + 1);
    s.____170485 = (r0);
    { step = 1; continue; }
  case 6:
    r0 = null;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_scanNetworks__P166031.info = {"start":11619,"length":507,"line":337,"column":8,"endLine":352,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"scanNetworks","argumentNames":["this"]}

function esp32_NinaController_scanNetworks__P166031_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_scanNetworks__P166031, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  ____170485: undefined,
  APs___170490: undefined,
  ap___170494: undefined,
  unnamed542___U3: undefined,
  unnamed543___U4: undefined,
  arg0: undefined,
} }





function esp32_NinaController_getScanNetworks__P166030(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.names___170515 = undefined;
    s.APs___170520 = undefined;
    s.i___170522 = undefined;
    s.name___170524 = undefined;
    s.unnamed540___U4 = undefined;
    s.unnamed541___U5 = undefined;
    s.a_p___170526 = undefined;
    s.rssi___170532 = undefined;
    s.encr___170544 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_0 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 39;
    s.tmp_0.arg2 = undefined;
    s.tmp_0.arg3 = undefined;
    s.tmp_0.arg4 = false;
    s.tmp_0.arg5 = false;
    s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.names___170515 = (r0);
    r0 = pxsim_Array__mk();
    s.APs___170520 = (r0);
    s.i___170522 = (0);
    s.name___170524 = (undefined);
    s.unnamed540___U4 = (s.names___170515);
    s.unnamed541___U5 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed541___U5;
    r0 = pxsim_Array__length(s.unnamed540___U4);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed540___U4, s.unnamed541___U5);
    s.name___170524 = (r0);
    r0 = pxsim_pxtcore_mkClassInstance(net_AccessPoint__C165841_VT);
    s.tmp_2 = r0;
    s.tmp_3 = net_AccessPoint_constructor__P165842_mk(s);
    s.tmp_3.arg0 = s.tmp_2;
    r0 = pxsim.BufferMethods.toString(s.name___170524);
    s.tmp_3.arg1 = r0;
    s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
    s.a_p___170526 = (s.tmp_2);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    s.tmp_2 = esp32_buffer1__P166012_mk(s);
    s.tmp_2.arg0 = s.i___170522;
    s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    s.tmp_4 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 50;
    s.tmp_4.arg2 = s.tmp_0;
    s.tmp_4.arg3 = 1;
    s.tmp_4.arg4 = false;
    s.tmp_4.arg5 = false;
    s.pc = 6; return s.tmp_4;
  case 6:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_Array__getAt(s.tmp_3, 0);
    s.rssi___170532 = (r0);
    s.tmp_0 = r0 = s.a_p___170526;
    s.tmp_3 = pins_unpackBuffer__P165494_mk(s);
    s.tmp_3.arg0 = "<i";
    s.tmp_3.arg1 = s.rssi___170532;
    s.tmp_3.arg2 = 0;
    s.pc = 7; return s.tmp_3;
  case 7:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_Array__getAt(s.tmp_2, 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["rssi"] = (s.tmp_1);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    s.tmp_2 = esp32_buffer1__P166012_mk(s);
    s.tmp_2.arg0 = 1;
    s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    s.tmp_4 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 51;
    s.tmp_4.arg2 = s.tmp_0;
    s.tmp_4.arg3 = 1;
    s.tmp_4.arg4 = false;
    s.tmp_4.arg5 = false;
    s.pc = 9; return s.tmp_4;
  case 9:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_Array__getAt(s.tmp_3, 0);
    s.encr___170544 = (r0);
    s.tmp_0 = r0 = s.a_p___170526;
    r0 = pxsim.BufferMethods.getByte(s.encr___170544, 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["encryption"] = (s.tmp_1);
    r0 = pxsim_Array__push(s.APs___170520, s.a_p___170526);
    r0 = (s.i___170522 + 1);
    s.i___170522 = (r0);
    r0 = (s.unnamed541___U5 + 1);
    s.unnamed541___U5 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed540___U4 = (undefined);
    r0 = s.APs___170520;
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_getScanNetworks__P166030.info = {"start":10658,"length":751,"line":315,"column":8,"endLine":331,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"getScanNetworks","argumentNames":["this"]}

function esp32_NinaController_getScanNetworks__P166030_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_getScanNetworks__P166030, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  names___170515: undefined,
  APs___170520: undefined,
  i___170522: undefined,
  name___170524: undefined,
  unnamed540___U4: undefined,
  unnamed541___U5: undefined,
  a_p___170526: undefined,
  rssi___170532: undefined,
  encr___170544: undefined,
  arg0: undefined,
} }





function net_AccessPoint_constructor__P165842(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_AccessPoint__C165841_VT)) failedCast(r0);
    r0 = (s.arg0).fields["ssid"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_AccessPoint_constructor__P165842.info = {"start":774,"length":36,"line":30,"column":8,"endLine":30,"endColumn":44,"fileName":"pxt_modules/net/net.ts","functionName":"inline","argumentNames":["this","ssid"]}

function net_AccessPoint_constructor__P165842_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_AccessPoint_constructor__P165842, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function esp32_NinaController_startScanNetworks__P166029(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.resp___170563 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_0 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 54;
    s.tmp_0.arg2 = undefined;
    s.tmp_0.arg3 = 1;
    s.tmp_0.arg4 = false;
    s.tmp_0.arg5 = false;
    s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.resp___170563 = (r0);
    r0 = pxsim_Array__getAt(s.resp___170563, 0);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_2, 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = net_fail__P165839_mk(s);
    s.tmp_3.arg0 = "failed to start AP scan";
    s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_startScanNetworks__P166029.info = {"start":10273,"length":220,"line":304,"column":8,"endLine":310,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"startScanNetworks","argumentNames":["this"]}

function esp32_NinaController_startScanNetworks__P166029_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_startScanNetworks__P166029, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  resp___170563: undefined,
  arg0: undefined,
} }





function helpers_arrayFilter__P165424(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.res___170574 = undefined;
    s.len___170576 = undefined;
    s.i___170579 = undefined;
    s.v___170584 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.res___170574 = (r0);
    r0 = pxsim_Array__length(s.arg0);
    s.len___170576 = (r0);
    s.i___170579 = (0);
  case 1:
    r0 = (s.i___170579 < s.len___170576);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.arg0, s.i___170579);
    s.v___170584 = (r0);
    s.tmp_1 = lambda_3_mk(s);
    s.tmp_1.argL = s.arg1;
    s.tmp_1.arg0 = s.v___170584;
    s.tmp_1.arg1 = s.i___170579;
    setupLambda(s.tmp_1, s.tmp_1.argL);
    s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__push(s.res___170574, s.v___170584);
  case 2:
  case 3:
    r0 = (s.i___170579 + 1);
    s.i___170579 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = s.res___170574;
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayFilter__P165424.info = {"start":5837,"length":317,"line":201,"column":4,"endLine":209,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arrayFilter","argumentNames":["arr","callbackfn"]}

function helpers_arrayFilter__P165424_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayFilter__P165424, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  res___170574: undefined,
  len___170576: undefined,
  i___170579: undefined,
  v___170584: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function net_knownAccessPoints__P165853(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.tmp_1 = settings_SecretStore_readSecret__P165785_mk(s);
    s.tmp_1.arg0 = globals.deviceSecrets___165790;
    s.tmp_1.arg1 = globals.AP_SECRETS_KEY___165852;
    s.tmp_1.arg2 = false;
    s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_pxtrt.mkMap();
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = s.tmp_2;
    return leave(s, r0)
  default: oops()
} } }
net_knownAccessPoints__P165853.info = {"start":3044,"length":126,"line":107,"column":4,"endLine":109,"endColumn":5,"fileName":"pxt_modules/net/net.ts","functionName":"knownAccessPoints","argumentNames":[]}

function net_knownAccessPoints__P165853_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_knownAccessPoints__P165853, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function esp32_NinaController_isConnected__P166043(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_1 = esp32_NinaController_status__P166026_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == 3);
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_isConnected__P166043.info = {"start":15176,"length":85,"line":437,"column":8,"endLine":439,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"isConnected","argumentNames":["this"]}

function esp32_NinaController_isConnected__P166043_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_isConnected__P166043, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function net_Controller_ping__P165807(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C165793_VT)) failedCast(r0);
    r0 = -1;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_ping__P165807.info = {"start":1071,"length":67,"line":38,"column":8,"endLine":38,"endColumn":75,"fileName":"pxt_modules/net/controller.ts","functionName":"ping","argumentNames":["this","dest","ttl"]}

function net_Controller_ping__P165807_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_ping__P165807, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function net_Controller_connect__P165804(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C165793_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_connect__P165804.info = {"start":939,"length":19,"line":35,"column":8,"endLine":35,"endColumn":27,"fileName":"pxt_modules/net/controller.ts","functionName":"connect","argumentNames":["this"]}

function net_Controller_connect__P165804_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_connect__P165804, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function net_ControllerSocket_close__P165832(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C165821_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_closed"] = (true);
    s.tmp_0 = net_Controller__C165793_v6_2_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["_socknum"];
    s.tmp_0.arg1 = r0;
    if (!checkSubtype(s.tmp_0.arg0, net_Controller__C165793_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.socketClose;
    s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = s.arg0.fields["_closeHandler"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = lambda_1_mk(s);
    r0 = s.arg0.fields["_closeHandler"];
    s.tmp_1.argL = r0;
    setupLambda(s.tmp_1, s.tmp_1.argL);
    s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_close__P165832.info = {"start":6123,"length":188,"line":160,"column":8,"endLine":165,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"close","argumentNames":["this"]}

function net_ControllerSocket_close__P165832_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_close__P165832, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function net_Controller_socketClose__P165800(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C165793_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_socketClose__P165800.info = {"start":678,"length":56,"line":27,"column":8,"endLine":28,"endColumn":9,"fileName":"pxt_modules/net/controller.ts","functionName":"socketClose","argumentNames":["this","socket_num"]}

function net_Controller_socketClose__P165800_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_socketClose__P165800, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function net_ControllerSocket_onMessage__P165828(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C165821_VT)) failedCast(r0);
    r0 = s.arg0.fields["_messageHandler"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkAction(1, inline__P170642);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_2, 0, s.arg0);
    r0 = pxsim.control.runInParallel(s.tmp_2);
  case 1:
  case 2:
    s.tmp_0 = r0 = s.arg1;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = null;
  case 4:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = (s.arg0).fields["_messageHandler"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_onMessage__P165828.info = {"start":2242,"length":609,"line":67,"column":8,"endLine":82,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"onMessage","argumentNames":["this","handler"]}

function net_ControllerSocket_onMessage__P165828_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_onMessage__P165828, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P170642(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.buf___170647 = undefined;
  case 1:
    r0 = s.caps[0].fields["_closed"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_3 = net_ControllerSocket_read__P165830_mk(s);
    s.tmp_3.arg0 = s.caps[0];
    s.tmp_3.arg1 = 0;
    s.pc = 7; return s.tmp_3;
  case 7:
    r0 = s.retval;
    s.buf___170647 = (r0);
    r0 = pxsim.BufferMethods.length(s.buf___170647);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = s.caps[0].fields["_messageHandler"];
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 2; continue; }
    s.tmp_2 = lambda_2_mk(s);
    r0 = s.caps[0].fields["_messageHandler"];
    s.tmp_2.argL = r0;
    s.tmp_2.arg0 = s.buf___170647;
    setupLambda(s.tmp_2, s.tmp_2.argL);
    s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
  case 2:
  case 3:
    { step = 5; continue; }
  case 4:
    s.tmp_0 = pause__P165647_mk(s);
    s.tmp_0.arg0 = 200;
    s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
  case 5:
    { step = 1; continue; }
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P170642.info = {"start":2385,"length":389,"line":69,"column":38,"endLine":79,"endColumn":17,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"inline","argumentNames":[]}

function inline__P170642_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P170642, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  buf___170647: undefined,
} }





function net_ControllerSocket_read__P165830(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.avail___170670 = undefined;
    s.ret___170690 = undefined;
    s.stamp___170698 = undefined;
    s.to_read___170700 = undefined;
    s.received___170706 = undefined;
    s.avail___170711 = undefined;
    s.recv___170722 = undefined;
    s.ret___170760 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C165821_VT)) failedCast(r0);
    r0 = (s.arg1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.arg0.fields["_buffer"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 == 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    s.tmp_4 = Math_min__P165438_mk(s);
    s.tmp_5 = net_Controller__C165793_v4_2_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_5.arg0 = r0;
    r0 = s.arg0.fields["_socknum"];
    s.tmp_5.arg1 = r0;
    if (!checkSubtype(s.tmp_5.arg0, net_Controller__C165793_VT)) failedCast(s.tmp_5.arg0);
    s.tmp_5.fn = s.tmp_5.arg0.vtable.methods.socketAvailable;
    s.pc = 19; return s.tmp_5;
  case 19:
    r0 = s.retval;
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = 4000;
    s.pc = 18; return s.tmp_4;
  case 18:
    r0 = s.retval;
    s.avail___170670 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.avail___170670);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = helpers_bufferConcat__P165500_mk(s);
    r0 = s.arg0.fields["_buffer"];
    s.tmp_2.arg0 = r0;
    s.tmp_3 = net_Controller__C165793_v5_3_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_3.arg0 = r0;
    r0 = s.arg0.fields["_socknum"];
    s.tmp_3.arg1 = r0;
    s.tmp_3.arg2 = s.avail___170670;
    if (!checkSubtype(s.tmp_3.arg0, net_Controller__C165793_VT)) failedCast(s.tmp_3.arg0);
    s.tmp_3.fn = s.tmp_3.arg0.vtable.methods.socketRead;
    s.pc = 21; return s.tmp_3;
  case 21:
    r0 = s.retval;
    s.tmp_2.arg1 = r0;
    s.pc = 20; return s.tmp_2;
  case 20:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_buffer"] = (s.tmp_1);
  case 1:
  case 2:
  case 3:
  case 4:
    r0 = s.arg0.fields["_buffer"];
    s.ret___170690 = (r0);
    r0 = (s.arg0).fields["_buffer"] = (_hex170696);
    r0 = s.ret___170690;
    { step = 17; continue; }
  case 5:
  case 6:
    r0 = pxsim.control.millis();
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 1000);
    s.stamp___170698 = (r0);
    s.tmp_0 = r0 = s.arg1;
    r0 = s.arg0.fields["_buffer"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 - s.tmp_1);
    s.to_read___170700 = (r0);
    r0 = pxsim_Array__mk();
    s.received___170706 = (r0);
  case 7:
    r0 = (s.to_read___170700 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    s.tmp_1 = Math_min__P165438_mk(s);
    s.tmp_2 = net_Controller__C165793_v4_2_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_2.arg0 = r0;
    r0 = s.arg0.fields["_socknum"];
    s.tmp_2.arg1 = r0;
    if (!checkSubtype(s.tmp_2.arg0, net_Controller__C165793_VT)) failedCast(s.tmp_2.arg0);
    s.tmp_2.fn = s.tmp_2.arg0.vtable.methods.socketAvailable;
    s.pc = 23; return s.tmp_2;
  case 23:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 4000;
    s.pc = 22; return s.tmp_1;
  case 22:
    r0 = s.retval;
    s.avail___170711 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.avail___170711);
    if (!r0) { step = 8; continue; }
    r0 = pxsim.control.millis();
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 1000);
    s.stamp___170698 = (r0);
    s.tmp_0 = net_Controller__C165793_v5_3_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["_socknum"];
    s.tmp_0.arg1 = r0;
    s.tmp_1 = Math_min__P165438_mk(s);
    s.tmp_1.arg0 = s.to_read___170700;
    s.tmp_1.arg1 = s.avail___170711;
    s.pc = 25; return s.tmp_1;
  case 25:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    if (!checkSubtype(s.tmp_0.arg0, net_Controller__C165793_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.socketRead;
    s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    s.recv___170722 = (r0);
    r0 = pxsim_Array__push(s.received___170706, s.recv___170722);
    s.tmp_0 = r0 = s.to_read___170700;
    r0 = pxsim.BufferMethods.length(s.recv___170722);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 - s.tmp_1);
    s.to_read___170700 = (r0);
  case 8:
  case 9:
    r0 = s.arg0.fields["_timeout"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 10; continue; }
    r0 = s.tmp_0;
    { step = 11; continue; }
  case 10:
    r0 = pxsim.control.millis();
    s.tmp_4 = r0;
    r0 = (s.tmp_4 / 1000);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 - s.stamp___170698);
    s.tmp_2 = r0;
    r0 = s.arg0.fields["_timeout"];
    s.tmp_5 = r0;
    r0 = (s.tmp_2 > s.tmp_5);
  case 11:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 12; continue; }
    { step = 14; continue; }
  case 12:
  case 13:
    { step = 7; continue; }
  case 14:
    s.tmp_7 = helpers_arrayUnshift__P165416_mk(s);
    s.tmp_7.arg0 = s.received___170706;
    r0 = s.arg0.fields["_buffer"];
    s.tmp_7.arg1 = r0;
    s.pc = 26; return s.tmp_7;
  case 26:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = pins_concatBuffers__P165495_mk(s);
    s.tmp_2.arg0 = s.received___170706;
    s.pc = 27; return s.tmp_2;
  case 27:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_buffer"] = (s.tmp_1);
    s.ret___170760 = (null);
    r0 = s.arg0.fields["_buffer"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    r0 = s.arg0.fields["_buffer"];
    s.ret___170760 = (r0);
    r0 = (s.arg0).fields["_buffer"] = (_hex170773);
    { step = 16; continue; }
  case 15:
    r0 = s.arg0.fields["_buffer"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_0, 0, s.arg1);
    s.ret___170760 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["_buffer"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_2, s.arg1, -1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_buffer"] = (s.tmp_1);
  case 16:
    r0 = s.ret___170760;
  case 17:
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_read__P165830.info = {"start":4187,"length":1697,"line":108,"column":8,"endLine":152,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"read","argumentNames":["this","size"]}

function net_ControllerSocket_read__P165830_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_read__P165830, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  avail___170670: undefined,
  ret___170690: undefined,
  stamp___170698: undefined,
  to_read___170700: undefined,
  received___170706: undefined,
  avail___170711: undefined,
  recv___170722: undefined,
  ret___170760: undefined,
  arg0: undefined,
  arg1: undefined,
} }

const _hex170696 = pxsim.BufferMethods.createBufferFromHex("")
const _hex170773 = pxsim.BufferMethods.createBufferFromHex("")




function pins_concatBuffers__P165495(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.len___170790 = undefined;
    s.b___170792 = undefined;
    s.unnamed530___U2 = undefined;
    s.unnamed531___U3 = undefined;
    s.r___170799 = undefined;
    s.b___170805 = undefined;
    s.unnamed532___U6 = undefined;
    s.unnamed533___U7 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.len___170790 = (0);
    s.b___170792 = (undefined);
    s.unnamed530___U2 = (s.arg0);
    s.unnamed531___U3 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed531___U3;
    r0 = pxsim_Array__length(s.unnamed530___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed530___U2, s.unnamed531___U3);
    s.b___170792 = (r0);
    s.tmp_2 = r0 = s.len___170790;
    r0 = pxsim.BufferMethods.length(s.b___170792);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.len___170790 = (r0);
    r0 = (s.unnamed531___U3 + 1);
    s.unnamed531___U3 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed530___U2 = (undefined);
    r0 = pxsim.control.createBuffer(s.len___170790);
    s.r___170799 = (r0);
    s.len___170790 = (0);
    s.b___170805 = (undefined);
    s.unnamed532___U6 = (s.arg0);
    s.unnamed533___U7 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed533___U7;
    r0 = pxsim_Array__length(s.unnamed532___U6);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.unnamed532___U6, s.unnamed533___U7);
    s.b___170805 = (r0);
    r0 = pxsim.BufferMethods.write(s.r___170799, s.len___170790, s.b___170805);
    s.tmp_0 = r0 = s.len___170790;
    r0 = pxsim.BufferMethods.length(s.b___170805);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    s.len___170790 = (r0);
    r0 = (s.unnamed533___U7 + 1);
    s.unnamed533___U7 = (r0);
    { step = 3; continue; }
  case 4:
    s.unnamed532___U6 = (undefined);
    r0 = s.r___170799;
    return leave(s, r0)
  default: oops()
} } }
pins_concatBuffers__P165495.info = {"start":4106,"length":302,"line":125,"column":4,"endLine":136,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"concatBuffers","argumentNames":["bufs"]}

function pins_concatBuffers__P165495_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pins_concatBuffers__P165495, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  len___170790: undefined,
  b___170792: undefined,
  unnamed530___U2: undefined,
  unnamed531___U3: undefined,
  r___170799: undefined,
  b___170805: undefined,
  unnamed532___U6: undefined,
  unnamed533___U7: undefined,
  arg0: undefined,
} }





function helpers_arrayUnshift__P165416(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array_.insertAt(s.arg0, 0, s.arg1);
    r0 = pxsim_Array__length(s.arg0);
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayUnshift__P165416.info = {"start":3040,"length":126,"line":120,"column":4,"endLine":123,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arrayUnshift","argumentNames":["arr","value"]}

function helpers_arrayUnshift__P165416_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayUnshift__P165416, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function net_monotonic__P165840(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    r0 = pxsim.control.millis();
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 1000);
    return leave(s, r0)
  default: oops()
} } }
net_monotonic__P165840.info = {"start":598,"length":85,"line":23,"column":4,"endLine":25,"endColumn":5,"fileName":"pxt_modules/net/net.ts","functionName":"monotonic","argumentNames":[]}

function net_monotonic__P165840_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_monotonic__P165840, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function net_Controller_socketRead__P165799(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C165793_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_socketRead__P165799.info = {"start":567,"length":101,"line":23,"column":8,"endLine":25,"endColumn":9,"fileName":"pxt_modules/net/controller.ts","functionName":"socketRead","argumentNames":["this","socket_num","size"]}

function net_Controller_socketRead__P165799_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_socketRead__P165799, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function net_Controller_socketAvailable__P165798(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C165793_VT)) failedCast(r0);
    r0 = -1;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_socketAvailable__P165798.info = {"start":472,"length":85,"line":19,"column":8,"endLine":21,"endColumn":9,"fileName":"pxt_modules/net/controller.ts","functionName":"socketAvailable","argumentNames":["this","socket_num"]}

function net_Controller_socketAvailable__P165798_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_socketAvailable__P165798, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function net_ControllerSocket_onError__P165827(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C165821_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_errorHandler"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_onError__P165827.info = {"start":2134,"length":99,"line":64,"column":8,"endLine":66,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"onError","argumentNames":["this","handler"]}

function net_ControllerSocket_onError__P165827_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_onError__P165827, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function net_ControllerSocket_onClose__P165826(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C165821_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_closeHandler"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_onClose__P165826.info = {"start":2037,"length":88,"line":61,"column":8,"endLine":63,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"onClose","argumentNames":["this","handler"]}

function net_ControllerSocket_onClose__P165826_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_onClose__P165826, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function net_ControllerSocket_onOpen__P165825(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C165821_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_openHandler"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_onOpen__P165825.info = {"start":1942,"length":86,"line":58,"column":8,"endLine":60,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"onOpen","argumentNames":["this","handler"]}

function net_ControllerSocket_onOpen__P165825_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_onOpen__P165825, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function net_ControllerSocket_send__P165823(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C165821_VT)) failedCast(r0);
    s.tmp_0 = net_Controller__C165793_v3_3_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["_socknum"];
    s.tmp_0.arg1 = r0;
    s.tmp_1 = net_dataAsBuffer__P165865_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    if (!checkSubtype(s.tmp_0.arg0, net_Controller__C165793_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.socketWrite;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_send__P165823.info = {"start":1637,"length":171,"line":48,"column":8,"endLine":51,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"send","argumentNames":["this","data"]}

function net_ControllerSocket_send__P165823_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_send__P165823, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function net_dataAsBuffer__P165865(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = null;
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = pxsim_pxtcore.typeOf(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 == "string");
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = pxsim.control.createBufferFromUTF8(s.arg0);
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = s.arg0;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
net_dataAsBuffer__P165865.info = {"start":2530,"length":228,"line":90,"column":4,"endLine":96,"endColumn":5,"fileName":"pxt_modules/net/requests.ts","functionName":"dataAsBuffer","argumentNames":["data"]}

function net_dataAsBuffer__P165865_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_dataAsBuffer__P165865, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function net_Controller_socketWrite__P165797(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C165793_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_socketWrite__P165797.info = {"start":390,"length":72,"line":16,"column":8,"endLine":17,"endColumn":9,"fileName":"pxt_modules/net/controller.ts","functionName":"socketWrite","argumentNames":["this","socket_num","buffer"]}

function net_Controller_socketWrite__P165797_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_socketWrite__P165797, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function net_ControllerSocket_connect__P165822(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C165821_VT)) failedCast(r0);
    s.tmp_3 = net_Controller__C165793_v2_5_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_3.arg0 = r0;
    r0 = s.arg0.fields["_socknum"];
    s.tmp_3.arg1 = r0;
    r0 = s.arg0.fields["host"];
    s.tmp_3.arg2 = r0;
    r0 = s.arg0.fields["port"];
    s.tmp_3.arg3 = r0;
    r0 = s.arg0.fields["conntype"];
    s.tmp_3.arg4 = r0;
    if (!checkSubtype(s.tmp_3.arg0, net_Controller__C165793_VT)) failedCast(s.tmp_3.arg0);
    s.tmp_3.fn = s.tmp_3.arg0.vtable.methods.socketConnect;
    s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_4 = net_ControllerSocket_error__P165824_mk(s);
    s.tmp_4.arg0 = s.arg0;
    r0 = s.arg0.fields["host"];
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("failed to connect to ", s.tmp_5);
    s.tmp_4.arg1 = r0;
    s.pc = 7; return s.tmp_4;
  case 7:
    r0 = s.retval;
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = (s.arg0).fields["_buffer"] = (_hex170902);
    r0 = s.arg0.fields["_openHandler"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_1 = lambda_1_mk(s);
    r0 = s.arg0.fields["_openHandler"];
    s.tmp_1.argL = r0;
    setupLambda(s.tmp_1, s.tmp_1.argL);
    s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
  case 3:
  case 4:
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_connect__P165822.info = {"start":1244,"length":339,"line":35,"column":8,"endLine":45,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"connect","argumentNames":["this"]}

function net_ControllerSocket_connect__P165822_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_connect__P165822, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
} }

const _hex170902 = pxsim.BufferMethods.createBufferFromHex("")




function net_ControllerSocket_error__P165824(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C165821_VT)) failedCast(r0);
    r0 = s.arg0.fields["_errorHandler"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = lambda_2_mk(s);
    r0 = s.arg0.fields["_errorHandler"];
    s.tmp_1.argL = r0;
    s.tmp_1.arg0 = s.arg1;
    setupLambda(s.tmp_1, s.tmp_1.argL);
    s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_error__P165824.info = {"start":1818,"length":114,"line":53,"column":8,"endLine":56,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"error","argumentNames":["this","msg"]}

function net_ControllerSocket_error__P165824_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_error__P165824, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function net_Controller_socketConnect__P165796(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C165793_VT)) failedCast(r0);
    r0 = false;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_socketConnect__P165796.info = {"start":234,"length":146,"line":12,"column":8,"endLine":14,"endColumn":9,"fileName":"pxt_modules/net/controller.ts","functionName":"socketConnect","argumentNames":["this","socket_num","dest","port","conn_mode"]}

function net_Controller_socketConnect__P165796_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_socketConnect__P165796, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function control_EventContext_constructor__P165639(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_EventContext__C165626_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["handlers"] = (s.tmp_1);
    r0 = (s.arg0).fields["framesInSample"] = (0);
    r0 = (s.arg0).fields["timeInSample"] = (0);
    r0 = (s.arg0).fields["deltaTimeMillis"] = (0);
    r0 = (s.arg0).fields["frameWorker"] = (0);
    r0 = (s.arg0).fields["idleCallbacks"] = (undefined);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_EventContext_constructor__P165639.info = {"start":1733,"length":245,"line":58,"column":8,"endLine":65,"endColumn":9,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"inline","argumentNames":["this"]}

function control_EventContext_constructor__P165639_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_EventContext_constructor__P165639, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function esp32_NinaController_socketClose__P166057(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.resp___170952 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_0 = net_debug__P165838_mk(s);
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("*** Closing socket #", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = s.arg0.fields["_socknum_ll"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_1, 0);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_0, 0, s.arg1);
    s.tmp_0 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 46;
    r0 = s.arg0.fields["_socknum_ll"];
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = 1;
    s.tmp_0.arg4 = false;
    s.tmp_0.arg5 = false;
    s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.resp___170952 = (r0);
    r0 = pxsim_Array__getAt(s.resp___170952, 0);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_2, 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = net_fail__P165839_mk(s);
    s.tmp_3.arg0 = "failed to close socket";
    s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_socketClose__P166057.info = {"start":23566,"length":356,"line":651,"column":8,"endLine":660,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"socketClose","argumentNames":["this","socket_num"]}

function esp32_NinaController_socketClose__P166057_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_socketClose__P166057, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  resp___170952: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function esp32_NinaController_socketConnect__P166056(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.times___170978 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_0 = net_debug__P165838_mk(s);
    if ((s.arg4) && (s.arg4).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.arg4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg4) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("*** Socket connect mode ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.tmp_0 = esp32_NinaController_socketOpen__P166050_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.tmp_0.arg3 = s.arg3;
    s.tmp_0.arg4 = s.arg4;
    s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    r0 = pxsim.control.millis();
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 1000);
    s.times___170978 = (r0);
  case 1:
    r0 = pxsim.control.millis();
    s.tmp_3 = r0;
    r0 = (s.tmp_3 / 1000);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - s.times___170978);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_5 = esp32_NinaController_socket_connected__P166052_mk(s);
    s.tmp_5.arg0 = s.arg0;
    s.tmp_5.arg1 = s.arg1;
    s.pc = 9; return s.tmp_5;
  case 9:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 2; continue; }
    r0 = true;
    { step = 5; continue; }
  case 2:
  case 3:
    s.tmp_6 = pause__P165647_mk(s);
    s.tmp_6.arg0 = 10;
    s.pc = 10; return s.tmp_6;
  case 10:
    r0 = s.retval;
    { step = 1; continue; }
  case 4:
    s.tmp_0 = net_fail__P165839_mk(s);
    s.tmp_0.arg0 = "failed to establish connection";
    s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    r0 = false;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_socketConnect__P166056.info = {"start":22885,"length":597,"line":634,"column":8,"endLine":648,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"socketConnect","argumentNames":["this","socket_num","dest","port","conn_mode"]}

function esp32_NinaController_socketConnect__P166056_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_socketConnect__P166056, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  times___170978: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function esp32_NinaController_socket_connected__P166052(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_1 = esp32_NinaController_socketStatus__P166051_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.arg1;
    s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == 4);
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_socket_connected__P166052.info = {"start":20723,"length":135,"line":588,"column":8,"endLine":590,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"socket_connected","argumentNames":["this","socket_num"]}

function esp32_NinaController_socket_connected__P166052_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_socket_connected__P166052, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function esp32_NinaController_socketStatus__P166051(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.resp___171004 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    r0 = s.arg0.fields["_socknum_ll"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_1, 0);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_0, 0, s.arg1);
    s.tmp_0 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 47;
    r0 = s.arg0.fields["_socknum_ll"];
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = 1;
    s.tmp_0.arg4 = false;
    s.tmp_0.arg5 = false;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.resp___171004 = (r0);
    r0 = pxsim_Array__getAt(s.resp___171004, 0);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_0, 0);
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_socketStatus__P166051.info = {"start":20388,"length":233,"line":581,"column":8,"endLine":585,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"socketStatus","argumentNames":["this","socket_num"]}

function esp32_NinaController_socketStatus__P166051_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_socketStatus__P166051, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  resp___171004: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function esp32_NinaController_socketOpen__P166050(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.port_param___171035 = undefined;
    s.resp___171039 = undefined;
    s.dest2___171043 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    r0 = s.arg0.fields["_socknum_ll"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_1, 0);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_0, 0, s.arg1);
    s.tmp_0 = net_debug__P165838_mk(s);
    if ((s.arg2) && (s.arg2).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.arg2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg2) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("*** Open socket: ", s.tmp_5);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, ":");
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_1 = r0;
    if ((s.arg3) && (s.arg3).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.arg3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg3) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_6);
    s.tmp_0.arg0 = r0;
    s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg3);
    s.tmp_1 = pins_packBuffer__P165492_mk(s);
    s.tmp_1.arg0 = ">H";
    s.tmp_1.arg1 = s.tmp_0;
    s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
    s.port_param___171035 = (r0);
    r0 = pxsim_pxtcore.typeOf(s.arg2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == "string");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.control.createBufferFromUTF8(s.arg2);
    s.dest2___171043 = (r0);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.dest2___171043);
    r0 = pxsim_Array__push(s.tmp_0, _hex171053);
    r0 = pxsim_Array__push(s.tmp_0, s.port_param___171035);
    r0 = s.arg0.fields["_socknum_ll"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__getAt(s.tmp_2, 0);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    s.tmp_4 = esp32_buffer1__P166012_mk(s);
    s.tmp_4.arg0 = s.arg4;
    s.pc = 11; return s.tmp_4;
  case 11:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_3);
    s.tmp_5 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_5.arg0 = s.arg0;
    s.tmp_5.arg1 = 45;
    s.tmp_5.arg2 = s.tmp_0;
    s.tmp_5.arg3 = 1;
    s.tmp_5.arg4 = false;
    s.tmp_5.arg5 = false;
    s.pc = 12; return s.tmp_5;
  case 12:
    r0 = s.retval;
    s.resp___171039 = (r0);
    { step = 2; continue; }
  case 1:
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg2);
    r0 = pxsim_Array__push(s.tmp_0, s.port_param___171035);
    r0 = s.arg0.fields["_socknum_ll"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__getAt(s.tmp_2, 0);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    s.tmp_4 = esp32_buffer1__P166012_mk(s);
    s.tmp_4.arg0 = s.arg4;
    s.pc = 13; return s.tmp_4;
  case 13:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_3);
    s.tmp_5 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_5.arg0 = s.arg0;
    s.tmp_5.arg1 = 45;
    s.tmp_5.arg2 = s.tmp_0;
    s.tmp_5.arg3 = 1;
    s.tmp_5.arg4 = false;
    s.tmp_5.arg5 = false;
    s.pc = 14; return s.tmp_5;
  case 14:
    r0 = s.retval;
    s.resp___171039 = (r0);
  case 2:
    r0 = pxsim_Array__getAt(s.resp___171039, 0);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_2, 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_3 = net_fail__P165839_mk(s);
    s.tmp_3.arg0 = "could not connect to remote server";
    s.pc = 15; return s.tmp_3;
  case 15:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_socketOpen__P166050.info = {"start":19164,"length":948,"line":555,"column":8,"endLine":574,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"socketOpen","argumentNames":["this","socket_num","dest","port","conn_mode"]}

function esp32_NinaController_socketOpen__P166050_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_socketOpen__P166050, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  port_param___171035: undefined,
  resp___171039: undefined,
  dest2___171043: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }

const _hex171053 = pxsim.BufferMethods.createBufferFromHex("00000000")




function pins_packBuffer__P165492(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.buf___171076 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = pins_packedSize__P165491_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_0);
    s.buf___171076 = (r0);
    s.tmp_0 = pins_packUnpackCore__P165490_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.buf___171076;
    s.tmp_0.arg3 = true;
    s.tmp_0.arg4 = 0;
    s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = s.buf___171076;
    return leave(s, r0)
  default: oops()
} } }
pins_packBuffer__P165492.info = {"start":3558,"length":192,"line":109,"column":4,"endLine":113,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"packBuffer","argumentNames":["format","nums"]}

function pins_packBuffer__P165492_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pins_packBuffer__P165492, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  buf___171076: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function pins_packedSize__P165491(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = pins_packUnpackCore__P165490_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = null;
    s.tmp_0.arg2 = null;
    s.tmp_0.arg3 = true;
    s.tmp_0.arg4 = 0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
pins_packedSize__P165491.info = {"start":3446,"length":106,"line":105,"column":4,"endLine":107,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"packedSize","argumentNames":["format"]}

function pins_packedSize__P165491_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pins_packedSize__P165491, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function esp32_NinaController_socketRead__P166055(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.resp___171110 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_0 = net_debug__P165838_mk(s);
    if ((s.arg2) && (s.arg2).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg2) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat("Reading ", s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, " bytes from ESP socket with status ");
    s.tmp_1 = r0;
    s.tmp_6 = esp32_NinaController_socketStatus__P166051_mk(s);
    s.tmp_6.arg0 = s.arg0;
    s.tmp_6.arg1 = s.arg1;
    s.pc = 3; return s.tmp_6;
  case 3:
    r0 = s.retval;
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_4);
    s.tmp_0.arg0 = r0;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = s.arg0.fields["_socknum_ll"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_1, 0);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_0, 0, s.arg1);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_socknum_ll"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__getAt(s.tmp_2, 0);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_3, s.arg2);
    s.tmp_5 = pins_packBuffer__P165492_mk(s);
    s.tmp_5.arg0 = "<H";
    s.tmp_5.arg1 = s.tmp_3;
    s.pc = 5; return s.tmp_5;
  case 5:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_4);
    s.tmp_6 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_6.arg0 = s.arg0;
    s.tmp_6.arg1 = 69;
    s.tmp_6.arg2 = s.tmp_0;
    s.tmp_6.arg3 = 1;
    s.tmp_6.arg4 = true;
    s.tmp_6.arg5 = true;
    s.pc = 6; return s.tmp_6;
  case 6:
    r0 = s.retval;
    s.resp___171110 = (r0);
    s.tmp_0 = net_debug__P165838_mk(s);
    r0 = pxsim_Array__getAt(s.resp___171110, 0);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.toString(s.tmp_4);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("buf >>", s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, "<<");
    s.tmp_0.arg0 = r0;
    s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    r0 = pxsim_Array__getAt(s.resp___171110, 0);
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_socketRead__P166055.info = {"start":22123,"length":483,"line":619,"column":8,"endLine":627,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"socketRead","argumentNames":["this","socket_num","size"]}

function esp32_NinaController_socketRead__P166055_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_socketRead__P166055, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  resp___171110: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function esp32_NinaController_socketAvailable__P166054(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.resp___171136 = undefined;
    s.reply___171141 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    r0 = s.arg0.fields["_socknum_ll"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_1, 0);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_0, 0, s.arg1);
    s.tmp_0 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 43;
    r0 = s.arg0.fields["_socknum_ll"];
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = 1;
    s.tmp_0.arg4 = false;
    s.tmp_0.arg5 = false;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.resp___171136 = (r0);
    s.tmp_1 = pins_unpackBuffer__P165494_mk(s);
    s.tmp_1.arg0 = "<H";
    r0 = pxsim_Array__getAt(s.resp___171136, 0);
    s.tmp_1.arg1 = r0;
    s.tmp_1.arg2 = 0;
    s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, 0);
    s.reply___171141 = (r0);
    s.tmp_0 = net_debug__P165838_mk(s);
    if ((s.reply___171141) && (s.reply___171141).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.reply___171141);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.reply___171141) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("ESPSocket: ", s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, " bytes available");
    s.tmp_0.arg0 = r0;
    s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = s.reply___171141;
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_socketAvailable__P166054.info = {"start":21684,"length":346,"line":610,"column":8,"endLine":616,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"socketAvailable","argumentNames":["this","socket_num"]}

function esp32_NinaController_socketAvailable__P166054_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_socketAvailable__P166054, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  resp___171136: undefined,
  reply___171141: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function esp32_NinaController_socketWrite__P166053(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    s.resp___171168 = undefined;
    s.sent___171175 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, esp32_NinaController__C166013_VT)) failedCast(r0);
    s.tmp_0 = net_debug__P165838_mk(s);
    r0 = pxsim.BufferMethods.length(s.arg2);
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("Writing:", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = s.arg0.fields["_socknum_ll"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_1, 0);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_0, 0, s.arg1);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_socknum_ll"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__getAt(s.tmp_2, 0);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    r0 = pxsim_Array__push(s.tmp_0, s.arg2);
    s.tmp_3 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = 68;
    s.tmp_3.arg2 = s.tmp_0;
    s.tmp_3.arg3 = 1;
    s.tmp_3.arg4 = true;
    s.tmp_3.arg5 = false;
    s.pc = 7; return s.tmp_3;
  case 7:
    r0 = s.retval;
    s.resp___171168 = (r0);
    r0 = pxsim_Array__getAt(s.resp___171168, 0);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, 4, 0);
    s.sent___171175 = (r0);
    s.tmp_1 = r0 = s.sent___171175;
    r0 = pxsim.BufferMethods.length(s.arg2);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 != s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = net_fail__P165839_mk(s);
    r0 = pxsim.BufferMethods.length(s.arg2);
    s.tmp_8 = r0;
    if ((s.tmp_8) && (s.tmp_8).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.tmp_8);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_8) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat("failed to send ", s.tmp_7);
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_6, " bytes (sent ");
    s.tmp_5 = r0;
    if ((s.sent___171175) && (s.sent___171175).vtable) {
    setupResume(s, 10);
    pxsim_String__stringConv(s.sent___171175);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.sent___171175) + ""; }
  case 10:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_9);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, ")");
    s.tmp_3.arg0 = r0;
    s.pc = 8; return s.tmp_3;
  case 8:
    r0 = s.retval;
  case 1:
  case 2:
    s.tmp_0 = esp32_NinaController_sendCommandGetResponse__P166025_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 42;
    r0 = s.arg0.fields["_socknum_ll"];
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = 1;
    s.tmp_0.arg4 = false;
    s.tmp_0.arg5 = false;
    s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    s.resp___171168 = (r0);
    r0 = pxsim_Array__getAt(s.resp___171168, 0);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_2, 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_3 = net_fail__P165839_mk(s);
    s.tmp_3.arg0 = "failed to verify data sent";
    s.pc = 12; return s.tmp_3;
  case 12:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
esp32_NinaController_socketWrite__P166053.info = {"start":20922,"length":675,"line":593,"column":8,"endLine":607,"endColumn":9,"fileName":"pxt_modules/esp32/ninacontroller.ts","functionName":"socketWrite","argumentNames":["this","socket_num","buffer"]}

function esp32_NinaController_socketWrite__P166053_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: esp32_NinaController_socketWrite__P166053, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  resp___171168: undefined,
  sent___171175: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function net_Controller_hostbyName__P165801(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C165793_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_hostbyName__P165801.info = {"start":744,"length":85,"line":30,"column":8,"endLine":32,"endColumn":9,"fileName":"pxt_modules/net/controller.ts","functionName":"hostbyName","argumentNames":["this","hostname"]}

function net_Controller_hostbyName__P165801_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_hostbyName__P165801, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function net_Controller_isConnected__P165803(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C165793_VT)) failedCast(r0);
    r0 = false;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_isConnected__P165803.info = {"start":886,"length":44,"line":34,"column":8,"endLine":34,"endColumn":52,"fileName":"pxt_modules/net/controller.ts","functionName":"isConnected","argumentNames":["this"]}

function net_Controller_isConnected__P165803_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_isConnected__P165803, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function net_Controller_scanNetworks__P165794(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0)) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C165793_VT)) failedCast(r0);
    r0 = pxsim_Array__mk();
    return leave(s, r0)
  default: oops()
} } }
net_Controller_scanNetworks__P165794.info = {"start":81,"length":75,"line":4,"column":8,"endLine":6,"endColumn":9,"fileName":"pxt_modules/net/controller.ts","functionName":"scanNetworks","argumentNames":["this"]}

function net_Controller_scanNetworks__P165794_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_scanNetworks__P165794, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }




function lambda_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_connect_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function lambda_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_ping_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_displayedValue_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_type_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_topic_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_content_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_send_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function lambda_3_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }


function if_host_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_port_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_onOpen_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_onMessage_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_onError_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_onClose_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_qos_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_pid_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_pid_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_clientId_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_will_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_message_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_username_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_password_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_retain_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function net_Controller__C165793_v1_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_close_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_port_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_clientId_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_qos_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_retain_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function lambda_4_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }


function esp32_NinaController__C166013_v9_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function esp32_NinaController__C166013_v7_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function esp32_NinaController__C166013_v8_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function esp32_NinaController__C166013_v0_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function net_Controller__C165793_v6_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function net_Controller__C165793_v4_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function net_Controller__C165793_v5_3_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }


function net_Controller__C165793_v3_3_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }


function net_Controller__C165793_v2_5_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }

const net_Net__C165844_VT = mkVTable({
  name: "Net",
  numFields: 2,
  classNo: 16,
  lastSubtypeNo: 16,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "_controller": null,
    "set/_controller": null,
    "factory": null,
    "set/factory": null,
    "controller": net_Net_controller__P165845,
    "createSocket": net_Net_createSocket__P165847,
  },
});
const mqtt_EventEmitter__C166080_VT = mkVTable({
  name: "EventEmitter",
  numFields: 1,
  classNo: 17,
  lastSubtypeNo: 18,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "handlers": null,
    "set/handlers": null,
    "on": mqtt_EventEmitter_on__P166081,
    "emit": mqtt_EventEmitter_emit__P166082,
  },
});
const mqtt_Client__C166086_VT = mkVTable({
  name: "Client",
  numFields: 10,
  classNo: 18,
  lastSubtypeNo: 18,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "handlers": null,
    "set/handlers": null,
    "logPriority": null,
    "set/logPriority": null,
    "opt": null,
    "set/opt": null,
    "net": null,
    "set/net": null,
    "sct": null,
    "set/sct": null,
    "wdId": null,
    "set/wdId": null,
    "piId": null,
    "set/piId": null,
    "buf": null,
    "set/buf": null,
    "connected": null,
    "set/connected": null,
    "mqttHandlers": null,
    "set/mqttHandlers": null,
    "log": mqtt_Client_log__P166088,
    "describe": mqtt_Client_describe__P166089,
    "disconnect": mqtt_Client_disconnect__P166090,
    "connect": mqtt_Client_connect__P166091,
    "publish": mqtt_Client_publish__P166092,
    "subscribe": mqtt_Client_subscribe__P166093,
    "send": mqtt_Client_send__P166094,
    "handleMessage": mqtt_Client_handleMessage__P166095,
    "ping": mqtt_Client_ping__P166096,
    "on": mqtt_EventEmitter_on__P166081,
    "emit": mqtt_EventEmitter_emit__P166082,
  },
});
const JSON_Parser__C165603_VT = mkVTable({
  name: "Parser",
  numFields: 3,
  classNo: 19,
  lastSubtypeNo: 19,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "ptr": null,
    "set/ptr": null,
    "s": null,
    "set/s": null,
    "errorMsg": null,
    "set/errorMsg": null,
    "error": JSON_Parser_error__P165604,
    "skipWS": JSON_Parser_skipWS__P165605,
    "nextChar": JSON_Parser_nextChar__P165606,
    "doString": JSON_Parser_doString__P165607,
    "doArray": JSON_Parser_doArray__P165608,
    "doObject": JSON_Parser_doObject__P165609,
    "doNumber": JSON_Parser_doNumber__P165610,
    "checkKw": JSON_Parser_checkKw__P165611,
    "value": JSON_Parser_value__P165612,
  },
});
const mqtt_MQTTHandler__C166084_VT = mkVTable({
  name: "MQTTHandler",
  numFields: 2,
  classNo: 20,
  lastSubtypeNo: 20,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "topic": null,
    "set/topic": null,
    "handler": null,
    "set/handler": null,
  },
});
const settings_SecretStore__C165782_VT = mkVTable({
  name: "SecretStore",
  numFields: 1,
  classNo: 21,
  lastSubtypeNo: 21,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "key": null,
    "set/key": null,
    "readSecret": settings_SecretStore_readSecret__P165785,
    "readSecrets": settings_SecretStore_readSecrets__P165787,
  },
});
const control_Interval__C165577_VT = mkVTable({
  name: "Interval",
  numFields: 4,
  classNo: 22,
  lastSubtypeNo: 22,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "id": null,
    "set/id": null,
    "func": null,
    "set/func": null,
    "delay": null,
    "set/delay": null,
    "mode": null,
    "set/mode": null,
    "work": control_Interval_work__P165578,
    "cancel": control_Interval_cancel__P165579,
  },
});
const net_ControllerSocket__C165821_VT = mkVTable({
  name: "ControllerSocket",
  numFields: 12,
  classNo: 23,
  lastSubtypeNo: 23,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "_buffer": null,
    "set/_buffer": null,
    "_socknum": null,
    "set/_socknum": null,
    "_timeout": null,
    "set/_timeout": null,
    "_closed": null,
    "set/_closed": null,
    "_openHandler": null,
    "set/_openHandler": null,
    "_closeHandler": null,
    "set/_closeHandler": null,
    "_errorHandler": null,
    "set/_errorHandler": null,
    "_messageHandler": null,
    "set/_messageHandler": null,
    "controller": null,
    "set/controller": null,
    "host": null,
    "set/host": null,
    "port": null,
    "set/port": null,
    "conntype": null,
    "set/conntype": null,
    "connect": net_ControllerSocket_connect__P165822,
    "send": net_ControllerSocket_send__P165823,
    "error": net_ControllerSocket_error__P165824,
    "onOpen": net_ControllerSocket_onOpen__P165825,
    "onClose": net_ControllerSocket_onClose__P165826,
    "onError": net_ControllerSocket_onError__P165827,
    "onMessage": net_ControllerSocket_onMessage__P165828,
    "read": net_ControllerSocket_read__P165830,
    "setTimeout": net_ControllerSocket_setTimeout__P165831,
    "close": net_ControllerSocket_close__P165832,
  },
});
const net_Controller__C165793_VT = mkVTable({
  name: "Controller",
  numFields: 0,
  classNo: 24,
  lastSubtypeNo: 25,
  maxBgInstances: null,
  methods: {
    "scanNetworks": net_Controller_scanNetworks__P165794,
    "socket": net_Controller_socket__P165795,
    "socketConnect": net_Controller_socketConnect__P165796,
    "socketWrite": net_Controller_socketWrite__P165797,
    "socketAvailable": net_Controller_socketAvailable__P165798,
    "socketRead": net_Controller_socketRead__P165799,
    "socketClose": net_Controller_socketClose__P165800,
    "hostbyName": net_Controller_hostbyName__P165801,
    "isConnected": net_Controller_isConnected__P165803,
    "connect": net_Controller_connect__P165804,
    "ping": net_Controller_ping__P165807,
  },
  iface: {
    "scanNetworks": net_Controller_scanNetworks__P165794,
    "socket": net_Controller_socket__P165795,
    "socketConnect": net_Controller_socketConnect__P165796,
    "socketWrite": net_Controller_socketWrite__P165797,
    "socketAvailable": net_Controller_socketAvailable__P165798,
    "socketRead": net_Controller_socketRead__P165799,
    "socketClose": net_Controller_socketClose__P165800,
    "hostbyName": net_Controller_hostbyName__P165801,
    "isConnected": net_Controller_isConnected__P165803,
    "connect": net_Controller_connect__P165804,
    "ping": net_Controller_ping__P165807,
  },
});
const JSON_Stringifier__C165613_VT = mkVTable({
  name: "Stringifier",
  numFields: 3,
  classNo: 26,
  lastSubtypeNo: 26,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "currIndent": null,
    "set/currIndent": null,
    "indentStep": null,
    "set/indentStep": null,
    "indent": null,
    "set/indent": null,
    "doString": JSON_Stringifier_doString__P165614,
    "go": JSON_Stringifier_go__P165615,
  },
});
const esp32_NinaController__C166013_VT = mkVTable({
  name: "NinaController",
  numFields: 8,
  classNo: 25,
  lastSubtypeNo: 25,
  maxBgInstances: null,
  methods: {
    "scanNetworks": esp32_NinaController_scanNetworks__P166031,
    "socket": esp32_NinaController_socket__P166049,
    "socketConnect": esp32_NinaController_socketConnect__P166056,
    "socketWrite": esp32_NinaController_socketWrite__P166053,
    "socketAvailable": esp32_NinaController_socketAvailable__P166054,
    "socketRead": esp32_NinaController_socketRead__P166055,
    "socketClose": esp32_NinaController_socketClose__P166057,
    "hostbyName": esp32_NinaController_hostbyName__P166047,
    "isConnected": esp32_NinaController_isConnected__P166043,
    "connect": esp32_NinaController_connect__P166045,
    "ping": esp32_NinaController_ping__P166048,
  },
  iface: {
    "_socknum_ll": null,
    "set/_socknum_ll": null,
    "_locked": null,
    "set/_locked": null,
    "wasConnected": null,
    "set/wasConnected": null,
    "_spi": null,
    "set/_spi": null,
    "_cs": null,
    "set/_cs": null,
    "_busy": null,
    "set/_busy": null,
    "_reset": null,
    "set/_reset": null,
    "_gpio0": null,
    "set/_gpio0": null,
    "reset": esp32_NinaController_reset__P166015,
    "readByte": esp32_NinaController_readByte__P166016,
    "checkData": esp32_NinaController_checkData__P166017,
    "waitSPIChar": esp32_NinaController_waitSPIChar__P166018,
    "waitForReady": esp32_NinaController_waitForReady__P166019,
    "_sendCommand": esp32_NinaController__sendCommand__P166020,
    "spiTransfer": esp32_NinaController_spiTransfer__P166021,
    "_waitResponseCmd": esp32_NinaController__waitResponseCmd__P166022,
    "lock": esp32_NinaController_lock__P166023,
    "unlock": esp32_NinaController_unlock__P166024,
    "sendCommandGetResponse": esp32_NinaController_sendCommandGetResponse__P166025,
    "status": esp32_NinaController_status__P166026,
    "startScanNetworks": esp32_NinaController_startScanNetworks__P166029,
    "getScanNetworks": esp32_NinaController_getScanNetworks__P166030,
    "scanNetworks": esp32_NinaController_scanNetworks__P166031,
    "wifiSetNetwork": esp32_NinaController_wifiSetNetwork__P166032,
    "wifiSetPassphrase": esp32_NinaController_wifiSetPassphrase__P166033,
    "isConnected": esp32_NinaController_isConnected__P166043,
    "connect": esp32_NinaController_connect__P166045,
    "connectAP": esp32_NinaController_connectAP__P166046,
    "hostbyName": esp32_NinaController_hostbyName__P166047,
    "ping": esp32_NinaController_ping__P166048,
    "socket": esp32_NinaController_socket__P166049,
    "socketOpen": esp32_NinaController_socketOpen__P166050,
    "socketStatus": esp32_NinaController_socketStatus__P166051,
    "socket_connected": esp32_NinaController_socket_connected__P166052,
    "socketWrite": esp32_NinaController_socketWrite__P166053,
    "socketAvailable": esp32_NinaController_socketAvailable__P166054,
    "socketRead": esp32_NinaController_socketRead__P166055,
    "socketConnect": esp32_NinaController_socketConnect__P166056,
    "socketClose": esp32_NinaController_socketClose__P166057,
  },
});
const control_PollEvent__C165566_VT = mkVTable({
  name: "PollEvent",
  numFields: 6,
  classNo: 27,
  lastSubtypeNo: 27,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "eid": null,
    "set/eid": null,
    "vid": null,
    "set/vid": null,
    "start": null,
    "set/start": null,
    "timeOut": null,
    "set/timeOut": null,
    "condition": null,
    "set/condition": null,
    "once": null,
    "set/once": null,
  },
});
const control_EventContext__C165626_VT = mkVTable({
  name: "EventContext",
  numFields: 9,
  classNo: 28,
  lastSubtypeNo: 28,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "handlers": null,
    "set/handlers": null,
    "frameCallbacks": null,
    "set/frameCallbacks": null,
    "frameWorker": null,
    "set/frameWorker": null,
    "framesInSample": null,
    "set/framesInSample": null,
    "timeInSample": null,
    "set/timeInSample": null,
    "deltaTimeMillis": null,
    "set/deltaTimeMillis": null,
    "prevTimeMillis": null,
    "set/prevTimeMillis": null,
    "idleCallbacks": null,
    "set/idleCallbacks": null,
    "runningCallbacks": null,
    "set/runningCallbacks": null,
    "registerHandler": control_EventContext_registerHandler__P165633,
  },
});
const control_EventHandler__C165621_VT = mkVTable({
  name: "EventHandler",
  numFields: 4,
  classNo: 29,
  lastSubtypeNo: 29,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "src": null,
    "set/src": null,
    "value": null,
    "set/value": null,
    "handler": null,
    "set/handler": null,
    "flags": null,
    "set/flags": null,
    "register": control_EventHandler_register__P165622,
  },
});
const net_AccessPoint__C165841_VT = mkVTable({
  name: "AccessPoint",
  numFields: 3,
  classNo: 30,
  lastSubtypeNo: 30,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "rssi": null,
    "set/rssi": null,
    "encryption": null,
    "set/encryption": null,
    "ssid": null,
    "set/ssid": null,
  },
});

const breakpoints = setupDebugger(1, ["_methodHandlers___166105","logPriority___166101","_mqttClient___166102","_messageBusId___166103","SECRETS_KEY___166098","_receiveHandler___166104"])

return _main___P165365
})
